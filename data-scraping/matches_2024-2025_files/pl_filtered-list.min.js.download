"use strict";PULSE.app.templates.nocontentlist='<li class="noContentContainer">{{ label }}</li>',PULSE.app.templates.text='<li class="media-thumbnail media-thumbnail--search {{#additionalClass}}{{additionalClass}}{{/additionalClass}}" data-widget="lazy-load-images"> <a href="{{ articleUrl }}" class="media-thumbnail__link"> <header class="media-thumbnail__header"> <div class="media-thumbnail__image-container placeholder"> <div class="js-lazy-load u-observed lazy-image-wrapper is-loaded" data-picture-in-view="true"> <div class="picture-wrapper"> <picture class="object-fit-cover-picture"> {{#imgUrl}} <source media="(max-width: 400px)" srcset="{{ imgUrl.mobile }}"> <img class="js-faded-image fade-in-on-load object-fit-cover-picture__img is-loaded media-thumbnail__image" src="{{ imgUrl.default }}" alt="{{ title }}"> {{/imgUrl}} </picture> </div> </div> </div> </header> <div class="media-thumbnail__content"> {{#subtitle}} <span class="media-thumbnail__tag">{{ subtitle }}</span> {{/subtitle}} <span class="media-thumbnail__title">{{ title }}</span> <p class="media-thumbnail__description"> {{ description }} </p> </div> </a> </li>',PULSE.app.templates.video='<li data-ui-modal="#videoPlayer" data-ui-args="{{uiArgs}}"> <article class="media-thumbnail" data-widget="lazy-load-images"> <a href="#!" class="media-thumbnail__link"> <header class="media-thumbnail__header"> <div class="media-thumbnail__image-container placeholder"> <div class="js-lazy-load u-observed lazy-image-wrapper is-loaded" data-picture-in-view="true"> <div class="picture-wrapper"> <picture class="object-fit-cover-picture"> <source media="(max-width: 400px)" srcset="{{ imgUrl.mobile }}"> <img class="js-faded-image fade-in-on-load object-fit-cover-picture__img is-loaded media-thumbnail__image" src="{{ imgUrl.default }}" alt="{{ title }}"> </picture> </div> </div> <div class="media-thumbnail__meta-tag"> <svg class="icon media-thumbnail__meta-tag-icon" aria-hidden="true"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/{{ resourceVersion }}/i/svg-output/icons.svg#icn-play"></use> </svg> {{ videoDuration }} </div> </div> </header> <div class="media-thumbnail__content"> <div class="media-thumbnail__video-tags"> {{#ccString}}<span class="closedCaption">{{ ccString }}</span>{{/ccString}} {{#avString}}<span class="audioDesc">{{avString}}</span>{{/avString}} </div> <span class="media-thumbnail__title">{{ title }}</span> </div> </a> </article> </li> ',PULSE.app.templates.manager='{{#active }} <tr class="manager manager--active"> {{/active}} {{^active}} </tr><tr class="manager"> {{/active}} <td> <a href="{{ url }}" class="manager__name">{{ displayName }}</a> </td> <td> {{^noDisplayClub}} <a href="{{ clubUrl }}" class="manager__team"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--50 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> <span class="long u-hide-mob">{{ clubName }}</span> <span class="short u-show-mob">{{ clubShortName }}</span> </a> {{/noDisplayClub}} {{#noDisplayClub}} - {{/noDisplayClub}} </td> <td class="hide-s manager__nationality u-hide-mob"> {{#nationalCode}} <span class="flag manager__flag {{ nationalCode }}"> <img class="manager__flag-icon" src="{{ flagImagePath }}"> </span> {{/nationalCode}} <span class="manager__country">{{ nationalName }}</span> </td> </tr> ',PULSE.app.templates.nodatalist='<tr><th><span class="noContentContainer">{{ label }}</span></th></tr>',PULSE.app.templates.player='<tr class="player"> <td> <a href="{{ url }}" class="player__name"><img class="img js-player-photo-container player__name-image" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ playerImage }}" alt="{{ labelFor }} {{ displayName }}">{{ displayName }}</a> </td> <td class="u-hide-mobile-lg player__position">{{ position }}</td> <td class="u-hide-mobile-lg"> <span class="player__nationality"> {{#nationalCode}} <span class="flag player__flag {{ nationalCode }}"> <img class="player__flag-icon" src="{{ flagImagePath }}"> </span> {{/nationalCode}} <span class="player__country">{{ nationalName }}</span> </span> </td> </tr> ',PULSE.app.templates.referee='{{#active }} <tr class="tableLight"> {{/active}} {{^active}} </tr><tr> {{/active}} <td><span class="managerName">{{ displayName }}</span></td> <td>{{ appearances }}</td> <td>{{ redCards }}</td> <td>{{ yellowCards }}</td> </tr> ',PULSE.app.templates.teamCard='<li class="club-card-wrapper"> <a href="{{ url }}" class="indexItem club-card club-card--{{ optaId }} {{ optaId }}"> <div class="club-card__badge"> <span class="badge badge-image-container {{containerHoverClass}}" data-widget="club-badge-image" data-size="100"> <img class="badge-image badge-image--78 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> {{#badgeHasHover}} <img class="badge-image badge-image--78 js-badge-image badge-image--with-hover" src="{{ clubBadgeHover }}" srcset="{{ clubBadgeHover }}, {{ clubBadgeRetinaHover }} 2x"> {{/badgeHasHover}} </span> </div> <div class="club-card__info"> <div class="club-card__name-container"> <h2 class="club-card__name">{{ displayName }}</h2> {{#stadiumName}} <span class="club-card__stadium">{{ stadiumName }}</span> {{/stadiumName}} </div> {{{ icnRight }}} </div> <div class="club-card__background"> {{{ brandGradientSvg }}} {{{ colouredBrandSVG }}} </div> </a> </li> ',PULSE.app.templates.teamList='<tr> <td class="team"> <a href="{{ url }}"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--50 js-badge-image" src="{{ clubBadgeMedium }}" srcset="{{ clubBadgeMedium }}, {{ clubBadgeMediumRetina }} 2x"> </span> <div class="team-index__name"> <div class="team-index__club-name">{{ displayName }}</div> <div class="team-index__stadium-name u-show-mob">{{ stadiumName }}</div> </div> <div class="team-index__arrow team-index__arrow--icon u-show-mob"> {{{ icnRight }}} </div> </a> </td> <td class="venue u-hide-mob"> <a href="{{ stadiumUrl }}"> <span class="icon__stadium venue__stadium-icon"> {{{ stadiumIcn }}} </span> <div class="team-index__stadium-name">{{ stadiumName }}</div> <span class="icon__arrow venue__arrow-icon"> {{{ icnRight }}} </span> </a> </td> </tr> ',PULSE.app.templates.clubstandings='{{#table}} <tr class="{{ rowClass }}"> <td class="pos"> {{ position }} <span class="movement {{ movement }}"></span> </td> <td class="team"> <a href="{{ url }}"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> <span class="long">{{ teamName }}</span> <span class="short">{{ teamName }}</span> </a> </td> <td>{{ overall.played }}</td> <td>{{ overall.goalsDifference}}</td> <td class="points">{{ overall.points }}</td> </tr> {{/table}} ',PULSE.app.templates.fixturelistbroadcaster="",PULSE.app.templates.fixturemodalmatch='<div class="match-fixture"> <div class="match-fixture__info"> <span class="match-fixture__date">{{ matchDate }}</span> <span class="match-fixture__league">{{ gameweek.compSeason.competition.description }}</span> </div> <a href="{{ url }}" class="match-fixture__wrapper"> <div class="match-fixture__container"> <div class="match-fixture__teams"> <span class="match-fixture__team-name"><abbr title="{{ teams.0.team.club.name }}">{{ teams.0.team.club.abbr }}</abbr></span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{#teams.0.getBadge}}50{{/teams.0.getBadge}}" srcset="{{#teams.0.getBadge}}50{{/teams.0.getBadge}}, {{#teams.0.getBadgeRetina}}50{{/teams.0.getBadgeRetina}} 2x"> </span> <span class="match-fixture__score">{{ teams.0.score }} <span>-</span>{{ teams.1.score }}</span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{#teams.1.getBadge}}50{{/teams.1.getBadge}}" srcset="{{#teams.1.getBadge}}50{{/teams.1.getBadge}}, {{#teams.1.getBadgeRetina}}50{{/teams.1.getBadgeRetina}} 2x"> </span> <span class="match-fixture__team-name"><abbr title="{{ teams.1.team.club.name }}">{{ teams.1.team.club.abbr }}</abbr></span> <span class="icn arrow-right-purple"></span> </div> </div> </a> </div> ',PULSE.app.templates.fixturemodalstandings='{{#table}} <tr> <td class="pos"> {{ position }} <span class="movement {{ movement }}"></span> </td> <td class="team"> <a href="{{ url }}"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-badge-image" src="{{#team.getBadge}}20{{/team.getBadge}}" srcset="{{#team.getBadge}}20{{/team.getBadge}}, {{#team.getBadgeRetina}}20{{/team.getBadgeRetina}} 2x"> </span>{{ teamName }} </a> </td> <td>{{ overall.played }}</td> <td>{{ overall.goalsDifferenceString }}</td> <td class="points">{{ overall.points }}</td> </tr> {{/table}} ',PULSE.app.templates.fullmatchday='{{#tbc}} <div class="tbc-accordion js-tbc-accordion"> <div class="tbc-accordion__heading js-tbc-accordion-btn"> <div class="tbc-accordion__heading-content"> <time class="fixtures__date fixtures__date--long" datetime="{{date}}">{{longDate}}</time> <time class="fixtures__date fixtures__date--short" datetime="{{date}}">{{longDate}}</time> <span class="tbc-accordion__total-items">{{totalItems}}</span> </div> <span class="tbc-accordion__heading-icon"> {{#renderSVG}}chevron-down{{/renderSVG}} </span> </div> <div class="tbc-accordion__content"> {{#logoSrc}} <span class="tbc-accordion__competition-logo-container"> <img alt="{{ compDescription }}" class="tbc-accordion__competition-logo u-hide-tablet js-competition-logo {{ level }}" src="{{ logoSrc }}"> <img alt="{{ compDescription }}" class="tbc-accordion__competition-logo u-show-tablet js-competition-logo {{ level }}" src="{{ logoSmallSrc }}"> </span> {{/logoSrc}} <div data-competition-matches-list="{{date}}" class="fixtures__matches-list js-tbc-match-list"> </div> </div> </div> {{/tbc}} {{^tbc}} <div class="fixtures__date-container"> <div class="fixtures__date-content-container"> <time class="fixtures__date fixtures__date--long" datetime="{{date}}">{{longDate}}</time> <time class="fixtures__date fixtures__date--short" datetime="{{date}}">{{shortDate}}</time> {{#logoSrc}} {{^refAppointment}} <span class="fixtures__competition-logo-container"> <img alt="{{ compDescription }}" class="fixtures__competition-logo u-hide-tablet js-competition-logo {{ level }}" src="{{ logoSrc }}"> <img alt="{{ compDescription }}" class="fixtures__competition-logo u-show-tablet js-competition-logo {{ level }}" src="{{ logoSmallSrc }}"> </span> {{/refAppointment}} {{/logoSrc}} </div> <div data-competition-matches-list="{{date}}" class="fixtures__matches-list js-fixtures-matches-list"></div> </div> {{/tbc}}',PULSE.app.templates.matchitembase='{{#wrap}} <li class="match-fixture" data-home="{{#getShortName}}0{{/getShortName}}" data-away="{{#getShortName}}1{{/getShortName}}" data-competition="{{fixture.gameweek.compSeason.competition.description}}" data-venue="{{#getVenueName}}{{/getVenueName}}" data-comp-match-item="{{fixture.id}}" data-comp-match-item-ko="{{fixture.kickoff.millis}}" data-comp-match-item-status="{{fixture.status}}"> {{/wrap}} {{#hasMatchCentreUrl}} <div data-template-rendered data-href="{{matchCentreUrl}}" class="match-fixture__wrapper js-fixture {{#getClassForState}}{{fixture.status}}{{/getClassForState}}" data-matchid="{{fixture.id}}" tabindex="0"> {{/hasMatchCentreUrl}} {{^hasMatchCentreUrl}} <div data-template-rendered class="match-fixture__wrapper disabled js-fixture {{#getClassForState}}{{fixture.status}}{{/getClassForState}}"> {{/hasMatchCentreUrl}} <span class="match-fixture__container {{#showOfficials}}matchAbridged{{/showOfficials}}"> {{#live}} <span class="match-fixture__minutes"> <strong>{{#getMatchTime}}{{/getMatchTime}}</strong> </span> {{/live}} {{#abandoned}} <span class="match-fixture__minutes"> <strong></strong> </span> {{/abandoned}} <span class="match-fixture__teams {{#shootout}}has-penalties{{/shootout}}"> <span class="match-fixture__team"> <span class="match-fixture__team-name"> <span class="match-fixture__short-name">{{#getShortName}}0{{/getShortName}}</span> <span class="match-fixture__abbr">{{#getAbbr}}0{{/getAbbr}}</span> </span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{#getBadge}}0{{/getBadge}}" srcset="{{#getBadge}}0{{/getBadge}}, {{#getBadgeDoubleSize}}0{{/getBadgeDoubleSize}} 2x"> </span> </span> {{#renderTeamsDivider}}{{/renderTeamsDivider}} <span class="match-fixture__team"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{#getBadge}}1{{/getBadge}}" srcset="{{#getBadge}}1{{/getBadge}}, {{#getBadgeDoubleSize}}1{{/getBadgeDoubleSize}} 2x"> </span> <span class="match-fixture__team-name"> <span class="match-fixture__short-name">{{#getShortName}}1{{/getShortName}}</span> <span class="match-fixture__abbr">{{#getAbbr}}1{{/getAbbr}}</span> </span> </span> {{#shootout}} <span class="match-fixture__penalties"> <p>{{shootoutWinner}} {{shootoutWonLabel}} {{penScore.0}}-{{penScore.1}} {{ onPenaltiesLabel }}</p> </span> {{/shootout}} </span> {{#venue}} <span class="match-fixture__stadium-name"> <span class="match-fixture__stadium-icon"> {{{ stadiumIcn }}} </span> {{#getVenueName}}{{/getVenueName}} </span> {{/venue}} {{#showOfficials}} <div class="refereesContainer has-referees"> <span class="referees"> {{#hasOfficials}} {{#officials}} <span class="ref"><span class="refLabelMobile u-show-mobile">{{ roleShort }}: </span>{{ name.display }}</span> {{/officials}} {{/hasOfficials}} {{^hasOfficials}} <p class="referees--noOfficials">{{ noOfficials }}</p> {{/hasOfficials}} </span> {{{ icnRight }}} </div> {{/showOfficials}} {{^showOfficials}} <div class="match-fixture__end-container"> {{#isPL}} {{^hasHighlights}} <span class="match-fixture__fixture-broadcast broadcastDataContainer" data-id="{{fixture.id}}"></span> {{/hasHighlights}} {{#hasHighlights}} <div class="match-fixture__highlights"> <span class="match-fixture__highlights-icon"> {{{ icnHighlights }}} </span> <span class="match-fixture__highlights-text">{{ hasHighlightsLabel }}</span> </div> {{/hasHighlights}} {{/isPL}} {{#upcoming}} {{#isPL}} {{^showOfficials}} <span data-ui-modal="#quickviewModal" data-ui-args="{{ matchJson }}" class="global-btn global-btn--small match-fixture__quick-view js-quick-view-modal" role="button">{{ quickviewLabel }}</span> {{/showOfficials}} {{/isPL}} {{/upcoming}} </div> {{#hasMatchCentreUrl}} <span class="match-fixture__end-icon"> {{{ icnRight }}} </span> {{/hasMatchCentreUrl}} {{/showOfficials}} </span> </div> {{#wrap}} </div></li> {{/wrap}} ',PULSE.app.templates.matchitemdetails='<span class="matchDetails"> <ul class="teamEvents home"> <li> <span class="icon"><span class="icn ball-black"></span></span> <div class="info"> <span class="player"><strong>Lukaku</strong> (<strong>18</strong>)</span> <span class="assist">Ast. Deulofeu</span> </div> </li> <li> <span class="icon"><span class="icn card-red"></span></span> <span class="info"> <span class="player"><strong>Howard</strong> (<strong>23</strong>)</span> </span> </li> </ul> <ul class="teamEvents away"> <li> <span class="icon"><span class="icn ball-black"></span></span> <span class="info"> <span class="player"><strong>Diego Costa</strong> (<strong>34</strong>)</span> <span class="assist">Ast. Willian</span> </span> </li> <li> <span class="icon"><span class="icn ball-black"></span></span> <span class="info"> <span class="og">OG</span> <span class="player"><strong>Hutton</strong> (<strong>54</strong>)</span> <span class="assist">Ast. Diego Costa</span> </span> </li> </ul> </span>',PULSE.app.templates.matchlist='<ul class="matchList" data-comp-id="{{ comp.id }}"></ul> ',PULSE.app.templates.nodatafixture='<div class="noContentContainer">{{ label }}</div>',PULSE.app.templates.quickviewheader='<div class="fixtures-header"> <div class="match-info"> <a href="{{ teams.0.url }}" class="team-one"> <h4>{{ teams.0.team.club.abbr }}</h4> <span class="logo-container"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{#teams.0.getBadge}}25{{/teams.0.getBadge}}" srcset="{{#teams.0.getBadge}}25{{/teams.0.getBadge}}, {{#teams.0.Retina}}25{{/teams.0.Retina}} 2x"> </span> </span> </a> <div class="match-time">{{ kickOffTime }}</div> <a href="{{ teams.1.url }}" class="team-two"> <span class="logo-container"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{#teams.1.getBadge}}25{{/teams.1.getBadge}}" srcset="{{#teams.1.getBadge}}25{{/teams.1.getBadge}}, {{#teams.1.Retina}}25{{/teams.1.Retina}} 2x"> </span> </span> <h4>{{ teams.1.team.club.abbr }}</h4> </a> </div> </div> <div class="match-links"> <div class="match-links__item global-btn global-btn__text"> {{#groundLink}} <a href="{{ groundLink }}" class="btn" role="btn">{{ stadiumInfoLabel }}<span class="icn arrow-right"></span></a> {{/groundLink}} </div> <div class="match-links__item global-btn global-btn__text"> <a href="{{ url }}" class="btn-highlight" role="btn">{{ viewMatchLabel }}<span class="icn arrow-right"></span></a> </div> </div> <div class="past-matches"> <div class="premier-league fixtures-modal__col"> <div class="premier-league-col"> <div class="competition"> <span class="competition-image-{{ gameweek.compSeason.competition.id }}"></span> <h5>{{ standingsLabel }}</h5> </div> <div class="standings-abridged"> <div class="table"> <table class="standings-table"> <thead> <tr> <th class="pos">{{ tableLabels.pos }}</th> <th class="team">{{ tableLabels.club }}</th> <th>{{ tableLabels.pl }}</th> <th>{{ tableLabels.gd }}</th> <th>{{ tableLabels.pts }}</th> </tr> </thead> <tbody class="js-match-standings-container"> </tbody> </table> </div> </div> </div> <div class="premier-league-col"> <h5 class="previous-meetings">{{ previousMeetingsLabel }}</h5> <div class="js-match-previous-meetings-container"> {{{ loaderHtml }}} </div> </div> </div> <div class="team-one-past fixtures-modal__col"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ teams.0.clubBadge }}" srcset="{{ teams.0.clubBadge }}, {{ teams.0.clubBadgeRetina }} 2x"> </span> <h5>{{ teams.0.team.club.shortName }} - {{ previousResulsLabel }}</h5> <div class="matchTeamForm{{ teams.0.team.id}}"> {{{ loaderHtml }}} </div> </div> <div class="team-two-past fixtures-modal__col"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ teams.1.clubBadge }}" srcset="{{ teams.1.clubBadge }}, {{ teams.1.clubBadgeRetina }} 2x"> </span> <h5>{{ teams.1.team.club.shortName }} - {{ previousResulsLabel }}</h5> <div class="matchTeamForm{{ teams.1.team.id}}"> {{{ loaderHtml }}} </div> </div> </div> ',PULSE.app.templates.expandedgraphview='<div class="expandableTeam"> <a class="expandablebadge-50" href="#!"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> </a> <div class="teamInfo" href="#!"> <span class="teamName">{{name}}</span> <span class="teamPitch"><span class="icn stadium-b"></span>Goodison Park</span> </div> </div> <div class="teamPerformanceStandingsContainer"></div> <div class="expandableFixtures"> <div class="resultWidget"> Latest Result - Saturday 12 September <a href="#!" class="matchAbridged"> <span class="teamName">CRY</span> <span class="badge-25 CRY"></span> <span class="score">1 <span>-</span>2</span> <span class="badge-25 SOU"></span> <span class="teamName">SOU</span> <span class="icn arrow-right"></span> </a> </div> <div class="resultWidget"> Next Fixture - Saturday 12 September <a href="#!" class="matchAbridged"> <span class="teamName">CRY</span> <span class="badge-25 CRY"></span> <span class="score">1 <span>-</span>2</span> <span class="badge-25 SOU"></span> <span class="teamName">SOU</span> <span class="icn arrow-right"></span> </a> </div> <div class="btn-highlight" role="btn">Visit Club Page<span class="icn arrow-rightwhite"></span></div> </div> <table class="overallStats"> <thead> <tr><th>Goals Scored</th> <th>Goals C/ded</th> <th>Avg. Goals/M</th> </tr></thead> <tbody> <tr><td>{{stats.gs}}</td> <td>{{stats.gc}}</td> <td>{{stats.ag}}</td> </tr></tbody> <thead> <tr><th>Home Win %</th> <th>Away Win %</th> <th>Overall Win %</th> </tr></thead> <tbody> <tr><td>{{stats.hw}}<span class="percentSize">%</span></td> <td>{{stats.hw}}<span class="percentSize">%</span></td> <td>{{stats.hw}}<span class="percentSize">%</span></td> </tr></tbody> </table> <div class="performanceWidgetArea"> <div id="curve_chart" style="width: 100%; height: 20rem"></div> </div> <table class="overallStatsAbridged"> <thead> <tr><th>Avg. Goals/M</th> <th>Home Win %</th> <th>Away Win %</th> <th>Overall Win %</th> </tr></thead> <tbody> <tr> <td> {{stats.ag}} </td> <td> {{stats.hw}}<span class="percentSize">%</span> </td> <td> {{stats.aw}}<span class="percentSize">%</span> </td> <td> {{stats.ow}}<span class="percentSize">%</span> </td> </tr></tbody> </table> ',PULSE.app.templates.expandedstats="",PULSE.app.templates.filtertable='<div class="wrapper col-12"> <div class="tableContainer" data-round="{{ roundId }}"> {{#groupName}} <h3 class="subHeader league-table-rounds__group-label">{{ groupName }}</h3> {{/groupName}} <div class="table league-table__table wrapper col-12"> <table> <summary class="visuallyHidden">{{ tableSummaryLabel }}</summary> <thead> <tr> {{#champion}} <th class="league-table__champions-header" scope="col"></th> {{/champion}} <th class="league-table__pos-header {{#champion}}champions{{/champion}}" scope="col"> <div class="league-table__thFull thFull">{{ positionLabel.long }}</div> <div class="league-table__thShort thShort">{{ positonLabel.short }}</div> </th> <th class="league-table__team-header" scope="col">{{ clubLabel }}</th> <th scope="col"> <div class="league-table__thFull thFull">{{ playedLabel.long }}</div> <div class="league-table__thShort thShort">{{ playedLabel.short }}</div> </th> <th scope="col"> <div class="league-table__thFull thFull">{{ wonLabel.long }}</div> <div class="league-table__thShort thShort">{{ wonLabel.short }}</div> </th> <th scope="col"> <div class="league-table__thFull thFull">{{ drewLabel.long }}</div> <div class="league-table__thShort thShort">{{ drewLabel.short }}</div> </th> <th scope="col"> <div class="league-table__thFull thFull">{{ lostLabel.long }}</div> <div class="league-table__thShort thShort">{{ lostLabel.short }}</div> </th> <th class="hideSmall" scope="col"><abbr title="{{ goalsForLabel.long }}">{{ goalsForLabel.short }}</abbr></th> <th class="hideSmall" scope="col"><abbr title="{{ goalsAgainstLabel.long }}">{{ goalsAgainstLabel.short }}</abbr></th> <th scope="col"><abbr title="{{ goalDifferenceLabel.long }}">{{ goalDifferenceLabel.short }}</abbr></th> <th scope="col" class="points"> <div class="league-table__thFull thFull">{{ pointsLabel.long }}</div> <div class="league-table__thShort thShort">{{ pointsLabel.short }}</div> </th> {{#hasForms}}<th class="league-table__team-form hideMed" scope="col">{{ formLabel }}</th>{{/hasForms}} {{#hasNextMatches}}<th class="hideMed text-centre" scope="col">{{ nextLabel }}</th>{{/hasNextMatches}} {{#isPL}} {{#showExpandSection}} <th class="league-table__reveal-more-header js-reveal-more-header text-centre" style="display:none;" scope="col">{{ moreLabel }}</th> {{/showExpandSection}} {{/isPL}} </tr> </thead> <tbody class="league-table__tbody {{#isPL}}isPL{{/isPL}}"> {{#rows}} {{#upIdx}}{{/upIdx}} <tr class="{{#getRowClass}}{{/getRowClass}} {{qualifyingClass}}" data-compseason="{{ compSeason }}" data-position="{{#getIdx}}{{/getIdx}}" data-filtered-entry-size="{{ entrySize }}" data-filtered-table-row="{{team.id}}" data-filtered-table-row-name="{{team.name}}" data-filtered-table-row-abbr="{{team.club.abbr}}"> {{#champion}} <td class="league-table__champion"> {{#PLchampion}} <span> {{#renderSVG}}pl-trophy-dark{{/renderSVG}} </span> {{/PLchampion}} </td> {{/champion}} <td class="league-table__pos pos {{#champion}}champions{{/champion}} button-tooltip" tabindex="0" id="Tooltip"> <span class="league-table__value value">{{#getIdx}}{{/getIdx}}</span> <span class="league-table__movement {{#getMoveClass}}{{/getMoveClass}}"> <span class="league-table__tooltip-container tooltipContainer tooltip-left" role="tooltip"> <span class="league-table__tooltip-content tooltip-content">{{ lastPositionLabel }} <span class="league-table__result-highlight">{{startingPosition}} </span> </span> </span> </span> </td> <td class="league-table__team team" scope="row"> {{#renderLink}} <a href="{{ link }}"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ clubBadgeMedium }}" srcset="{{ clubBadgeMedium }}, {{ clubBadgeMediumRetina }} 2x"> </span> <span class="league-table__team-name league-table__team-name--long long">{{name}}</span> <span class="league-table__team-name league-table__team-name--short short">{{team.club.abbr}}</span> </a> {{/renderLink}} {{^renderLink}} <div class="league-table__team-container"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ clubBadgeMedium }}" srcset="{{ clubBadgeMedium }}, {{ clubBadgeMediumRetina }} 2x"> </span> <span class="league-table__team-name league-table__team-name--long long">{{name}}</span> <span class="league-table__team-name league-table__team-name--short short">{{team.club.abbr}}</span> </div> {{/renderLink}} </td> <td>{{#getMetric}}played{{/getMetric}}</td> <td>{{#getMetric}}won{{/getMetric}}</td> <td>{{#getMetric}}drawn{{/getMetric}}</td> <td>{{#getMetric}}lost{{/getMetric}}</td> <td class="hideSmall">{{#getMetric}}goalsFor{{/getMetric}}</td> <td class="hideSmall">{{#getMetric}}goalsAgainst{{/getMetric}}</td> <td>{{#getMetric}}goalsDifference{{/getMetric}}</td> <td class="league-table__points points">{{#getMetric}}points{{/getMetric}}</td> {{#hasForms}} <td class="league-table__form form hideMed"> <ul> {{#teamForm}} <li tabindex="0" class="{{ outcome.class }} button-tooltip" id="Tooltip"> <abbr title="{{ outcome.long }}" class="form-abbreviation">{{ outcome.short }}</abbr> <a href="{{ url }}" class="tooltipContainer linkable tooltip-link tooltip-right" role="tooltip"> <span class="tooltip-content"> <div class="match-fixture match-fixture--small"> <span class="match-fixture__match-info matchInfo">{{ matchDate }}</span> <div class="match-fixture__team-score-container"> <div class="match-fixture__team match-fixture__team--home"> <span class="atch-fixture__team-name"> {{ teams.0.team.club.abbr }} </span> <span class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.0.team.clubBadge }}" srcset="{{ teams.0.team.clubBadge }}, {{ teams.0.team.clubBadgeRetina }} 2x"> </span> </div> <span class="match-fixture__score score"> {{ teams.0.score }}<span>-</span>{{ teams.1.score }} </span> <div class="match-fixture__team match-fixture__team--home"> <span class="badge badge--away-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.1.team.clubBadge }}" srcset="{{ teams.1.team.clubBadge }}, {{ teams.1.team.clubBadgeRetina }} 2x"> </span> <span class="match-fixture__team-name"> {{ teams.1.team.club.abbr }} </span> </div> <span class="icn arrow-right"></span> </div> </div> </span> </a> </li> {{/teamForm}} </ul> </td> {{/hasForms}} {{#hasNextMatches}} <td class="nextMatchCol hideMed"> {{#nextMatch}} <span tabindex="0" class="button-tooltip" id="Tooltip"> <span class="nextMatch"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-badge-image" src="{{ opponentLogo }}" srcset="{{ opponentLogo }}, {{ opponentLogoRetina }} 2x"> </span> </span> <a href="{{ url }}" class="tooltipContainer linkable tooltip-link tooltip-right" role="tooltip"> <span class="tooltip-content"> <div href="#!" class="match-fixture match-fixture--small"> <span class="match-fixture__match-info">{{ matchDate }}</span> <div class="match-fixture__team-score-container"> <div class="match-fixture__team match-fixture__team--home"> <span class="match-fixture__team-name"><abbr title="{{ teams.0.team.club.name }}">{{ teams.0.team.club.abbr }}</abbr></span> <span class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-badge-image" src="{{ teams.0.team.clubBadge }}" srcset="{{ teams.0.team.clubBadge }}, {{ teams.0.team.clubBadgeRetina }} 2x"> </span> </div> <time>{{ matchTime }}</time> <div class="match-fixture__team match-fixture__team--away"> <span class="badge badge--away-team badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-badge-image" src="{{ teams.1.team.clubBadge }}" srcset="{{ teams.1.team.clubBadge }}, {{ teams.1.team.clubBadgeRetina }} 2x"> </span> <span class="match-fixture__team-name"><abbr title="{{ teams.1.team.club.name }}">{{ teams.1.team.club.abbr }}</abbr></span> </div> <span class="icn arrow-right"></span> </div> </div> </span> </a> </span> {{/nextMatch}} </td> {{/hasNextMatches}} {{#isPL}} {{#showExpandSection}} <td class="league-table__reveal-more js-reveal-more" style="display: table-cell;" tabindex="0" role="button"> <div> <svg class="league-table__reveal-more-icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/{{ resourceVersion }}/i/svg-output/icons.svg#icn-chevron-down"></use> </svg> </div> </td> {{/showExpandSection}} {{/isPL}} </tr> <tr class="league-table__expandable expandable" data-filtered-table-row-expander="{{team.id}}"> <td colspan="13"> <div class="league-table__expandable-container"> <a href="{{ link }}" class="league-table__expandable-team expandableTeam"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--40 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> <span class="league-table__team-name">{{team.name}}</span> </a> <div class="league-table__expandable-matches-container"> {{#lastResult}} <div class="league-table__result-widget"> <div class="league-table__result-widget-label"><strong>{{ latestResultLabel }}</strong>: {{ matchDate }}</div> <a href="{{ url }}" class="league-table__match-fixture match-fixture match-fixture--small pre"> <div class="match-fixture__team match-fixture__team--home"> <span class="match-fixture__team-name">{{ teams.0.team.club.abbr }}</span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.0.team.clubBadgeMedium }}" srcset="{{ teams.0.team.clubBadgeMedium }}, {{ teams.0.team.clubBadgeMediumRetina }} 2x"> </span> </div> <span class="match-fixture__score score"> {{ teams.0.score }}<span>-</span>{{ teams.1.score }} </span> <div class="match-fixture__team match-fixture__team--away"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.1.team.clubBadgeMedium }}" srcset="{{ teams.1.team.clubBadgeMedium }}, {{ teams.1.team.clubBadgeMediumRetina }} 2x"> </span> <span class="match-fixture__team-name">{{ teams.1.team.club.abbr }}</span> </div> <span class="icn arrow-right"></span> </a> </div> {{/lastResult}} {{#nextMatch}} <div class="league-table__result-widget"> <div class="league-table__result-widget-label"><strong>{{ latestFixtureLabel }}</strong>: {{ matchDate }}</div> <a href="{{ url }}" class="league-table__match-fixture match-fixture match-fixture--small pre"> <div class="match-fixture__team match-fixture__team--home"> <span class="match-fixture__team-name">{{ teams.0.team.club.abbr }}</span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.0.team.clubBadgeMedium }}" srcset="{{ teams.0.team.clubBadgeMedium }}, {{ teams.0.team.clubBadgeMediumRetina }} 2x"> </span> </div> <time>{{ matchTime }}</time> <div class="match-fixture__team match-fixture__team--away"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.1.team.clubBadgeMedium }}" srcset="{{ teams.1.team.clubBadgeMedium }}, {{ teams.1.team.clubBadgeMediumRetina }} 2x"> </span> <span class="match-fixture__team-name">{{ teams.1.team.club.abbr }}</span> </div> <span class="icn arrow-right"></span> </a> </div> {{/nextMatch}} <div class="league-table__btn-container btnContainer"> <a href="{{ link }}" class="league-table__club-page-btn global-btn btn-highlight" role="btn"> Visit Club Page </a> </div> </div> </div> <div class="league-table__team-performance-container teamPerformanceStandingsArea" style="display:none;"> <header> <h3 class="league-table__sub-header subHeader left">{{performanceChartLabel}}</h3> <a href="/stats/comparison" class="global-btn btn right">Compare against another team<span class="icn arrow-right"></span></a> </header> <div class="league-table__team-performance-standings-container teamPerformanceStandingsContainer"></div> </div> </td> </tr> {{/rows}} </tbody> </table> {{#isPL}} <div class="league-table__qualification-info"> <h3 class="league-table__qualification-header">{{ tableEuropeKeyLabel }}</h3> <div class="league-table__qualification-key"> <div class="league-table__qualification-item"> <div class="bar EU_UCL"></div> <div>{{ tableUCLKeyLabel }}</div> </div> <div class="league-table__qualification-item"> <div class="bar EU_EL"></div> <div>{{ tableELKeyLabel }}</div> </div> {{#showConferenceLeague}} <div class="league-table__qualification-item"> <div class="bar EU_CF"></div> <div>{{ tableUECLKeyLabel }}</div> </div> {{/showConferenceLeague}} </div> </div> {{/isPL}} {{#pointsDeducted}} <h3>{{ pointsDeductionLabel }}</h3> <p class="pointsDeductedContainer">{{ message }}</p> {{/pointsDeducted}} </div> </div> </div> ',PULSE.app.templates.knockoutmatch=' <div class="league-table-rounds__fixture-container"> <div class="league-table-rounds__fixture-date">{{ date }}</div> {{#matches}} {{#isFixture}} <div class="match-fixture fixture preMatch tableFixtureResultContainer"> <span class="match-fixture__container"> <span class="match-fixture__teams"> <span class="match-fixture__team"> <span class="match-fixture__team-name">{{ homeName }}</span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ teams.0.team.clubBadgeMedium }}" srcset="{{ teams.0.team.clubBadgeMedium }}, {{ teams.0.team.clubBadgeMediumRetina }} 2x"> </span> </span> <time>{{ matchTime }}</time> <span class="match-fixture__team"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ teams.1.team.clubBadgeMedium }}" srcset="{{ teams.1.team.clubBadgeMedium }}, {{ teams.1.team.clubBadgeMediumRetina }} 2x"> </span> <span class="match-fixture__team-name">{{ awayName }}</span> </span> </span> <span class="match-fixture__stadium-name"> <span class="match-fixture__stadium-icon"> {{#renderSVG}}stadium-b{{/renderSVG}} </span> {{ groundText }} </span> </span> </div> {{/isFixture}} {{#isResult}} <div class="match-fixture fixture preMatch tableFixtureResultContainer"> <span class="match-fixture__container"> <span class="match-fixture__teams {{#shootout}}has-penalties{{/shootout}}"> <span class="match-fixture__team"> <span class="match-fixture__team-name">{{ homeName }}</span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ teams.0.team.clubBadgeMedium }}" srcset="{{ teams.0.team.clubBadgeMedium }}, {{ teams.0.team.clubBadgeMediumRetina }} 2x"> </span> </span> <span class="match-fixture__score {{#shootout}}has-penalties{{/shootout}}"> {{ teams.0.score }}<span>-</span>{{ teams.1.score }} </span> <span class="match-fixture__team"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--32 js-badge-image" src="{{ teams.1.team.clubBadgeMedium }}" srcset="{{ teams.1.team.clubBadgeMedium }}, {{ teams.1.team.clubBadgeMediumRetina }} 2x"> </span> <span class="match-fixture__team-name">{{ awayName }}</span> </span> {{#shootout}} <span class="match-fixture__penalties"> <p>{{shootoutWinner}} {{shootoutWonLabel}} {{penScore.0}}-{{penScore.1}} {{ onPenaltiesLabel }}</p> </span> {{/shootout}} </span> <span class="match-fixture__stadium-name"> <span class="match-fixture__stadium-icon"> {{#renderSVG}}stadium-b{{/renderSVG}} </span> {{ groundText }} </span> </span> </div> {{/isResult}} {{/matches}} </div>',PULSE.app.templates.leaguetablelogo='<img class="league-table__comp-logo" src="{{ logoSrc }}">',PULSE.app.templates.nostandings='<div class="wrapper col-12"> <div class="tableContainer" data-round="{{ roundId }}"> <div class="noContentContainer">{{ label }}</div> </div> </div>',PULSE.app.templates.progressmatch='<div class="performanceResult"> <div class="match-fixture match-fixture--small"> <span class="match-fixture__match-info matchInfo">{{ matchDate }}</span> <strong class="position">{{ posLabel }}: {{ position }}</strong> <div class="match-fixture__team-score-container"> <div class="match-fixture__team match-fixture__team--home"> <span class="match-fixture__team-name"> {{ teams.0.team.club.abbr }} </span> <span class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.0.team.clubBadge }}" srcset="{{ teams.0.team.clubBadge }}, {{ teams.0.team.clubBadgeRetina }} 2x"> </span> </div> <span class="match-fixture__score score"> {{ teams.0.score }}<span>-</span>{{ teams.1.score }} </span> <div class="match-fixture__team match-fixture__team--home"> <span class="badge badge--away-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--30 js-badge-image" src="{{ teams.1.team.clubBadge }}" srcset="{{ teams.1.team.clubBadge }}, {{ teams.1.team.clubBadgeRetina }} 2x"> </span> <span class="match-fixture__team-name"> {{ teams.1.team.club.abbr }} </span> </div> <span class="icn arrow-right"></span> </div> </div> </div> ',PULSE.app.templates.progressmatchnotplayed='<div class="performanceResult"> <div class="match-fixture match-fixture--small"> <strong class="position">{{ posLabel }}: {{ position }}</strong> <div class="match-fixture__team-score-container"> {{ didNotPlay }} <span class="icn arrow-right"></span> </div> </div> </div> ',PULSE.app.templates.tablecompexplained='<section class="notificationPromo tableNotificationPromo"> <a class="notificationLink" href="{{ url }}"> <h4 class="notificationTitle">{{ promoLabel }}</h4> <div class="icn arrow-rightwhite"></div> </a> </section>',PULSE.app.templates.tablerounds='{{#structure}} <div data-current="{{ current }}" data-season-id="{{ roundCompSeason }}" data-ui-tab="{{ tabLabel }}" class="roundContainer" data-type="{{ type }}" data-id="{{ id }}" data-range="{{ rangeString }}"></div> {{/structure}}',PULSE.app.templates.tablerowexpanded='<td colspan="13"> </td>',function(e,t,a,s,l){e.filteredContentList=function(t,s){let n=this;if(n.element=t,n.filterControllerElement=n.element.querySelector("section.pageFilter"),n.requestConfig={},n.type=n.element.getAttribute("data-content-type"),n.ignoreTags="true"===n.element.getAttribute("data-ignore-tags"),n.requestConfig.sort=n.element.getAttribute("data-search-sort"),n.requestConfig.limit=20,n.requestConfig.offset=0,n.requestConfig.tagNames=n.element.getAttribute("data-tags"),n.requestConfig.references=n.element.getAttribute("data-references"),n.requestConfig.playlistTypeRestriction=n.element.getAttribute("data-playlist-restriction")?n.element.getAttribute("data-playlist-restriction"):"",n.requestConfig.fullObjectResponse="true",n.filterControllerElement.insertAdjacentHTML("afterbegin",Mustache.render(e.templates.loader,{})),n.filterLoader=n.filterControllerElement.querySelector(".loader-small"),n.originalReferences=n.requestConfig.references?n.requestConfig.references.split(","):[],n.originalTagNames=n.requestConfig.tagNames?n.requestConfig.tagNames.split(","):[],n.contentListContainer=n.element.querySelector(".js-content-list-container"),n.contentListContainer||(n.contentListContainer=n.element.querySelector(".contentListContainer")),n.filterControllerElement){const t=e.filterGroups[n.filterControllerElement.getAttribute("data-filter-config")],a=window.location.pathname;""===n.requestConfig.tagNames||"video"!==n.type||a.includes("/video/all")||t.shift(),n.filterController=new e.common.listFilterController(n.filterControllerElement,{dropdowns:t,delegate:n});let s=n.filterController.getState(),l=!0;if(s.map((function(e){-1!==e.id&&(l=!1)})),!n.ignoreTags)for(let e=0;e<s.length;e++){let t=s[e];if("tagNames"===t.name&&n.originalTagNames.length){let e=n.originalTagNames[0],a=n.filterController.dropdowns.tagNames.options,s=0;for(let t=0;t<a.length;t++)a[t].optionId===e&&(s=t);t.state.setState(!1,e,e,!1,s),n.filterController.dropdowns.tagNames.setOption(t.state.name)}}l||n.filterUpdated(s,!0),this.updateUrlFilter(s)}if(n.searchContentContainer=n.element.querySelector(".js-search-data-container"),n.searchContentContainer){let e=n.searchContentContainer.getAttribute("data-placeholder"),t=e||a.lookup("label.search");n.search=new l.search(n.searchContentContainer,{callback:n.searchTerm,target:n,updateUrl:!0,placeholder:t}),n.search.checkParam()}"video"===n.type&&n.contentListContainer&&(n.videoList=new l.videoList(n.contentListContainer)),n.loader=new e.common.scrollLoader(n.element,n,!0)},s.object.extend(e.filteredContentList.prototype,e.common.scrollLoaderDelegate.prototype),e.filteredContentList.prototype.didRequestLoad=function(){let e=this;e.requestConfig.offset+=20,e.term&&e.term.length>0?e.searchTerm(e.term):e.initData(e.urlConfig)},e.filteredContentList.prototype.searchTerm=function(t){let a=this;if(a.term=t,a.loader&&a.loader.newLoader(),a.term.length>0){let s=a.type,l=a.search?a.search.getSearchParams(a.requestConfig):{},n={url:e.common.createSearchPath([t,t+"*"],[s],l),method:"GET",callback:a.contentSearch,target:a};a.startData(n),a.filterController&&a.filterController.hide()}else a.filterController?(a.filterController.resetAll(),a.filterController.show()):a.initData()},e.filteredContentList.prototype.contentSearch=function(e){let t=this;if(e&&e.hits){let a=t.search.evaluateHits(e.hits);t.renderContent({content:a,pageInfo:t.requestConfig})}},e.filteredContentList.prototype.filterUpdated=function(e,t){let a=this,s=[],l=[],n=a.requestConfig.references.split(",").concat(a.requestConfig.tagNames.split(","));n=n.filter((function(e){return e})),""===n[0]&&(n=[]),a.originalReferences.map((function(e){s.push(e)})),a.originalTagNames.map((function(e){l.push(e)})),e.map((function(e){let t=e.state.id;if(-1!==t)switch(e.name){case"FOOTBALL_COMPETITION":case"FOOTBALL_COMPSEASON":case"FOOTBALL_CLUB":case"FOOTBALL_PERSON":s.push(e.name+":"+t);break;case"tagNames":l.push(e.state.id)}else"text"===a.type&&l.push("News")}));let i=s.concat(l);i.length===n.length&&i.every((function(e,t){return e===n[t]}))||(a.requestConfig.references=s.join(","),a.requestConfig.tagNames=l.join(","),a.filterUpdate(e))},e.filteredContentList.prototype.filterCleared=function(e){let t=this;t.requestConfig.references=t.originalReferences.join(","),t.filterUpdate(e)},e.filteredContentList.prototype.filterUpdate=function(e){let t=this;t.filterLoader.classList.add("active"),t.requestConfig.offset=0,t.loader&&t.loader.newLoader(),t.initData(t.requestConfig)},e.filteredContentList.prototype.updateUrlFilter=function(e){let t=this;"text"===t.type&&"News"!==t.requestConfig.tagNames&&(t.requestConfig.tagNames=t.getSearchTerm(),t.requestConfig.tagNames&&(t.filterController.element.querySelector(".current").innerHTML=t.requestConfig.tagNames.replace(/%20/g," ")),t.filterUpdate(e))},e.filteredContentList.prototype.getSearchTerm=function(){const e="?type=",t=window.location.search,a="text"===this.type?"News":"";let s=t.slice(t.indexOf(e)+6)||a;return"-1"===s&&(s=a),s},e.filteredContentList.prototype.checkForRelatedArticles=function(e){const t=this;let a=e.getElementsByClassName("relatedArticleContainer");if(a)for(let e=a.length-1;e>-1;e--){let l=a[e].getAttribute("data-id"),n=a[e].getAttribute("data-type");t.getRelatedContent(n,l,a[e]),s.style.removeClass(a[e],"relatedArticleContainer")}},e.filteredContentList.prototype.getRelatedContent=function(t,a,s){let l={url:e.common.createContentPath(t,{},void 0,a),method:"GET",callback:this.renderRelated,target:this,container:s};this.startData(l)},e.filteredContentList.prototype.renderRelated=function(t,a){if(t&&a.container){let s=l.getContentModel(t);s&&s.type&&(s.type="video"===s.type?"video":"playlist"===s.type||"photo"===s.type?"photo":"text"),s.clubBadge=l.getClubBadge(s.optaId,"25"),s.clubBadgeRetina=l.getClubBadge(s.optaId,"25",!0),a.container.innerHTML=Mustache.render(e.templates.relatedcontent,s),e.clubBadge(a.container,!0)}},e.filteredContentList.prototype.initData=function(t){const a=this;"FOOTBALL_COMPSEASON:_1"!==a.requestConfig.references&&"FOOTBALL_COMPSEASON:-1"!==a.requestConfig.references||(a.requestConfig.references=""),a.filterControllerElement&&"text"===a.type&&(a.requestConfig.tagNames=this.getSearchTerm());let s={url:e.common.createContentPath(a.type,a.requestConfig),method:"GET",callback:a.renderContent,target:this};this.startData(s)},e.filteredContentList.prototype.startData=function(e){s.data.manager.add(e)},e.filteredContentList.prototype.renderContent=function(t){const n=this;if(n.filterLoader.classList.remove("active"),t&&t.content&&n.contentListContainer){let i=function(e){let t=[];return e.map((function(e){let s=l.getContentModel(e);s.subtitle||"RSS"!==s.platform||(s.subtitle=a.lookup("label.clubNews"),s.external=a.lookup("label.externalLink")),t.push(s)})),t}(t.content,n.type);n.loader&&(n.loader.contentLoaded(),i.length<1&&n.loader.removeLoader());let o="";i.forEach((function(t,s){let l=t;if("video"===n.type){const{title:e,closedCaptioned:s,uiArgs:n}=t,i={uiArgs:n,imgUrl:{default:t.onDemandUrl+"?width=451&height=268",mobile:t.onDemandUrl+"?width=344&height=215"},videoDuration:t.durationString,closedCaptioned:s,title:e};t.closedCaptioned&&(i.ccString=a.lookup("label.closedcaption")),function(e){let t;return e.references&&e.references.forEach((function(e){"ACCESSIBLE_VIDEO"===e.type&&(t=!0)})),t}(t)&&(i.avString=a.lookup("label.audiodescription")),l=i}else"text"===n.type&&t.onDemandUrl&&(l={...l,imgUrl:{default:t.onDemandUrl+"?width=451&height=268",mobile:t.onDemandUrl+"?width=344&height=215"}});o+=Mustache.render(e.templates[n.type],l)})),i.length<1&&("video"===n.type||"text"===n.type)&&(o=Mustache.render(e.templates.nocontentlist,{label:a.lookup("label.nocontent"+n.type)})),n.requestConfig.offset>0?s.dom.appendDomString(n.contentListContainer,o,!0):n.contentListContainer.innerHTML=o,new l.LazyLoad(n.contentListContainer),"text"===n.type&&n.checkForRelatedArticles(n.contentListContainer),n.videoList&&n.videoList.initModal()}};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="filtered-content-list"]');t=Array.prototype.map.call(t,(function(t){return new e.filteredContentList(t,{})}))}))}(PULSE.app,PULSE.ui,PULSE.I18N,PULSE.core,PULSE.app.common),function(e,t,a,s){let l=function(t,l){let n=[];return t.map((function(t){let i=t||{};const o=["t14"].includes(i.altIds?.opta);switch(l){case"team":i.badgeHasHover=o,i.containerHoverClass=o?"badge--with-hover":"";let t=i.club&&i.club.id?i.club.id:i.id;i.url=a.generateContentUrl(l,t,i.club.name.replace(new RegExp(" ","g"),"-")),i.optaId=i.altIds&&i.altIds.opta?i.altIds.opta:void 0,i.displayName=i.name||i.club.name,i.clubAbbr=i.club.abbr,i.stadiumName=i.grounds[0]?.name,i.stadiumUrl=a.generateContentUrl("stadium",t,i.club.name.replace(new RegExp(" ","g"),"-")),i.labelClubHome=s.lookup("label.clubprofile"),i.clubBadge=a.getClubBadge(i.optaId,"100"),i.clubBadgeRetina=a.getClubBadge(i.optaId,"100",!0),i.clubBadgeHover=a.getClubBadge(i.optaId,"100",!1,"png",!0),i.clubBadgeRetinaHover=a.getClubBadge(i.optaId,"100",!0,"png",!0),i.clubBadgeMedium=a.getClubBadge(i.optaId,"50"),i.clubBadgeMediumRetina=a.getClubBadge(i.optaId,"50",!0),i.clubBadgeSmall=a.getClubBadge(i.optaId,"25"),i.clubBadgeSmallRetina=a.getClubBadge(i.optaId,"25",!0),i.icnRight=a.icon.renderSpriteSVG("arrow-right","icn","club-card__icon"),i.brandGradientSvg=a.icon.brandGradientSVG("-80 -70 750 150","club-card__svg club-card__gradient-svg"),i.colouredBrandSVG=a.icon.colouredBrandSVG("-80 -70 750 150","club-card__svg club-card__club-svg");break;case"manager":i.url=a.generateContentUrl(l,i.id,i.name.display),i.clubUrl=a.generateContentUrl("club",i.currentTeam.id,i.currentTeam.club.name.replace(new RegExp(" ","g"),"-")),i.clubName=i.currentTeam.club.name,i.clubShortName=i.currentTeam.club.shortName,i.clubAbbr=i.currentTeam.club.abbr,i.optaId=i.currentTeam.altIds.opta,i.displayName=i.name.display,i.activeText=i.active?"Active":"Non Active",i.nationalName=i.birth&&i.birth.country&&i.birth.country.country?i.birth.country.country:"",i.nationalCode=i.birth&&i.birth.country&&i.birth.country.isoCode?i.birth.country.isoCode:"",i.flagImagePath=`${e.environment.flags}${i.nationalCode}.png`,i.clubBadge=a.getClubBadge(i.optaId,"50"),i.clubBadgeRetina=a.getClubBadge(i.optaId,"50",!0);break;case"referee":i.displayName=i.name.display,i.url=a.generateContentUrl(l,i.id,i.displayName)}n.push(i)})),n};e.listDataClientSideSearch=function(t,l){let n=this;switch(n.element=t,n.dataContainer=n.element.getElementsByClassName("dataContainer"),n.searchDataContainer=n.element.getElementsByClassName("searchResultDataContainer"),n.allTimeDataContainer=n.element.querySelector(".js-all-time-data-container"),n.type=n.element.getAttribute("data-type"),n.requestConfig={},n.requestConfig.pageSize=n.element.getAttribute("data-page-size"),n.requestConfig.compSeasons=parseInt(n.element.getAttribute("data-comp-seasons")),n.requestConfig.compCodeForActivePlayer=n.element.getAttribute("data-active-comp"),n.indexSection=n.element.getElementsByClassName("indexSection"),n.searchIndexSection=n.element.getElementsByClassName("searchIndexSection"),n.indexAllTimeSection=n.element.getElementsByClassName("indexAllTime"),n.requestConfig.comps=e.competition.FIRST,n.requestConfig.altIds=!0,n.showAllManagers=!1,n.type){case"team":n.path="teams.all",n.template="teamCard",n.listTemplate="teamList",n.allDataRequestParams={pageSize:100,comps:e.competition.FIRST,altIds:!0,page:0};break;case"manager":n.path="team-officials.all",n.template="manager",n.listTemplate="manager",n.requestConfig.type="manager",n.allDataRequestParams={pageSize:500,comps:e.competition.FIRST,altIds:!0,type:"manager",compCodeForActivePlayer:"EN_PR",page:0};break;case"referee":n.getRefereeTabs(),n.path="match-officials.all",n.template="referee",n.listTemplate="referee",n.requestConfig.type="M",n.requestConfig.comps=void 0,n.allDataRequestParams={pageSize:500,comps:e.competition.FIRST,altIds:!0,type:"M",page:0}}if(n.requestConfig.page=0,n.searchIndexSection[0].style.display="none",n.getAllData(),n.filterControllerElement=n.element.querySelector("section.pageFilter"),n.filterControllerElement&&(n.filterController=new e.common.listFilterController(n.filterControllerElement,{dropdowns:e.filterGroups[n.filterControllerElement.getAttribute("data-filter-config")],delegate:n})),n.searchPlayerContainer=n.element.getElementsByClassName("searchDataContainer"),n.searchPlayerContainer&&n.searchPlayerContainer.length>0){let e=n.searchPlayerContainer[0].getAttribute("data-placeholder"),t=e||s.lookup("label.search");n.search=new a.search(n.searchPlayerContainer[0],{callback:n.searchTerm,target:n,updateUrl:!0,placeholder:t})}};e.listDataClientSideSearch.prototype.getRefereeTabs=function(){let e=this;e.refereeTabsContainer=e.element.getElementsByClassName("refereeTabsContainer");let t=document.querySelectorAll('[data-widget="referee-tabs"]');t&&t.length>0&&e.refereeTabsContainer&&e.refereeTabsContainer.length>0&&Array.prototype.forEach.call(t,(function(t){e.refereeTabsContainer[0].appendChild(t)}))},e.listDataClientSideSearch.prototype.searchTerm=function(e,t){let a=this;a.term=e,void 0!==a.allData&&a.term.length>0?a.getAllData("search",e):(a.showSearchData(!1),a.filterController.resetAll(),a.filterController.show())},e.listDataClientSideSearch.prototype.initData=function(){let t=this,a={url:e.common.createApiPath(t.path,t.requestConfig),method:"GET",callback:t.renderData,headers:[e.accountHeader],target:this,forceCallback:!0};this.startData(a)},e.listDataClientSideSearch.prototype.startData=function(e){t.data.manager.add(e)},e.listDataClientSideSearch.prototype.didRequestLoad=function(){},e.listDataClientSideSearch.prototype.filterCleared=function(e){this.filterUpdated(e)},e.listDataClientSideSearch.prototype.filterUpdated=function(t,a,l){let n,i,o=this;for(let e=0;e<t.length;e++)"compSeasons"===t[e].name?n=t[e]:"teams"===t[e].name&&(i=t[e].state.id);a&&n.state.id===o.requestConfig.compSeasons||void 0!==n&&(!function(t,a){t.loaderMarkup=t.loaderMarkup||Mustache.render(e.templates.scrollloader,{load:s.lookup("label.loadingmore")}),a.innerHTML=t.loaderMarkup}(o,o.dataContainer[0]),o.requestConfig.page=0,o.requestConfig.compSeasons=parseInt(n.state.id),o.requestConfig.teams=i&&i>-1?i:void 0,"manager"===o.type&&-1===o.requestConfig.compSeasons?(o.showAllManagers=!0,o.getAllData()):o.initData())},e.listDataClientSideSearch.prototype.dataSearch=function(e){let t=this;if(e&&e.hits){let a=t.search.evaluateHits(e.hits);t.renderData({content:a,pageInfo:t.requestConfig})}},e.listDataClientSideSearch.prototype.getAllData=function(t,a){let s=this;if(void 0===s.allData){let n={url:e.common.createApiPath(s.path,s.allDataRequestParams),method:"GET",callback:function(e){s.showAllManagers?s.renderData(e):(s.allData=l(e.content,s.type),s.renderListData(t,a))},headers:[e.accountHeader],target:this};s.startData(n)}else s.showAllManagers?s.renderData({content:s.allData}):s.renderListData(t,a)},e.listDataClientSideSearch.prototype.renderListData=function(t,l){let n=this,i="";if("search"===t){let t=0;n.allData.forEach((function(a){-1!==a.displayName.toLowerCase().indexOf(l.toLowerCase())&&(a.active||(a.noDisplayClub=!0),i+=Mustache.render(e.templates[n.listTemplate],a),a.noDisplayClub=!1,t++)})),t<1&&(i=Mustache.render(e.templates.nodatalist,{label:s.lookup("label.nocontent"+n.type)})),n.searchDataContainer[0].innerHTML=i,e.clubBadge(n.searchDataContainer[0],!0),n.showSearchData(!0)}else"team"===n.type&&(n.showSearchData(!1),n.allData.forEach((function(t){"t6"===t.altIds.opta&&(t.stadiumName="Tottenham Hotspur Stadium"),t.icnRight=a.icon.renderSpriteSVG("arrow-right","icn","svg"),t.stadiumIcn='<svg class=\'svg\' width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9846 6.419V6.88792L8.64637 10.3198V9.85089L15.9846 6.419ZM7.27558 9.09389L8.45642 9.84944V10.3098L7.27558 9.55034V9.09389ZM0 6.38323L5.05679 9.68344V10.1523L0 6.83811V6.38323ZM6.73304 9.08212V9.52922L5.33611 10.1523V9.70525L6.73304 9.08212ZM15.9846 5.2896V5.75851L8.64637 9.1904V8.72149L15.9846 5.2896ZM7.27558 7.96608L8.45642 8.72241V9.18274L7.27558 8.4233V7.96608ZM0 5.19779L5.05679 8.49724V8.96693L0 5.65189V5.19779ZM6.73304 7.89669V8.34378L5.33611 8.96691V8.51904L6.73304 7.89669ZM7.5566 0.166687L8.86323 1.02894L10.4778 0.288202L15.912 3.01601L14.2117 3.74974L16 4.61343L8.63254 7.98689L7.00484 6.88708L5.10085 7.78205L0.029439 4.45305L1.96198 3.6905L0.544977 2.84305L7.5566 0.166687ZM8.71869 1.84297L3.86501 3.82296L7.0618 5.71494L12.0467 3.61732L8.71869 1.84297ZM15.9992 3.55344V4.00054L15.621 4.16956L15.1502 3.932L15.9992 3.55344ZM0.544938 3.27306L1.26193 3.70847L0.775702 3.91177L0.54185 3.78091L0.544938 3.27306Z"/>\n                </svg>',i+=Mustache.render(e.templates[n.listTemplate],t)})),n.allTimeDataContainer.innerHTML=i,e.clubBadge(n.allTimeDataContainer,!0))},e.listDataClientSideSearch.prototype.renderData=function(t){let a=this;if(t&&t.content){let n=l(t.content,a.type),i="";"manager"===a.type&&n.sort((function(e,t){if(e.currentTeam&&t.currentTeam)return e.currentTeam.name>t.currentTeam.name?1:-1})),n.forEach((function(t){i+=Mustache.render(e.templates[a.template],t)})),t.content.length<1&&(i=Mustache.render(e.templates.nodatalist,{label:s.lookup("label.nocontent"+a.type)})),t.pageInfo&&t.pageInfo.page>0?a.dataContainer[0].innerHTML+=i:a.dataContainer[0].innerHTML=i,e.clubBadge(a.dataContainer[0],!0),a.showSearchData(!1)}},e.listDataClientSideSearch.prototype.showSearchData=function(e){let t=this;e?(t.searchIndexSection[0].style.display="",t.indexSection[0].style.display="none"):(t.searchIndexSection[0].style.display="none",t.indexSection[0].style.display="")};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="list-data-client-side-search"]');t=Array.prototype.map.call(t,(function(t){return new e.listDataClientSideSearch(t,{})}))}))}(PULSE.app,PULSE.core,PULSE.app.common,PULSE.I18N),function(e,t,a,s){let l=function(e,t){let l=[];return e.map((function(e){let n=e||{},i=n.club&&n.club.id?n.club.id:n.id;n.url=a.generateContentUrl(t,i,n.club.name.replace(new RegExp(" ","g"),"-")),n.optaId=n.altIds&&n.altIds.opta?n.altIds.opta:void 0,n.displayName=n.name||n.club.name,n.clubAbbr=n.club.abbr,n.stadiumName=n.grounds[0].name,n.labelClubHome=s.lookup("label.clubprofile"),l.push(n)})),l};e.listDataTeam=function(t,l){let n=this;if(n.element=t,n.teamCardContainer=n.element.getElementsByClassName("indexSection"),n.searchTeamDataContainer=n.element.getElementsByClassName("searchTeamDataContainer"),n.allTimeDataContainer=n.element.getElementsByClassName("allTimeDataContainer"),n.type=n.element.getAttribute("data-type"),n.requestConfig={},n.requestConfig.pageSize=n.element.getAttribute("data-page-size"),n.requestConfig.compSeasons=n.element.getAttribute("data-comp-seasons"),n.teamCardDataElement=n.element.getElementsByClassName("teamCardData"),n.searchTeamDataElement=n.element.getElementsByClassName("searchTeamData"),n.requestConfig.comps=e.competition.FIRST,n.requestConfig.altIds=!0,n.path="teams.all",n.template="teamCard",n.listTemplate="teamList",n.showSearchTeamData(!1),n.getAllTeamData(),n.requestConfig.page=0,n.filterControllerElement=n.element.querySelector("section.pageFilter"),n.filterControllerElement&&(n.filterController=new e.common.listFilterController(n.filterControllerElement,{dropdowns:e.filterGroups[n.filterControllerElement.getAttribute("data-filter-config")],delegate:n})),n.searchPlayerContainer=n.element.getElementsByClassName("searchDataContainer"),n.searchPlayerContainer&&n.searchPlayerContainer.length>0){let e=n.searchPlayerContainer[0].getAttribute("data-placeholder"),t=e||s.lookup("label.search");n.search=new a.search(n.searchPlayerContainer[0],{callback:n.searchTerm,target:n,updateUrl:!0,placeholder:t})}n.term="",n.loader=new e.common.scrollLoader(n.element,n,!0)};let n=function(t,a){t.loaderMarkup=t.loaderMarkup||Mustache.render(e.templates.scrollloader,{load:s.lookup("label.loadingmore")}),a.innerHTML=t.loaderMarkup};e.listDataTeam.prototype.searchTerm=function(e,t){let a=this;a.term=e,a.term.length>0?a.renderListData(a.allTeamData,"search",e):(a.showSearchTeamData(!1),a.filterController.resetAll(),a.filterController.show())},e.listDataTeam.prototype.initData=function(){let t=this,a={url:e.common.createApiPath(t.path,t.requestConfig),method:"GET",callback:t.renderData,target:this};this.startData(a)},e.listDataTeam.prototype.startData=function(e){t.data.manager.add(e)},e.listDataTeam.prototype.didRequestLoad=function(){let e=this;e.requestConfig.page++,e.term.length>0?e.searchTerm(e.term):e.initData(e.urlConfig)},e.listDataTeam.prototype.filterCleared=function(e){this.filterUpdated(e)},e.listDataTeam.prototype.filterUpdated=function(e,t,a){this.filterUpdatedForTeam(e,t,a)},e.listDataTeam.prototype.dataSearch=function(e){let t=this;if(e&&e.hits){let a=t.search.evaluateHits(e.hits);t.renderData({content:a,pageInfo:t.requestConfig})}},e.listDataTeam.prototype.getAllTeamData=function(){let t=this;if(n(t,t.allTimeDataContainer[0]),void 0===t.allTeamData){let a={pageSize:100,comps:e.competition.FIRST,altIds:!0,page:0},s={url:e.common.createApiPath(t.path,a),method:"GET",callback:function(e){t.allTeamData=l(e.content,t.type),t.renderListData(t.allTeamData)},target:this};t.startData(s)}else t.renderListData(t.allTeamData)},e.listDataTeam.prototype.renderListData=function(t,a,s){let l=this,n="";"search"==a?(t.forEach((function(t){-1!=t.displayName.toLowerCase().indexOf(s.toLowerCase())&&(n+=Mustache.render(e.templates[l.listTemplate],t))})),l.searchTeamDataContainer[0].innerHTML=n,e.clubBadge(l.searchTeamDataContainer[0],!0),l.showSearchTeamData(!0)):(t.forEach((function(t){n+=Mustache.render(e.templates[l.listTemplate],t)})),l.allTimeDataContainer[0].innerHTML=n,e.clubBadge(l.allTimeDataContainer[0],!0),l.showSearchTeamData(!1))},e.listDataTeam.prototype.renderData=function(t){let a=this;if(t&&t.content){let s=l(t.content,a.type),n="";a.teamCardContainer[0].innerHTML="",s.forEach((function(t){n+=Mustache.render(e.templates[a.template],t)})),a.teamCardContainer[0].innerHTML=n,e.clubBadge(a.teamCardContainer[0],!0),a.showSearchTeamData(!1)}},e.listDataTeam.prototype.showSearchTeamData=function(e){let t=this;e?(t.searchTeamDataElement[0].style.display="",t.teamCardDataElement[0].style.display="none"):(t.searchTeamDataElement[0].style.display="none",t.teamCardDataElement[0].style.display="")},e.listDataTeam.prototype.filterUpdatedForTeam=function(e,t,a){let s=this;s.requestConfig.compSeasons;(s.requestConfig.compSeasons!==e[0].state.id||a)&&(n(s,s.teamCardContainer[0]),s.requestConfig.page=0,s.requestConfig.compSeasons=e[0].state.id,s.initData())};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="list-data-team"]');t=Array.prototype.map.call(t,(function(t){return new e.listDataTeam(t,{})}))}))}(PULSE.app,PULSE.core,PULSE.app.common,PULSE.I18N),function(e,t,a,s){e.listData=function(t,l){let n=this;switch(n.element=t,n.playerContainers=n.element.getElementsByClassName("indexSection"),n.type=n.element.getAttribute("data-type")||"player",n.requestConfig={},n.requestConfig.pageSize=n.element.getAttribute("data-page-size"),n.requestConfig.compSeasons=n.element.getAttribute("data-comp-seasons"),n.requestConfig.altIds=!0,n.requestConfig.page=0,n.requestConfig.type=n.type,n.initialRender=!1,n.staffPath="teams.single.staff",n.type){case"player":n.path="players.all",n.template="player",n.staffPathLabel="players";break;case"manager":n.path="team-officials.all",n.template="manager",n.staffPathLabel="officials"}if(n.filterControllerElement=n.element.querySelector("section.pageFilter"),n.filterControllerElement&&(n.filterController=new e.common.listFilterController(n.filterControllerElement,{dropdowns:e.filterGroups[n.filterControllerElement.getAttribute("data-filter-config")],delegate:n})),n.searchPlayerContainer=n.element.getElementsByClassName("searchDataContainer"),n.searchPlayerContainer&&n.searchPlayerContainer.length>0){e.common=a;let t=n.searchPlayerContainer[0].getAttribute("data-placeholder"),l=t||s.lookup("label.search");n.search=new a.search(n.searchPlayerContainer[0],{callback:n.searchTerm,target:n,updateUrl:!0,placeholder:l})}n.term="",n.loader=new e.common.scrollLoader(n.element,n,!0)},e.listData.prototype.searchTerm=function(e,t){let a=this;a.term=e,void 0!==t&&(a.requestConfig.page=t),a.loader.newLoader(),a.term.length>0?(a.getSearchData(e),a.filterController&&a.filterController.hide()):(a.filterController.resetAll(),a.filterController.show(),a.initData())},e.listData.prototype.getSearchData=function(t){let a=this,s=a.type,l=a.search?a.search.getSearchParams(a.requestConfig):{};l.fullObjectResponse=!0;let n={url:e.common.createSearchPath([t,t+"*"],[s],l),method:"GET",callback:a.dataSearch,target:a};a.startData(n)},e.listData.prototype.initData=function(){let t=this,a=t.path;t.requestConfig.id&&-1!=t.requestConfig.id&&(a=t.staffPath);let s={url:e.common.createApiPath(a,t.requestConfig),method:"GET",callback:t.renderData,target:this};this.startData(s)},e.listData.prototype.startData=function(e){t.data.manager.add(e)},e.listData.prototype.didRequestLoad=function(){let e=this;e.requestConfig.page++,e.term.length>0?e.searchTerm(e.term):e.initData(e.urlConfig)},e.listData.prototype.filterCleared=function(e){this.filterUpdated(e)},e.listData.prototype.filterUpdated=function(e,t,a){let s=this,l=(s.requestConfig.compSeasons,s.requestConfig.id,s.requestConfig.compSeasons),n=s.requestConfig.id;e.map((function(e){switch(e.name){case"compSeasons":l=-1!=e.state.id&&e.active?e.state.id:void 0;break;case"clubs":n=e.state.id}})),s.requestConfig.page=0,s.initialRender&&s.filterController.setPageLoading(s,s.playerContainers[0]),s.requestConfig.compSeasons=l,s.requestConfig.id=n,s.requestConfig.compSeasonId=l,s.initData()},e.listData.prototype.dataSearch=function(e){let t=this;if(e&&e.hits){let a=t.search.evaluateHits(e.hits);t.renderData({content:a,pageInfo:t.requestConfig})}},e.listData.prototype.renderListData=function(t,a,s){let l=this,n="";t.forEach((function(t){n+=Mustache.render(e.templates[l.listTemplate],t)})),l.allTimeDataContainer[0].innerHTML=n},e.listData.prototype.renderData=function(t){let l=this,n=!1,i=!1;if(t.pageInfo?t.pageInfo.page==t.pageInfo.numPages?i=!0:l.loader.element||(l.loader=new e.common.scrollLoader(l.element,l,!0)):t.content||(i=!0),t&&(n=t.content||t[l.staffPathLabel]),n){let o=function(t,l){let n=[];return t.map((function(t){let i=t||{};switch(l){case"player":i.url=a.generateContentUrl(l,i.id,i.name.display.replace(new RegExp(" ","g"),"-")),i.imageSize="40x40",i.playerImage=a.getDefaultPlayerImg(i.imageSize),i.labelFor=s.lookup("label.photofor"),i.displayName=i.name&&i.name.display?i.name.display:"",i.position=i.info&&i.info.position?s.lookup("label.position."+i.info.position.toLowerCase()):"",i.nationalName=i.nationalTeam&&i.nationalTeam.country?i.nationalTeam.country:"",i.nationalCode=i.nationalTeam&&i.nationalTeam.isoCode?i.nationalTeam.isoCode:"",i.flagImagePath=`${e.environment.flags}${i.nationalCode}@x2.png`,i.activeClass=i.active?"activePlayer":null!=i.active?"inactivePlayer":"",i.activeLabel=i.active?s.lookup("label.active"):void 0!==i.active?s.lookup("label.inactive"):"",i.optaId=i.altIds&&i.altIds.opta?i.altIds.opta:void 0;break;case"manager":i.url=a.generateContentUrl(l,i.officialId),i.clubUrl=a.generateContentUrl("club",i.currentTeam.id,i.currentTeam.club.name.replace(new RegExp(" ","g"),"-")),i.clubName=i.currentTeam.club.name,i.optaId=i.currentTeam.altIds.opta,i.displayName=i.name.display,i.activeText=i.active?"Active":"Non Active"}n.push(i)})),n}(n,l.type);l.loader&&l.loader.contentLoaded(),(o.length<1||i)&&l.loader.removeLoader(),l.initialRender=!0;let r="";o.forEach((function(t){r+=Mustache.render(e.templates[l.template],t)})),0===o.length&&t.pageInfo.page<1&&(r=Mustache.render(e.templates.nodatalist,{label:s.lookup("label.nocontent"+l.type)})),t.pageInfo&&t.pageInfo.page>0?l.playerContainers[0].innerHTML+=r:l.playerContainers[0].innerHTML=r,"player"===l.type&&a.getPhotosForContainer(l.playerContainers[0])}},e.listData.prototype.filterUpdatedForTeam=function(e,t,a){let s=this;s.sectionTitle[0].innerHTML=e[0].state.name;s.requestConfig.compSeasons;(s.requestConfig.compSeasons!==e[0].state.id||a)&&(s.filterController.setPageLoading(s,s.teamCardContainer[0]),s.requestConfig.page=0,s.requestConfig.compSeasons=e[0].state.id,s.initData())};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="list-data"]');t=Array.prototype.map.call(t,(function(t){return new e.listData(t,{})}))}))}(PULSE.app,PULSE.core,PULSE.app.common,PULSE.I18N),function(e,t,a,s){const l=function(e,t,a){if(e.length>0)for(let s=0;s<e.length;s++)if(e[s].role===t)return e[s].roleShort=a,e[s];return{}},n=function(n,o){let r=!1;if(o.fixture){let a,i=!0,c=!1,m=!1;if(o.fixture.matchOfficials&&(i=!1,m=!0,o.fixture.matchOfficials.length>0)){c=!0;const e=["MAIN","LINESMAN_1","LINESMAN_2","FOURTH_OFFICIAL"],s=[t.lookup("label.referee.short"),t.lookup("label.assistant.short")+" 1",t.lookup("label.assistant.short")+" 2",t.lookup("label.official.short")];a=[];for(let t=0;t<e.length;t++)a.push(l(o.fixture.matchOfficials,e[t],s[t]))}let d=!1;o.fixture.gameweek.compSeason.competition.id!==e.competition.FIRST&&o.fixture.gameweek.compSeason.competition.id!==e.summerSeries||(d=!0);const u=e.competitionMatchCentres.some((function(e){return o.fixture.gameweek.compSeason.competition.id===e}));let p,g,h;o.fixture.penaltyShootouts&&o.fixture.penaltyShootouts.length>1&&(h=o.fixture.penaltyShootouts.findIndex((function(e){return e.teamId===o.fixture.aetWinnerId})),p={penScore:[o.fixture.penaltyShootouts[h].score,o.fixture.penaltyShootouts[+!h].score]},g=o.fixture.teams.filter((function(e){return e.team.id===o.fixture.aetWinnerId})));const b=e.common.getMatchCentreUrl(o.fixture);let f=!1;b&&u&&"P"!==o.fixture.phase&&(f=!0);let C=!(!o?.fixture?.metadata?.has_highlights||n.resultList.element.dataset.hideHighlights);r=Mustache.render(e.templates.matchitembase,{isPL:d,quickviewLabel:t.lookup("label.quickview"),matchJson:JSON.stringify(o.fixture),upcoming:"U"===o.fixture.status,fixture:o.fixture,venue:i,officials:a,hasOfficials:c,showOfficials:m,noOfficials:t.lookup("label.nomatchofficials"),live:"L"===o.fixture.status,abandoned:"A"===o.fixture.status,homeTeam:!!o.teams&&o.teams[0],awayTeam:!!o.teams&&o.teams[1],matchCentreUrl:b,hasMatchCentreUrl:f,hasHighlights:C,hasHighlightsLabel:t.lookup("label.highlightsAvailable"),onPenaltiesLabel:t.lookup("label.onpenalties"),shootout:p,shootoutWonLabel:t.lookup("label.won"),shootoutWinner:g?g[0].team.club.name:"",defaultBadge:`this.src = '${s.getDefaultBadge("25")}'`,wrap:!n.element,translator:e.common.templateTranslator,renderTeamsDivider:function(){return function(e,a){if("P"===this.fixture.phase||"S"===this.fixture.phase)return`<time>${t.lookup("label.time.tbc")}</time>`;if(1==this.fixture.kickoff.completeness||3==this.fixture.kickoff.completeness){if("U"===this.fixture.status){const e=moment(this.fixture.kickoff.millis).format("HH:mm");return'<time datetime="'+e+'">'+e+"</time>"}if("A"===this.fixture.status){const e=t.lookup("label.match.abandoned.short");return'<span class="match-fixture__score">'+e+"<span>-</span>"+e+"</span>"}return'<span class="match-fixture__score '+(this.fixture.penaltyShootouts.length>0?"has-penalties":"")+'">'+(null!=this.fixture.teams[0].score?this.fixture.teams[0].score:"")+"<span>-</span>"+(null!=this.fixture.teams[1].score?this.fixture.teams[1].score:"")+"</span>"}return"<time>"+t.lookup("label.tbc")+"</time>"}},getShortName:function(){return function(e,t){return this.fixture.teams[e].team&&this.fixture.teams[e].team.club&&this.fixture.teams[e].team.club.shortName?this.fixture.teams[e].team.club.shortName:this.fixture.teams[e].team.name}},getAbbr:function(){return function(e,t){return this.fixture.teams[e].team&&this.fixture.teams[e].team.club&&this.fixture.teams[e].team.club.abbr?this.fixture.teams[e].team.club.abbr:this.fixture.teams[e].team.name}},icnHighlights:s.icon.renderSpriteSVG("highlights","icn","svg"),icnRight:s.icon.renderSpriteSVG("arrow-right","icn","svg"),stadiumIcn:'<svg class=\'svg\' width="16" height="11" viewBox="0 0 16 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9846 6.419V6.88792L8.64637 10.3198V9.85089L15.9846 6.419ZM7.27558 9.09389L8.45642 9.84944V10.3098L7.27558 9.55034V9.09389ZM0 6.38323L5.05679 9.68344V10.1523L0 6.83811V6.38323ZM6.73304 9.08212V9.52922L5.33611 10.1523V9.70525L6.73304 9.08212ZM15.9846 5.2896V5.75851L8.64637 9.1904V8.72149L15.9846 5.2896ZM7.27558 7.96608L8.45642 8.72241V9.18274L7.27558 8.4233V7.96608ZM0 5.19779L5.05679 8.49724V8.96693L0 5.65189V5.19779ZM6.73304 7.89669V8.34378L5.33611 8.96691V8.51904L6.73304 7.89669ZM7.5566 0.166687L8.86323 1.02894L10.4778 0.288202L15.912 3.01601L14.2117 3.74974L16 4.61343L8.63254 7.98689L7.00484 6.88708L5.10085 7.78205L0.029439 4.45305L1.96198 3.6905L0.544977 2.84305L7.5566 0.166687ZM8.71869 1.84297L3.86501 3.82296L7.0618 5.71494L12.0467 3.61732L8.71869 1.84297ZM15.9992 3.55344V4.00054L15.621 4.16956L15.1502 3.932L15.9992 3.55344ZM0.544938 3.27306L1.26193 3.70847L0.775702 3.91177L0.54185 3.78091L0.544938 3.27306Z"/>\n                </svg>',getVenueName:function(){return function(e,t){return this.fixture.ground.city?this.fixture.ground.name+", "+this.fixture.ground.city:this.fixture.ground.name}},getOpta:function(){return function(e,t){if(this.fixture.teams[e].team&&this.fixture.teams[e].team.altIds&&this.fixture.teams[e].team.altIds.opta)return this.fixture.teams[e].team.altIds.opta}},getBadge:function(){return function(e,t){if(this.fixture.teams[e].team&&this.fixture.teams[e].team.altIds&&this.fixture.teams[e].team.altIds.opta)return s.getClubBadge(this.fixture.teams[e].team.altIds.opta,"50")}},getBadgeDoubleSize:function(){return function(e,t){if(this.fixture.teams[e].team&&this.fixture.teams[e].team.altIds&&this.fixture.teams[e].team.altIds.opta)return s.getClubBadge(this.fixture.teams[e].team.altIds.opta,"50",!0)}},getMatchTime:function(){return function(e,t){if(this.fixture.clock&&this.fixture.clock.secs)return s.getEventTime(this.fixture)}},getClassForState:function(){return function(e,t){switch(t(e)){case"L":return"live";case"U":default:return"preMatch";case"C":return"postMatch"}}}})}n.element&&!n.container?(n.element.innerHTML=r,n.detailsContainer=n.element.querySelector("a.fixture"),e.clubBadge(n.element,!0)):!n.element&&n.container&&(n.element=a.dom.appendDomString(n.container,r),e.clubBadge(n.container,!0)),i(n,o,n.detailsContainer),n.resultList&&n.resultList.initModal()},i=function(t,s,l){if(s.teams&&s.teams.length){const t=[{},{}];for(let e=0;e<s.teams.length;e++){const a=Object.keys(s.teams[e]);for(let l=0;l<a.length;l++)if("teamList"!==a[l])for(let n=0;n<s.teams[e][a[l]].length;n++){const i=s.teams[e][a[l]][n],o={type:a[l],data:i};t[e][i.time.secs]||(t[e][i.time.secs]=[]),t[e][i.time.secs].push(o)}}const n=t.map((function(e,t,s){a.common.quicksort(Object.keys(e),0,Object.keys(e).length-1,(function(e,t){return e<t}))})),i=Mustache.render(e.templates.matchitemdetails,{eventStreamHome:{stream:t[0],map:n[0]},eventStreamAway:{stream:t[1],map:n[1]}});l&&(l.innerHTML=l.innerHTML+i)}};e.competitionMatchListItem=function(t,l,i,o){const r=this;var c;r.resultList=o,r.container=i,r.matchId=!1,r.matchData=!1,r.matchKickoff=!1,r.currentState=!1,r.element=!1,r.detailsContainer=!1,r.subscriberController=!1,r.subscriber={method:"GET",callback:r.update,forceCallback:!0,target:r,interval:6e3},!t&&l&&(r.matchData=l,r.matchId=r.matchData.id||!1,r.matchKickoff=r.matchData.kickoff.millis||!1,r.currentState=r.matchData.status||!1,n(r,{fixture:l})),t&&(r.element=t,r.matchId=r.element.getAttribute("data-comp-match-item")||!1,r.matchKickoff=r.element.getAttribute("data-comp-match-item-ko")||!1,r.currentState=r.element.getAttribute("data-comp-match-item-status")||!1),r.subscriber.url=(c=r.matchId,e.common.createApiPath("fixtures.single",{id:c,fast:s.isFastMovingDataEnabled()})),"L"===r.currentState&&(r.subscriberController=a.data.manager.add(r.subscriber))},e.competitionMatchListItem.prototype.update=function(e,t){const a=this;a.currentState=e.status,a.matchData=e,n(a,e),"C"===a.currentState&&a.subscriberController&&a.subscriberController.stop()}}(PULSE.app,PULSE.I18N,PULSE.core,PULSE.app.common),function(e,t,a,s){let l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=["january","febuary","march","april","may","june","july","august","september","october","november","december"],i=function(i,r){let c,m=this;const{content:d}=i,u=Object.values(d);let p=i.content[Object.keys(i.content)[0]],g=p[0].kickoff.millis,h=new Date(g);const b=p[0].gameweek.compSeason.competition,f=5===b.id&&e.eflCupCarabaoCompSeasonIds.includes(p[0].gameweek.compSeason.id);let C=!1,S=!1;if(b.id){const e=f?`${b.id}_eflCarabao17_18`:b.id;C=a.getCompetitionLogo(e),S=a.getCompetitionLogo(`${e}_small`)}if(c=i.matchDay===s.lookup("label.tbc.date")?Mustache.render(e.templates.fullmatchday,{date:i.matchDay,day:i.matchDay,longDate:i.matchDay,shortDate:i.matchDay,tbc:!0,refAppointment:i.resultList.refereeAppointments,logoSrc:C,logoSmallSrc:S,totalItems:u.flat().length,renderSVG:()=>e=>a.icon.renderSVG(e)}):Mustache.render(e.templates.fullmatchday,{date:i.matchDay,day:h.getDate(),longDate:moment(h).locale(e.language).format("dddd D MMMM YYYY"),shortDate:moment(h).locale(e.language).format("ddd D MMM YYYY"),monthLong:s.lookup("label.date.month."+n[h.getMonth()]),monthShort:s.lookup("label.date.month.short."+n[h.getMonth()]),dayLong:s.lookup("label.date.day."+l[h.getDay()]),dayShort:s.lookup("label.date.day.short."+l[h.getDay()]),tbc:!1,compDescription:b.description||"",logoSrc:C,level:b.level,refAppointment:i.resultList.refereeAppointments,logoSmallSrc:S,totalItems:u.flat().length,renderSVG:()=>e=>a.icon.renderSVG(e)}),(!m.element||m.element&&!document.body.contains(m.element))&&(m.element=t.dom.appendDomString(m.container,c,!0,2),r=!1),!i.content)return;let v,y=function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return e[a]}(m.resultList.filterState,(function(e){return"comps"===e.name})),L=Object.keys(i.content),_=m.element.querySelector(".js-fixtures-matches-list");_&&_.classList.remove("js-fixtures-matches-list");for(let a=0;a<L.length;a++){var x;let l,n=!1,c="C"===i.statuses?i.content[L[a]].reverse():i.content[L[a]],d=_;c[0].matchOfficials&&c[0].matchOfficials.length>0&&(x={matchLabel:s.lookup("label.match"),refLabel:s.lookup("label.referee"),asstLabel1:s.lookup("label.assistantref.short")+" 1",asstLabel2:s.lookup("label.assistantref.short")+" 2",asstLabel3:s.lookup("label.official")}),l=y&&y.state&&y.state.id&&y.state.id<0?"allcompetitions":"";let u=c[0].gameweek.compSeason.competition.id;if(r){v=m.element.querySelector('[data-competition-matches-list="'+i.matchDay+'"]').querySelector('[data-comp-id="'+u+'"]')}else{i.matchDay===s.lookup("label.tbc.date")?(d=m.element.querySelector(".js-tbc-match-list"),n=!0):d=_,v=t.dom.appendDomString(d,Mustache.render(e.templates.matchlist,{comp:c[0].gameweek.compSeason.competition,compLogoClass:l,compSeason:c[0].gameweek.compSeason,isTbc:n,eflCarabao17_18:5===u&&e.eflCupCarabaoCompSeasonIds.includes(c[0].gameweek.compSeason.id),refModel:x}),!0,!1).querySelector('[data-comp-id="'+u+'"]')}let p=o(c);for(let t=0;t<i.content[L[a]].length;t++)new e.competitionMatchListItem(!1,p[t],v,m.resultList)}};var o=function(e){return e.sort((function(e,t){let a=new Date(e.kickoff.millis),s=new Date(t.kickoff.millis);if(e.kickoff.millis===t.kickoff.millis){let a=e.teams[0].team.name,s=t.teams[0].team.name;if(a===s)return 0;if(a>s)return 1;if(a<s)return-1}return a<s?-1:a>s?1:0})),e};e.competitionMatchesList=function(t,a,s){let l=this;if(l.element=t,l.container=a,l.incompleteMatches=[],l.matchDayData=s,l.resultList=s.resultList,l.element){let t=l.element.querySelectorAll("[data-comp-match-item]");l.incompleteMatches=function(t){let a=[];for(let s=0;s<t.length;s++){let l=t[s];"C"!==l.getAttribute("data-comp-match-item-status")&&(a[l.getAttribute("data-comp-match-item")]=new e.competitionMatchListItem(l,!1,!1))}return a}(t)}else l.container&&s&&i.call(l,s)},e.competitionMatchesList.prototype.append=function(e){let a=this;a.matchDayData.content=t.object.extend(!0,a.matchDayData.content,e),i.call(a,a.matchDayData,!0)},e.competitionMatchesList.prototype.refresh=function(e){e&&i.call(this,e)}}(PULSE.app,PULSE.core,PULSE.app.common,PULSE.I18N),function(e,t,a,s,l){var n=function(e,a){let s=i(e,0,100,e.sortOrder,e.validMatchStates);s+="&endDate="+a+"&startDate="+a,e.todaysMatchSub={url:s,target:e,method:"GET",forceCallback:!0,callback:e.gotTodaysMatchesUpdate,interval:6e3},e.todaysMatches&&a&&(e.todaysMatchSubRef=t.data.manager.add(e.todaysMatchSub))};var i=function(t,a,l,n,i){let r=o(t,t.filterState);for(let e in r)r[e]||(r[e]=void 0);return r.page=a,r.pageSize=l,r.sort=n,r.statuses=i,r.altIds=!0,r.detail=t.detail,r.fast=s.isFastMovingDataEnabled(),t.sort&&(r.sort=t.sort),t.teams>0&&(r.teams=t.teams),t.startDate&&(r.startDate=t.startDate),t.endDate&&(r.endDate=t.endDate),e.common.createApiPath("fixtures.all",r)};var o=function(t,a){let s={};for(let e=0;e<a.length;e++)-1!=a[e].state.id&&a[e].active?s[a[e].name]=a[e].state.id:"comps"===a[e].name||"teams"===a[e].name?s[a[e].name]=a[e].state.list.map((function(e){return e.id})).join(","):s[a[e].name]=void 0;return s.comps&&s.comps.toString().split(",").length>1&&(s.compSeasons=void 0),s.comps&&!s.compSeasons&&(s.compSeasons=s.comps.toString().split(",").filter((function(e){return"-1"!==e})).map((function(t){return e.filterData.getCurrentCompSeasonId(t)})).join(",")),s};let r=function(t,a,s,i){t.todaysMatchSubRef&&!s&&t.todaysMatchSubRef.stop(),s||(a.innerHTML="");let o=Object.keys(i);t.loader&&(t.loader.contentLoaded(),o.length<1&&t.loader.removeLoader()),!s&&o.length<1&&(t.filterState[0].state.id==e.competition.FIRST?a.innerHTML=Mustache.render(e.templates.nodatafixture,{label:l.lookup("label.nofixtures.pl")}):a.innerHTML=Mustache.render(e.templates.nodatafixture,{label:l.lookup("label.nocontentmatches")}));for(let l=0;l<o.length;l++){let c=o[l],m={},d=i[o[l]];for(let e=0;e<d.length;e++)m[d[e].gameweek.compSeason.competition.id]||(m[d[e].gameweek.compSeason.competition.id]=[]),m[d[e].gameweek.compSeason.competition.id].push(d[e]);var r;t.matchDays[c]&&s?t.matchDays[c].append(m):(r=new e.competitionMatchesList(!1,a,{matchDay:c,content:m,poll:c===(new Date).toISOString().split("T")[0],statuses:t.validMatchStates,resultList:t}),t.matchDays[c]=r,c===(new Date).toISOString().split("T")[0]&&(t.todaysMatches=r,t.validMatchStates.includes("C")&&n(t,c)))}},c=function(e,t){let a={};if(t.content&&t.content.length){let e;for(let s=0;s<t.content.length;s++)e=m(t.content[s]),a[e.matchDate]||(a[e.matchDate]=[]),a[e.matchDate].push(e)}return a};var m=function(t,a){switch(t.matchDate=l.lookup("label.tbc.date"),t.kickOffTime=l.lookup("label.tbc"),t.phase){case"P":case"S":break;default:switch(t.kickoff.completeness){case 2:t.matchDate=moment(t.kickoff.millis).format("dddd D MMMM YYYY"),t.kickOffTime=l.lookup("label.tbc");break;case 3:var n=new Date(t.kickoff.millis);t.matchDate=moment(t.kickoff.millis).format("dddd D MMMM YYYY"),t.kickOffTime=moment(n).locale(e.language).format("HH:mm");break;case 1:t.matchDate=l.lookup("label.tbc.date");n=new Date(t.kickoff.millis);t.kickOffTime=moment(n).format("HH:mm")}}return t.teams.map((function(e){e.opta=e.team.altIds&&e.team.altIds.opta?e.team.altIds.opta:"",e.clubBadge=s.getClubBadge(e.opta,"50"),e.clubBadgeRetina=s.getClubBadge(e.opta,"50",!0),e.getBadge=function(){return function(t){return s.getClubBadge(e.opta,t)}},e.getBadgeRetina=function(){return function(t){return s.getClubBadge(e.opta,t,!0)}},e.url=s.generateContentUrl("team",e.team.club.id,e.team.club.name.replace(" ","-"))})),t.url=s.getMatchCentreUrl(t),a&&(t.viewMatchLabel=l.lookup("label.viewmatch"),!t.neutralGround&&t.teams.length>0&&t.ground&&(t.groundLink="/clubs/"+t.teams[0].team.club.id+"/"+t.teams[0].team.club.name.replace(new RegExp(" ","g"),"-")+"/stadium",t.stadiumInfoLabel=l.lookup("label.stadium.information")),t.downloadCalendarLabel=l.lookup("label.addToCal"),t.previousResulsLabel=l.lookup("label.previousresults"),t.previousMeetingsLabel=l.lookup("label.previousmeeting"),t.standingsLabel=l.lookup("label.standings"),t.tableLabels={pos:l.lookup("label.short.position"),club:l.lookup("label.club"),pl:l.lookup("label.short.played"),gd:l.lookup("label.goaldifference"),pts:l.lookup("label.short.points")}),t};let d=function(e){let t=[];return e.teams&&e.teams.forEach((function(e){t.push(e.team.id)})),t};e.resultsList=function(a,s){let l,i=this;i.element=a,i.fixtures=i.element.querySelector("section.fixtures"),i.sectionTitle=i.element.querySelector(".subHeader"),i.todaysMatches=!1,i.matchDays={},i.filterState=!1,i.filterInitialised=!1,i.fixturesIds=a.getAttribute("data-fixturesids"),i.modalOpen=!1,i.pageSize=i.element.getAttribute("data-page-size"),i.pageNumber=i.element.getAttribute("data-page"),i.pagesTotal=!1,i.sortOrder=i.element.getAttribute("data-sort-order"),i.validMatchStates=i.element.getAttribute("data-match-states"),i.filterListConfig=i.element.getAttribute("data-filter-list")||i.element.getAttribute("data-team-type"),i.refereeAppointments=i.element.getAttribute("data-referee-appointments"),i.teams=i.element.getAttribute("data-team"),i.compSeasons=i.element.getAttribute("data-comp-seasons"),i.comps=i.element.getAttribute("data-comps"),i.lastConfig={compSeasons:parseInt(i.compSeasons),comps:parseInt(i.comps)},i.sort=i.element.getAttribute("data-sort"),i.startDate=i.element.getAttribute("data-start-date"),i.endDate=i.element.getAttribute("data-end-date"),i.pageFilterBtn=i.element.getElementsByClassName("pageFilter__filter-btn"),i.generateFixturesCalendar=i.element.getElementsByClassName("generateFixturesCalendar"),i.detail=i.element.getAttribute("data-detail"),"DETAILED"===i.detail?i.detail=2:i.detail=void 0,"DESCENDING"===i.sort?i.sort="desc":"ASCENDING"===i.sort?i.sort="asc":i.sort=void 0,i.loader=new e.common.scrollLoader(i.fixtures,i,!0),i.filterElement=a.querySelector('[data-widget="results-filtered-list-filter"]'),i.compSeasonsInit=!1,l=i.validMatchStates&&!i.validMatchStates.includes("C")?e.filterGroups.Fixtures[i.filterListConfig]:e.filterGroups.Results[i.filterListConfig],i.refereeAppointments&&(l=e.filterGroups.referee.appointments),i.teams>0?l=l.filter((function(e){return"teams"!==e.name})):i.lastConfig.teams=void 0,i.filterController=new e.common.listFilterController(i.filterElement,{dropdowns:l,delegate:i}),i.initModal(),function(t){let a=t.element.querySelectorAll("[data-competition-matches-list]"),s=(new Date).toISOString().split("T")[0];for(let l=0;l<a.length;l++){let i=a[l];if(i.getAttribute("data-competition-matches-list")===s){t.todaysMatches=new e.competitionMatchesList(i,!1,{poll:!0,statuses:t.validMatchStates}),t.validMatchStates.includes("C")&&n(t,s);break}}}(i),i.fixturesIds&&i.initBroadcastData(i.fixturesIds),i.config=s,i.tabLoader=document.querySelector(".js-tab-loader"),i.config.loader&&t.style.removeClass(i.element,"u-hide"),i.tabLoader&&t.style.addClass(i.tabLoader,"u-hide")},e.resultsList.prototype=Object.create(e.common.filterControllerDelegate.prototype),t.object.extend(e.resultsList.prototype,e.common.scrollLoaderDelegate.prototype),e.resultsList.prototype.initBroadcastData=function(t){let a=this,l={comps:a.lastConfig.comps?a.lastConfig.comps:e.competition.FIRST,fixtureIds:t,pageSize:100,page:0,hideBroadcasters:a.validMatchStates.includes("C")};new s.getBroadcasters(a.fixtures,{containerClass:"broadcastDataContainer",template:"commonmatchbroadcaster"},l)},e.resultsList.prototype.initModal=function(){let e=this,t={parent:e.element,selector:"[data-ui-modal]",openClass:"open",modalId:"modalWrap",closeText:"close",openCallback:function(t){e.modalOpen||(e.updateModal(t),e.modalOpen=!0)},closeCallback:function(){e.modalOpen=!1},modalWrapClass:"pl-modal",modalContentWrapClass:"pl-modal__content"};e.modal=new a.modal(t)},e.resultsList.prototype.updateModal=function(t){let s=t.config.current.uiArgs,l=t.config.current.content,n=t.config.current.activator,i=l.getElementsByClassName("js-fixtures-modal-header");if(i&&i.length>0&&s){let t=m(s,n),l=document.createElement("div"),o=new a.loader(l,{init:!0,loaderTemplate:e.templates.loader});t.loaderHtml=o.element.innerHTML;let r=Mustache.render(e.templates.quickviewheader,t);i[0].innerHTML=r}this.getMatchHeadToHead(s,i[0]),this.getMatchStandings(s,i[0])},e.resultsList.prototype.getMatchHeadToHead=function(a,s){let l=this,n=d(a);if(n&&n.length>0){let i=n.join(","),o={comps:e.competition.FIRST,teams:i,altIds:!0},r={url:e.common.createApiPath("stats.headtohead",o),method:"GET",callback:l.renderHeadToHead,target:this,container:s,match:a};t.data.manager.add(r)}},e.resultsList.prototype.getMatchStandings=function(a,s){let l=this,n=a.gameweek.compSeason.id;if(n){let i={compSeasons:n,altIds:!0},o={url:e.common.createApiPath("standings.all",i),method:"GET",callback:l.renderStandings,target:this,container:s,match:a,forceCallback:!0};t.data.manager.add(o)}},e.resultsList.prototype.renderStandings=function(t,a){if(a&&a.container&&t&&t.tables&&t.tables.length>0){let l=function(e,t){let a=d(e),l=[];return t.forEach((function(e){e.entries.forEach((function(e){a.indexOf(e.team.id)>-1&&(e.movement="none",e.position<e.startingPosition?e.movement="up":e.startingPosition<e.position&&(e.movement="down"),e.url=s.generateContentUrl("club",e.team.club.id,e.team.club.name.replace(" ","-")),e.teamName=e.team.club.shortName||e.team.name,e.team.getBadge=function(){return function(t){return s.getClubBadge(e.team.altIds.opta,t)}},e.team.getBadgeRetina=function(){return function(t){return s.getClubBadge(e.team.altIds.opta,t,!0)}},e.overall.goalsDifferenceString=`${e.overall.goalsDifference}`,e.overall.goalsDifference>0&&(e.overall.goalsDifferenceString=`+${e.overall.goalsDifference}`),l.push(e))}))})),l}(a.match,t.tables),n=a.container.getElementsByClassName("js-match-standings-container");n&&n.length>0&&(n[0].innerHTML=Mustache.render(e.templates.fixturemodalstandings,{table:l}),e.clubBadge(n[0],!0))}},e.resultsList.prototype.renderHeadToHead=function(t,a){if(a&&a.container&&t){if(t.fixtures)for(let r in t.fixtures){if((i=a.container.getElementsByClassName("matchTeamForm"+r))&&i.length>0&&t.fixtures[r]){for(var s=Math.min(t.fixtures[r].length,5),l="",n=0;n<s;n++){1===(o=m(t.fixtures[r][n])).gameweek.compSeason.competition.id&&(l+=Mustache.render(e.templates.fixturemodalmatch,o))}i[0].innerHTML=l,e.clubBadge(i[0],!0)}}if(t.headToHeads&&t.headToHeads.length>0){var i=a.container.getElementsByClassName("js-match-previous-meetings-container");for(s=Math.min(t.headToHeads.length,3),l="",n=0;n<s;n++){var o;1===(o=m(t.headToHeads[n])).gameweek.compSeason.competition.id&&(l+=Mustache.render(e.templates.fixturemodalmatch,o))}i[0].innerHTML=l}}},e.resultsList.prototype.didRequestLoad=function(){let a=this;a.filterState&&!a.requestInProgress?(a.requestInProgress=!0,function(a){var s=parseInt(a.pageNumber);s++,a.NextPageSubscriber={url:i(a,s,a.pageSize,a.sortOrder,a.validMatchStates),target:a,method:"GET",callback:a.gotNextPage,forceCallback:!0,headers:[e.accountHeader]},t.data.request(a.NextPageSubscriber.url,a.NextPageSubscriber.method,a.gotNextPage,a,null,{},a.NextPageSubscriber.headers)}(a)):setTimeout((function(){a.didRequestLoad()}),1e3)},e.resultsList.prototype.gotTodaysMatchesUpdate=function(e,t){let a=this;if(e&&e.content&&e.content.length&&a.todaysMatches){let t={};for(let a=0;a<e.content.length;a++)t[e.content[a].gameweek.compSeason.competition.id]||(t[e.content[a].gameweek.compSeason.competition.id]=[]),t[e.content[a].gameweek.compSeason.competition.id].push(e.content[a]);a.todaysMatches.refresh({content:t,matchDay:(new Date).toISOString().split("T")[0]})}},e.resultsList.prototype.gotNextPage=function(e,t){let a=this;e.pageInfo&&(a.pageNumber=e.pageInfo.page,a.pagesTotal=e.pageInfo.numPages),a.requestInProgress=!1;let s=c(0,e);r(a,a.fixtures,!0,s);let l=[];for(let t=0;t<e.content.length;t++)l.push(e.content[t].id);a.initBroadcastData(l),a.loader.completedDataLoad(a.pageNumber>=a.pagesTotal)},e.resultsList.prototype.gotFreshPage=function(e,t){let a=this,s=c(0,e);r(a,a.fixtures,!1,s);let l=[];for(let t=0;t<e.content.length;t++)l.push(e.content[t].id);a.initBroadcastData(l),a.loader.reAppend();const n=a.element.querySelector(".js-tbc-accordion-btn");n&&n.addEventListener("click",(e=>{const{target:t}=e;t.closest(".js-tbc-accordion").classList.toggle("is-active")}))},e.resultsList.prototype.filterUpdated=function(a,l){let n=this,r=!0;!n.compSeasonsInit&&n.teams>0&&a[1]&&(n.compSeasonsInit=new s.listFilterClubSeasons(a[1].state.list,n.teams,n.filterController));let c=o(n,a);c.comps!=e.competition.FIRST?(n.generateFixturesCalendar[0].style.display="none",n.pageFilterBtn[0].style.width="100%"):(n.generateFixturesCalendar[0].style.display="block",n.pageFilterBtn[0].removeAttribute("style")),r=t.object.sameObject(n.lastConfig,c),n.lastConfig=c,n.filterState=a,r&&!l||(n.filterController.setPageLoading(n,n.fixtures),function(a){a.pageNumber=0,a.NewPageSubscriber={url:i(a,a.pageNumber,a.pageSize,a.sort,a.validMatchStates),target:a,method:"GET",callback:a.gotFreshPage,forceCallback:!0,headers:[e.accountHeader]},t.data.manager.add(a.NewPageSubscriber)}(n)),n.filterInitialised=!0};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="results-filtered-list"]');t=Array.prototype.map.call(t,(function(t){return new e.tabAwareWidget({widgetConstructor:e.resultsList,widgetElement:t,widgetConfig:{loader:!0}})}))}))}(PULSE.app,PULSE.core,PULSE.ui,PULSE.app.common,PULSE.I18N),PULSE.app.rangeLookup={39:{1:{range:"38-38",filter:[13767,13765,13771]}},33:{1:{range:void 0,filter:[13298,13299],pageSize:313},2:{range:void 0,filter:[13300],pageSize:313}},34:{1:{range:void 0,filter:[12806,12805],pageSize:313},2:{range:void 0,filter:[12807],pageSize:313}},36:{0:{range:void 0,filter:[13897,13898,13900,13902,13903,13904,13905,13908],pageSize:49},1:{range:void 0,filter:[13906,13907,13909,13910],pageSize:49},2:{range:void 0,filter:[13911,13912],pageSize:49},4:{range:void 0,filter:[13913,13914],pageSize:49}}},function(e,t,a){let s,l=function(e,s){let l=this;l.container=e;let n=document.createElement("div");n.setAttribute("id","quickview"),l.container.appendChild(n),l.modal=new a.modal({parent:document,selector:"[data-ui-modal]",openClass:"open",modalId:"modalWrap",closeText:t.lookup("label.close"),openCallback:function(e){console.log("mdl open",e)},closeCallback:function(e){console.log("mdl close",e)}})};e.getQuickViewInstance=function(){return s||(s=new l(document.querySelector("body"),{})),s}}(PULSE.app,PULSE.I18N,PULSE.ui),function(e,t,a,s){let l=function(e,t){let a=Object.keys(t),s="",l=0;for(let e=0;e<a.length;e++)if(!1!==t[a[e]]){s+=(0===l?"?":"&")+a[e]+"="+t[a[e]],l++}return s};e.tableStatsCard=function(e,t){let a=this;a.element=e,a.teamId=t.teamId,a.teamName=t.teamName,a.teamAbbr=t.teamAbbr,a.optaId=t.optaId,a.extraOptions=!1,a.table=t.table,a.subscriber={method:"GET",callback:a.update,forceCallback:!0,target:a}},e.tableStatsCard.prototype.render=function(t,a){this.element.innerHTML=Mustache.render(e.templates.tablerowexpanded,{})},e.tableStatsCard.prototype.gotStandings=function(e,t){let s=this;e&&(s.standings=e,a.data.manager.add(s.statsSubscriber))},e.tableStatsCard.prototype.gotStats=function(t,l){let n=this;if(t&&t.content){let l={};t.content.map((function(e){switch(e.name){case"goals":l.gs=e.value;break;case"goals_conceded":l.gc=e.value}})),n.element.innerHTML="",a.dom.appendDomString(n.element,Mustache.render(e.templates.expandedgraphview,{stats:l,standings:n.standings,name:n.teamName,abbr:n.teamAbbr,optaId:n.optaId,clubBadge:s.getClubBadge(n.optaId,"25"),clubBadgeRetina:s.getClubBadge(n.optaId,"25",!0)}),!0)}},e.tableStatsCard.prototype.prepareToShow=function(e){let t=this;t.extraOptions=e;let n=function(e,t){let a={};for(let e=0;e<t.length;e++)if(-1!=t[e].state.id)a[t[e].name]=t[e].state.id;else if("comps"==t[e].name){let s="";for(let a=0;a<t[e].state.list.length;a++)s+=t[e].state.list[a].id,a<t[e].state.list.length-1&&(s+=",");a[t[e].name]=s}else a[t[e].name]=!1;return a}(0,t.extraOptions);n.teams=t.teamId,t.standingsSubscriber={url:s.createApiPath("standings.all",l(0,n)),method:"GET",callback:t.gotStandings,forceCallback:!0,target:t},a.data.manager.add(t.standingsSubscriber)}}(PULSE.app,PULSE.I18N,PULSE.core,PULSE.app.common),function(e,t,a,s){e.filteredCompTableRow=function(e,t,a){let s=this;s.teamId=!1,s.element=!1,s.matchData=!1,s.statsCard=!1,s.tableDelegate=e,s.tableContainer=s.tableDelegate.table,s.container=a,t&&(s.element=t,s.teamId=s.element.getAttribute("data-filtered-table-row"),s.maxSize=s.element.getAttribute("data-filtered-entry-size"),s.compSeason=s.element.getAttribute("data-compseason"),s.setListeners(s))},e.filteredCompTableRow.prototype.setListeners=function(){let e=this;["keypress","click"].forEach((function(t){e.element.querySelector(".js-reveal-more")&&e.element.querySelector(".js-reveal-more").addEventListener(t,(function(t){if(13===t.which||"click"===t.type){a.style.toggleClass(e.element,"expanded");let t=e.container.querySelectorAll('[data-filtered-table-row-expander="'+e.teamId+'"]');if(t&&t.length>0&&window.googleInit&&a.style.hasClass(e.element,"expanded")){let a=t[0].getElementsByClassName("teamPerformanceStandingsContainer");a&&a.length>0&&e.getProgress(a[0])}}}))}))},e.filteredCompTableRow.prototype.getProgress=function(e){let s=this,l={id:s.compSeason,tid:s.teamId,altIds:!0},n={url:t.createApiPath("competition-season.standings.team",l),method:"GET",callback:s.renderProgress,target:this,container:e};a.data.manager.add(n)},e.filteredCompTableRow.prototype.renderProgress=function(a,l){let n=this;if(a&&l&&a.entries&&a.entries.length>0&&a.team){l.container.parentNode.style.display="";let i=a.team&&a.team.club&&a.team.club.abbr?a.team.club.abbr:a.team.shortName,o=[],r=[],c=0;a.entries.forEach((function(t,l){let i=t.fixtures?.[0]?.gameweek?.gameweek??c+1;c=i;let m=[i+"",t.position],d="",u="#76766f";if(t.fixtures&&t.fixtures.length>0&&a.team.id)t.fixtures.forEach((function(l){let i=n.tableDelegate.generateMatchModel(l,a.team.id);i.position=t.position,i.posLabel=s.lookup("label.short.position"),"W"===i.outcome.type?u="#13cf00":"L"===i.outcome.type&&(u="#D81920"),d+=Mustache.render(e.templates.progressmatch,i)})),m.push(d),m.push("point { fill-color: "+u+"; stroke-width: 2;  stroke-color: white; }"),o.push(m),r.push(t);else{let a={};a.position=t.position,a.posLabel=s.lookup("label.short.position"),a.didNotPlay=s.lookup("label.dnp"),d+=Mustache.render(e.templates.progressmatchnotplayed,a),u="#ffffff",m.push(d),m.push("point { fill-color: "+u+"; stroke-width: 2;  stroke-color: black; }"),o.push(m),r.push(t)}}));let m=new google.visualization.DataTable;m.addColumn("string","Year"),m.addColumn("number",i),m.addColumn({type:"string",role:"tooltip",p:{html:!0}}),m.addColumn({type:"string",role:"style"}),m.addRows(o);let d=[1];for(let e=1;e<parseInt(n.maxSize)+1;e++)e%5==0&&d.push(e);let u={colors:["#af99b1"],height:300,legend:"none",pointSize:10,tooltip:{isHtml:!0},fontSize:12,fontName:"PremierSans-Regular",chartArea:{left:80,top:20,right:10},vAxis:{title:s.lookup("label.position"),titleTextStyle:{color:"#37003c",fontSize:"1rem",italic:!1,fontName:"PremierSans-Heavy"},textStyle:{color:"#37003c"},direction:-1,format:"0",viewWindow:{min:1,max:n.maxSize},ticks:d,gridlines:{color:"#eee"}},hAxis:{title:s.lookup("label.gameweek"),titleTextStyle:{color:"#37003c",fontSize:"1rem",italic:!1,fontName:"PremierSans-Heavy"},textStyle:{color:"#37003c"}}},p=new google.visualization.AreaChart(l.container);google.visualization.events.addListener(p,"select",(function(){let e=p.getSelection()[0].row;r&&r[e]&&r[e].fixtures&&r[e].fixtures.length>0&&(window.location.href=t.generateContentUrl("match",r[e].fixtures[0].id))})),p.draw(m,u);let g=function(){p.draw(m,u)};document.addEventListener?window.addEventListener("resize",g):document.attachEvent?window.attachEvent("onresize",g):window.resize=g,e.clubBadge(l.container,!0)}}}(PULSE.app,PULSE.app.common,PULSE.core,PULSE.I18N,PULSE.ui),function(e,t,a,s,l){let n=function(t){let a=t.element.querySelectorAll("[data-filtered-table-row]");Array.prototype.map.call(a,(function(a){new e.filteredCompTableRow(t,a,t.element)}))},i={mapping:{H:"home",A:"away",O:"overall"},H:function(e,t){let a=e.home.points,s=t.home.points;if(a===s){let a=e.home.goalsDifference,s=t.home.goalsDifference;return a===s?0:a>s?1:-1}return a>s?1:-1},A:function(e,t){let a=e.away.points,s=t.away.points;if(a===s){let a=e.away.goalsDifference,s=t.away.goalsDifference;return a===s?0:a>s?1:-1}return a>s?1:-1},O:function(e,t){return e.position<t.position?1:-1}},o=function(e,t,a){if(e&&e.compSeason&&e.compSeason.id&&a&&a[e.compSeason.id]){let s=a[e.compSeason.id].structure;if(s)for(let a=0;a<s.length;a++)if("L"===s[a].type&&s[a].groups&&s[a].groups.length>0&&t.groupName)for(let e=0;e<s[a].groups.length;e++){if(t.groupId&&t.groupId===s[a].groups[e])return s[a];if(t.groupName===s[a].groups[e])return s[a]}else if("L"===s[a].type&&e.tables.length>0)return s[a]}},r=function(l,r,d){let u="",p={competition:{id:e.competition.FIRST}};r.compSeason=l.showAllSeasons?p:r.compSeason;let g=e.competition.FIRST===r.compSeason.competition.id;const h=g&&l.live&&l.liveFixturesPL&&l.liveFixturesPL.length;r.tables.forEach((function(n,c){let m=l.showAllSeasons||function(e,t,a){if(e&&e.compSeason&&e.compSeason.id&&a&&a[e.compSeason.id]){let s=a[e.compSeason.id].structure;if(s&&1===s.length&&"L"===s[0].type)return!0;if(o(e,t,a))return!0}return!1}(r,n,l.structureCache);if(m){d||(d="O"),t.common.quicksort(n.entries,0,n.entries.length-1,i[d]);let c=0,m=!0,p=!1;if(r.compSeason&&r.compSeason.competition&&r.compSeason.competition.id){let e=r.compSeason.competition.id;2!==e&&3!==e&&10!==e&&6!==e&&7!==e||(m=!1),1!==e&&16!==e&&17!==e||(p=!0),h&&(p=!1)}let b,f=!1;n.entries.map((function(e){e.name=e.team&&e.team.club&&e.team.club.name?e.team.club.name:e.team.name;let t=e.team&&e.team.club&&e.team.club?e.team.club.id:e.team.id;if(m&&(e.link=a.generateContentUrl("club",t,e.name.replace(new RegExp(" ","g"),"-"))),e.renderLink=m,e.teamForm=[],e.form&&e.form.length>0){for(let t=0;t<e.form.length;t++)e.teamForm.push(l.generateMatchModel(e.form[t],e.team.id,r.compSeason));e.lastResult=e.teamForm[e.teamForm.length-1]}e.next&&(e.nextMatch=l.generateMatchModel(e.next,e.team.id,r.compSeason)),e.qualifyingClass="",e?.annotations?.forEach((t=>{"Q"===t.type&&("EU_CL"===e.qualifyingClass&&"EN_PR"===t.destination||"EN_PR"===e.qualifyingClass&&"EU_CL"===t.destination?(f=!0,e.PLchampion=!0,e.qualifyingClass="EU_CL"):e.qualifyingClass=t.destination)})),e.clubBadge=a.getClubBadge(e.team.altIds.opta,"50"),e.clubBadgeRetina=a.getClubBadge(e.team.altIds.opta,"50",!0),e.clubBadgeMedium=a.getClubBadge(e.team.altIds.opta,"50"),e.clubBadgeMediumRetina=a.getClubBadge(e.team.altIds.opta,"50",!0),e.clubBadgeSmall=a.getClubBadge(e.team.altIds.opta,"25"),e.clubBadgeSmallRetina=a.getClubBadge(e.team.altIds.opta,"25",!0)})),n.groupId&&n.groupName?b=n.groupName:r.compSeason&&n.groupName&&(b=s.lookup("label.competition."+r.compSeason.competition.id+".group."+n.groupName.replace(/\s/g,"")));let C,S=o(r,n,l.structureCache);S&&(C=S.id);let v=a.getPointsDeducted(n.entries),y=!1,L=!1;p&&(y=function(e){let t=!1;for(let a=0;a<e.length;a++)if(e[a].teamForm.length){t=!0;break}return t}(n.entries),L=function(e){let t=!1;for(let a=0;a<e.length;a++)if(e[a].nextMatch){t=!0;break}return t}(n.entries));let _=!0;(l.showAllSeasons||h)&&(_=!1);const x=r.compSeason.label?.replace(/[^0-9\/]/g,"").split("/")[0],w="2021",k=!moment(x).isBefore(w,"year");u+=Mustache.render(e.templates.filtertable,{rows:n.entries,isPL:g,champion:f,groupName:b,roundId:C,resourceVersion:window.RESOURCE_VERSION,compSeason:r.compSeason.id,lastPositionLabel:s.lookup("label.lastposition"),latestResultLabel:s.lookup("label.latestresult"),latestFixtureLabel:s.lookup("label.latestfixture"),tableSummaryLabel:s.lookup("label.tableSummary"),tableEuropeKeyLabel:s.lookup("label.europeKey"),tableUCLKeyLabel:s.lookup("label.UCLKeyLabel"),tableELKeyLabel:s.lookup("label.ELKeyLabel"),tableUECLKeyLabel:s.lookup("label.UECLKeyLabel"),pointsDeductionLabel:s.lookup("label.pointsDeduction"),moreLabel:s.lookup("label.more"),showExpandSection:_,hasForms:y,hasNextMatches:L,showConferenceLeague:k,positionLabel:{long:s.lookup("label.position"),short:s.lookup("label.short.position")},clubLabel:s.lookup("label.club"),playedLabel:{long:s.lookup("label.played"),short:s.lookup("label.short.played")},wonLabel:{long:s.lookup("label.won"),short:s.lookup("label.short.won")},drewLabel:{long:s.lookup("label.drew"),short:s.lookup("label.short.drew")},lostLabel:{long:s.lookup("label.lost"),short:s.lookup("label.short.lost")},pointsLabel:{long:s.lookup("label.points"),short:s.lookup("label.short.points")},goalsForLabel:{long:s.lookup("label.long.goalsfor"),short:s.lookup("label.goalsfor")},goalsAgainstLabel:{long:s.lookup("label.long.goalsagainst"),short:s.lookup("label.goalsagainst")},goalDifferenceLabel:{long:s.lookup("label.long.goaldifference"),short:s.lookup("label.goaldifference")},nextLabel:s.lookup("label.next"),formLabel:s.lookup("label.form"),entrySize:n.entries.length,pointsDeducted:v,getMetric:function(){return function(e,t){return this[i.mapping[d]][t(e)]}},upIdx:function(){return function(e,t){return++c,""}},getIdx:function(){return function(e,t){return c}},getMoveClass:function(){return function(e,t){return this.position>this.startingPosition?"down":this.position<this.startingPosition?"up":r.compSeason.id?"none":"hidden"}},getRowClass:function(){return function(e,t){return a.getTableRowClass(this)}},renderSVG:()=>e=>a.icon.renderSpriteSVG(e,"icn","icn")})}})),l.allTablesContainer&&l.allTablesContainer.length&&(e.leagueOnlyComps.indexOf(l.compId)>-1&&(l.allStructureContainer[0].innerHTML=""),l.allTablesContainer[0].innerHTML=u,e.clubBadge(l.allTablesContainer[0],!0)),n(l),c(l),m(l)};var c=function(e){e.tableContainer=e.element.getElementsByClassName("tableContainer"),e.roundContainer=e.element.getElementsByClassName("roundContainer"),e.tableContainer.length>0&&e.roundContainer.length>0&&Array.prototype.map.call(e.roundContainer,(function(t){let a=t.getAttribute("data-id");Array.prototype.map.call(e.tableContainer,(function(e){e.getAttribute("data-round")==a&&t.appendChild(e)}))})),e.roundsContainer&&e.roundsContainer.length>0&&(e.roundsContainer[0].innerHTML=""),e.roundContainer.length>0&&e.renderRoundTabs()},m=function(e){let t=e.element.querySelectorAll(".js-reveal-more-header");t.length>-1&&Array.prototype.map.call(t,(function(e){e.style.display="table-cell"}))};e.filteredTable=function(t,a){let s=this;s.element=t,m(s),s.allTablesContainer=s.element.getElementsByClassName("allTablesContainer"),s.tableLogo=s.element.getElementsByClassName("js-table-logo")[0],s.tableAnnotation=s.element.getElementsByClassName("js-covid-annotation")[0],s.allStructureContainer=s.element.getElementsByClassName("allStructureContainer"),s.roundsContainer=s.element.getElementsByClassName("roundsContainer"),s.tableCompetitionExplainedContainer=s.element.getElementsByClassName("tableCompetitionExplainedContainer"),Array.prototype.map.call(s.element.querySelectorAll(".js-reveal-more"),(function(e){e.style.display="table-cell"})),s.delegate=a.delegate||!1,s.filterListConfig=s.element.getAttribute("data-filter-list"),s.compSeason=s.element.getAttribute("data-compseason"),s.competition=s.element.getAttribute("data-comps")||PULSE.app.filterData.comps.primary[s.filterListConfig].id,s.detail=s.element.getAttribute("data-detail")||2,s.live=s.element.getAttribute("data-live"),s.structureCache={},s.filterElement=s.element.querySelector('[data-widget="table-filter"]'),s.filterController=new e.common.listFilterController(s.filterElement,{dropdowns:e.filterGroups.Tables[s.filterListConfig],delegate:s}),s.liveLeague=s.element.querySelector(".js-live-toggle-container"),s.urlConfig={compSeasons:parseInt(s.compSeason),altIds:!0,detail:parseInt(s.detail),FOOTBALL_COMPETITION:s.element.getAttribute("data-comps")||PULSE.app.filterData.comps.primary[s.filterListConfig].id},s.subscriber={method:"GET",callback:s.renderTable,forceCallback:!0,target:s},window.googleInit||window.googleCalled||(window.googleCalled=!0,google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback((function(){window.googleInit=!0}))),c(s),n(s),s.setListeners()},e.filteredTable.prototype=Object.create(e.common.filterControllerDelegate.prototype),e.filteredTable.prototype.filterUpdated=function(a,s){let l=this;if(l.states=a,l.showAllSeasons=!1,l.filterController){let a={},n=l.homeaway;for(let e in l.urlConfig)a[e]=l.urlConfig[e];l.urlConfig.comps=null,l.states.map((function(t){"homeaway"!=t.name?t.state.id>-1||"-1"!=t.state.id?l.urlConfig[t.name]=t.state.id:"compSeasons"===t.name?(delete l.urlConfig[t.name],l.showAllSeasons=!0,l.urlConfig.comps=e.competition.FIRST):delete l.urlConfig[t.name]:l.homeaway=-1!=t.state.id?t.state.id:"O"})),l.handleLiveTable();let i=t.object.sameObject(l.urlConfig,a),o=!1;if(n!=l.homeaway&&null!=n&&(o=!0),s&&i)return void l.getCompetitionExplained(l.urlConfig.compSeasons);!i||o&&!l.lastData?(l.filterController.setPageLoading(l,l.allTablesContainer[0]),l.getCompStructure(l.urlConfig.compSeasons),l.getCompetitionExplained(l.urlConfig.compSeasons)):o&&null!=l.lastData&&l.renderTable(l.lastData)}},e.filteredTable.prototype.handleLiveTable=function(){let t=this;const s=e.competition.FIRST===parseInt(t.urlConfig.FOOTBALL_COMPETITION),l=e.summerSeries===parseInt(t.urlConfig.FOOTBALL_COMPETITION);t.live&&(s||l)?t.liveFixtures=new a.liveFixtures({comps:t.urlConfig.FOOTBALL_COMPETITION,compSeason:t.urlConfig.compSeasons,gameweekNumbers:t.urlConfig.gameweekNumbers,target:this,container:t.liveLeague,callback:t.gotLiveFixtures}):(t.shouldBeLive(t.urlConfig.compSeasons)&&t.getCompStructure(t.urlConfig.compSeasons),t.hideLiveToggle())},e.filteredTable.prototype.gotLiveFixtures=function(e){var t=this;t.liveFixturesPL=e,e.length?t.handleLiveLeagueToggle():t.hideLiveToggle()},e.filteredTable.prototype.hideLiveToggle=function(){this.liveLeague&&t.style.addClass(this.liveLeague,"u-hide")},e.filteredTable.prototype.turnOnLiveLeagueTable=function(){var e=this;e.live=!0,e.filterController.setPageLoading(e,e.allTablesContainer[0]),t.style.addClass(e.liveLeague,"is-active"),sessionStorage.setItem("liveLeagueTable","on"),e.getCompStructure(e.urlConfig.compSeasons)},e.filteredTable.prototype.turnOffLiveLeagueTable=function(e){var a=this;a.live=!1,e&&a.filterController.setPageLoading(a,a.allTablesContainer[0]),t.style.removeClass(a.liveLeague,"is-active"),sessionStorage.setItem("liveLeagueTable","off"),a.getCompStructure(a.urlConfig.compSeasons)},e.filteredTable.prototype.setListeners=function(){var e=this;let a=e.element.querySelector(".js-live-toggle");a&&a.addEventListener("click",(function(){t.style.hasClass(a.parentElement,"is-active")?e.turnOffLiveLeagueTable(!0):e.turnOnLiveLeagueTable()}))},e.filteredTable.prototype.handleLiveLeagueToggle=function(){a.checkSessionStorage("liveLeagueTable","on")?this.turnOnLiveLeagueTable():this.turnOffLiveLeagueTable()},e.filteredTable.prototype.getCompetitionExplained=function(a){if(!a)return;let s={limit:1,references:"FOOTBALL_COMPSEASON:"+a,tagNames:"Competition Explained"},l={url:e.common.createContentPath("promo",s),method:"GET",callback:this.renderCompetitionExplained,forceCallback:!0,target:this};t.data.manager.add(l)},e.filteredTable.prototype.renderCompetitionExplained=function(t,a){let l=this;if(l.tableCompetitionExplainedContainer&&l.tableCompetitionExplainedContainer.length>0){let a="";if(t&&t.content&&t.content.length>0&&t.content[0]){let l=t.content[0],n={};n.url=l.promoUrl?l.promoUrl:"",n.promoLabel=s.lookup("label.competitionexplained"),a=Mustache.render(e.templates.tablecompexplained,n)}l.tableCompetitionExplainedContainer[0].innerHTML=a}},e.filteredTable.prototype.getCompStructure=function(a){let s=this,l=parseInt(s.urlConfig.FOOTBALL_COMPETITION);if(s.compId=l,s.roundsContainer[0].style.display="none",s.showAllSeasons)s.getNewStandings();else{if(s.urlConfig.compSeasons==e.newSeason.FIRST){const t=e.newSeasonStructure;s.structureCache[t.compSeason.id]=t}if(s.structureCache[a])-1===e.leagueOnlyComps.indexOf(s.compId)&&(s.roundsContainer[0].style.display="inline-block",s.renderRoundContainers(a)),s.getNewStandings();else{let l={id:a},n={url:e.common.createApiPath("competition-season.structure",l),method:"GET",callback:s.checkStructure,forceCallback:!0,target:s};t.data.manager.add(n)}}},e.filteredTable.prototype.checkStructure=function(t){let a=this,s=t.compSeason.competition.id;a.compId=s,a.roundsContainer[0].style.display="none",a.urlConfig.compSeasons==e.newSeason.FIRST&&(t=e.newSeasonStructure),a.structureCache[t.compSeason.id]=t,-1===e.leagueOnlyComps.indexOf(a.compId)&&(a.roundsContainer[0].style.display="inline-block",a.renderRoundContainers(t.compSeason.id)),a.getNewStandings()},e.filteredTable.prototype.renderRoundContainers=function(t){let a=this,l=a.structureCache[t],n="";if(l&&l.structure&&l.structure.length>0){let t=l.compSeason.competition.id;l.structure.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:void 0}));let a="Premier League Cup"===l.compSeason.competition.description||9===t;l.structure.forEach((function(e,n){e.tabLabel=s.lookup("label.competition."+t+".round."+e.id),e.label?e.tabLabel=e.label:0===n?e.tabLabel=s.lookup("label.groupstage"):n===l.structure.length-1&&(e.tabLabel=s.lookup("label.finalstage")),a&&("Qualifier Round"===e.tabLabel?e.tabLabel="Qualifying Round":e.groups&&"L"===e.type&&(e.tabLabel="Group Stage")),e.rangeString=e.gameweekRange.join("-")})),l.roundCompSeason=l.compSeason.id,n=Mustache.render(e.templates.tablerounds,l)}a.allStructureContainer&&a.allStructureContainer.length&&(a.allStructureContainer[0].innerHTML=n)},e.filteredTable.prototype.shouldBeLive=function(t){let a=this;if(a.live&&t&&e.filterData&&e.filterData.comps&&e.filterData.comps.primary&&e.filterData.comps.primary[a.filterListConfig]&&e.filterData.comps.primary[a.filterListConfig].compSeasons&&e.filterData.comps.primary[a.filterListConfig].compSeasons.length>0){if(e.filterData.comps.primary[a.filterListConfig].compSeasons[0].id===parseInt(t))return!0}return!1},e.filteredTable.prototype.getNewStandings=function(){let e=this,s=e.shouldBeLive(e.urlConfig.compSeasons),l=s&&e.liveFixturesPL;e.urlConfig.live=!!s||void 0,e.subscriber.interval=l?6e4:void 0,e.urlConfig.detail=e.showAllSeasons?1:2,e.showAllSeasons?e.subscriber.comps=e.urlConfig.comps:(e.subscriber.comps=null,e.subscriber.compSeason=e.urlConfig.compSeasons),e.subscriber.url=a.createApiPath("standings.all",e.urlConfig),e.standingsFeed&&e.standingsFeed.stop(),e.standingsFeed=t.data.manager.add(e.subscriber)},e.filteredTable.prototype.renderRoundTabs=function(){let e=this,t=0;for(let a=0;a<e.roundContainer.length;a++)if(e.roundContainer[a].getAttribute("data-current")){t=a;break}let a={tabItems:e.roundContainer,tabLinkWrap:e.element.querySelector(".roundsContainer"),builtClass:"mcTabs",defaultIndex:t,disableClass:"btn-tab-disabled",tabCallback:function(t){e.initRoundTab(t)},buildCallback:function(t){e.initRoundTab(t)}};e.statTabs=new l.tab(a)},e.filteredTable.prototype.initRoundTab=function(e){let t=this,a=e.config.current.content;"K"===a.getAttribute("data-type")&&t.getFixturesForKnockout(a,e.config.current.index)},e.filteredTable.prototype.getFixturesForKnockout=function(a,s){let n=a.getAttribute("data-season-id"),i=a.getAttribute("data-range"),o=(new l.loader(a,{init:!0,loaderTemplate:e.templates.loader}),{compSeasons:n,gameweekNumbers:i,limit:100,altIds:!0}),r={url:e.common.createApiPath("fixtures.all",o),method:"GET",callback:this.renderFixtures,forceCallback:!0,target:this,container:a,filter:undefined};t.data.manager.add(r)},e.filteredTable.prototype.renderFixtures=function(t,l){let n=this;if(n.compId=n.states&&n.states.length>0?n.states[0].state.id:void 0,t&&t.content&&l&&l.container){let i="";if(t.content.length>0){let o=function(t,a,l){let n,i={},o=[];return a&&a.length&&a.forEach((function(a){let r=t.generateMatchModel(a);if(a&&"P"===a.phase||a&&"S"===a.phase){const e=s.lookup("label.tbc.date");i[e]&&i[e].matches?i[e].matches.push(r):(o.push(e),i[e]={matches:[r]})}else if(a&&a.kickoff&&a.kickoff.millis&&(!l||l.indexOf(a.id)>-1)){let t=moment(a.kickoff.millis).locale(e.language).format("dddd D MMMM YYYY");n=moment(a.kickoff.millis).locale(e.language).format("ddd D MMM YYYY"),i[t]&&i[t].matches?i[t].matches.push(r):(o.push(t),i[t]={shortDate:n,matches:[r]})}})),{map:i,dateOrder:o}}(n,t.content,l.filter);o.dateOrder.forEach((function(t){if(o.map&&o.map[t]&&o.map[t].matches){let s={date:t,matches:o.map[t].matches,renderSVG:()=>e=>a.icon.renderSVG(e)};i+=Mustache.render(e.templates.knockoutmatch,s)}}))}l.appendFixtures?l.container.innerHTML+=i:l.container.innerHTML=i,e.clubBadge(l.container,!0)}},e.filteredTable.prototype.generateMatchModel=function(t,l,n){let i,o,r,c,m,d,u={};t.teams[0].team.id===l?(i=t.teams[0].score,u.homeName=t.teams[1].team.shortName?t.teams[1].team.shortName:t.teams[1].team.name,u.awayName=t.teams[0].team.shortName?t.teams[0].team.shortName:t.teams[0].team.name,o=t.teams[1].score,r=t.teams[1]):(i=t.teams[1].score,u.homeName=t.teams[0].team.shortName?t.teams[0].team.shortName:t.teams[0].team.name,u.awayName=t.teams[1].team.shortName?t.teams[1].team.shortName:t.teams[1].team.name,o=t.teams[0].score,r=t.teams[0]),t.gameweek?.gameweek&&(u.gameweek=t.gameweek?.gameweek),t.penaltyShootouts&&t.penaltyShootouts.length>1&&(d=t.penaltyShootouts.findIndex((function(e){return e.teamId===t.aetWinnerId})),c={penScore:[t.penaltyShootouts[d].score,t.penaltyShootouts[+!d].score]},m=t.teams.filter((function(e){return e.team.id===t.aetWinnerId}))),u.shootout=c,u.shootoutWonLabel=s.lookup("label.won"),u.onPenaltiesLabel=s.lookup("label.onpenalties"),u.shootoutWinner=m?m[0].team.club.name:"",u.opponentName=r.team.shortName||r.team.name,u.opponentLogo=a.getClubBadge(r.team.altIds.opta,"20"),u.opponentLogoRetina=a.getClubBadge(r.team.altIds.opta,"20",!0);let p="drew",g="draw",h="D";if(i>o?(p="won",g="win",h="W"):i<o&&(p="lost",g="lose",h="L"),u.outcome={long:s.lookup("label."+p),short:s.lookup("label.short."+p),class:g,type:h},"C"===t.status?u.isResult=!0:u.isFixture=!0,t.ground&&t.ground.city?u.groundText=t.ground.name+", "+t.ground.city:t.ground&&t.ground.name&&(u.groundText=t.ground.name),u.teams=t.teams,u.isTbc=!1,u.isNotTbc=!0,"P"===t.phase||"S"===t)u.isTbc=!0,u.isNotTbc=!1,u.tbcReason="P"===t.phase?s.lookup("label.match.postponed"):s.lookup("label.match.suspended"),u.matchDate=s.lookup("label.tbc.date"),u.matchTime=s.lookup("label.tbc");else if(t.kickoff&&t.kickoff.millis){let a=new Date(t.kickoff.millis);u.matchDate=moment(a).locale(e.language).format("dddd D MMMM YYYY"),u.matchTime=moment(a).locale(e.language).format("HH:mm")}else u.matchDate=s.lookup("label.tbc.date"),u.matchTime=s.lookup("label.tbc");u.url=a.getMatchCentreUrl(t,t.gameweek.compSeason||n);for(let e=0;e<u.teams.length;e++)u.teams[e].team.clubBadge=a.getClubBadge(u.teams[e].team.altIds.opta,"50"),u.teams[e].team.clubBadgeRetina=a.getClubBadge(u.teams[e].team.altIds.opta,"50",!0),u.teams[e].team.clubBadgeMedium=a.getClubBadge(u.teams[e].team.altIds.opta,"50"),u.teams[e].team.clubBadgeMediumRetina=a.getClubBadge(u.teams[e].team.altIds.opta,"50",!0),u.teams[e].team.clubBadgeSmall=a.getClubBadge(u.teams[e].team.altIds.opta,"25"),u.teams[e].team.clubBadgeSmallRetina=a.getClubBadge(u.teams[e].team.altIds.opta,"25",!0);return u},e.filteredTable.prototype.renderTable=function(l,n){let i=this;if(i.lastData=l,l&&l.compSeason){let s="U21"===l.compSeason.competition.level,n="U18"===l.compSeason.competition.level,o=-1!==l.compSeason.label.indexOf("2019/20");if((s||n)&&o?t.style.removeClass(i.tableAnnotation,"u-hide"):t.style.addClass(i.tableAnnotation,"u-hide"),l.compSeason.competition.id){const t=5===l.compSeason.competition.id&&e.eflCupCarabaoCompSeasonIds.includes(l.compSeason.id)?`${l.compSeason.competition.id}_eflCarabao17_18`:l.compSeason.competition.id,s=a.getCompetitionLogo(t);i.tableLogo.innerHTML=Mustache.render(e.templates.leaguetablelogo,{logoSrc:s})}}else l&&l.tables,i.tableLogo.style.display="none";if(l&&l.tables&&l.tables.length>0)r(i,l,i.homeaway);else if(i.allTablesContainer&&i.allTablesContainer.length>0){let t="";n&&n.compSeason&&i.structureCache&&i.structureCache[n.compSeason]&&i.structureCache[n.compSeason].structure&&i.structureCache[n.compSeason].structure.length>0&&(t=i.structureCache[n.compSeason].structure[0].id);let a={label:s.lookup("label.nostandings"),roundId:t};e.leagueOnlyComps.indexOf(i.compId)>-1&&(i.allStructureContainer[0].innerHTML=""),i.allTablesContainer[0].innerHTML=Mustache.render(e.templates.nostandings,a),c(i)}};e.filterGroups.setData((function(){let t=document.querySelectorAll('[data-widget="table-filtered"]');t=Array.prototype.map.call(t,(function(t){return new e.tabAwareWidget({widgetElement:t,widgetConfig:{},widgetConstructor:e.filteredTable})}))}))}(PULSE.app,PULSE.core,PULSE.app.common,PULSE.I18N,PULSE.ui);