"use strict";PULSE.app.templates.headtoheadactivebadge='<span class="badge badge-image-container" data-widget="club-badge-image" data-size="{{ size }}"> <img class="badge-image badge-image--{{ size }} js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> ',PULSE.app.templates.headtoheadstats='<div class="head-to-head-stats-table__container"> <div class="played-section"> <div class="total-played"> <div class="team-one-badge"> <div class="badge badge-image-container u-hide-tab" data-widget="club-badge-image" data-size="70"> <img class="badge-image badge-image--70 js-badge-image" src="{{ clubBadgeSmall.0 }}" srcset="{{ clubBadgeSmall.0 }}, {{ clubBadgeSmallRetina.0 }} 2x"> </div> <div class="badge badge-image-container u-show-tab" data-widget="club-badge-image" data-size="38"> <img class="badge-image badge-image--38 js-badge-image" src="{{ clubBadgeSmall.0 }}" srcset="{{ clubBadgeSmall.0 }}, {{ clubBadgeSmallRetina.0 }} 2x"> </div> </div> <p><span>Played:</span> {{ matchesPlayed }}</p> <div class="team-two-badge"> <div class="badge badge-image-container u-hide-tab" data-widget="club-badge-image" data-size="70"> <img class="badge-image badge-image--70 js-badge-image" src="{{ clubBadgeSmall.1 }}" srcset="{{ clubBadgeSmall.1 }}, {{ clubBadgeSmallRetina.1 }} 2x"> </div> <div class="badge badge-image-container u-show-tab" data-widget="club-badge-image" data-size="38"> <img class="badge-image badge-image--38 js-badge-image" src="{{ clubBadgeSmall.1 }}" srcset="{{ clubBadgeSmall.1 }}, {{ clubBadgeSmallRetina.1 }} 2x"> </div> </div> </div> <table> <tr> <td class="bar {{ optaId.0 }}-bg" style="width: {{ width.0 }}%;">{{ wins.0 }}</td> <td class="bar grey-bg" style="width: {{ width.2 }}%;">Drawn: {{ draws }}</td> <td class="bar {{ optaId.1 }}-bg" style="width: {{ width.1 }}%;">{{ wins.1 }}</td> </tr> </table> </div> <table class="head-to-head-stats"> <tbody> {{#stats}} <tr> <td> <p class="{{ statsClass.0 }}">{{ stats.0 }}</p> </td> <td> <p>{{ label }}</p> </td> <td> <p class="{{ statsClass.1 }}">{{ stats.1 }}</p> </td> </tr> {{/stats}} </tbody> </table> </div> <div class="previous-meetings"> <h4>{{ previousMeetingsHeader }}</h4> {{#isThereAnyHeadToHeads}} <ul class="matchList"> {{#headToHeads}} <li class="matchFixtureContainer"> <time>{{ matchDate }}</time> <span class="stadiumName"> <p> <svg class="icn" width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9846 9.41897V9.88789L8.64637 13.3198V12.8509L15.9846 9.41897ZM7.27558 12.0939L8.45642 12.8494V13.3097L7.27558 12.5503V12.0939ZM0 9.3832L5.05679 12.6834V13.1523L0 9.83808V9.3832ZM6.73304 12.0821V12.5292L5.33611 13.1523V12.7052L6.73304 12.0821ZM15.9846 8.28957V8.75848L8.64637 12.1904V11.7215L15.9846 8.28957ZM7.27558 10.966L8.45642 11.7224V12.1827L7.27558 11.4233V10.966ZM0 8.19776L5.05679 11.4972V11.9669L0 8.65186V8.19776ZM6.73304 10.8967V11.3438L5.33611 11.9669V11.519L6.73304 10.8967ZM7.5566 3.16666L8.86323 4.02891L10.4778 3.28817L15.912 6.01598L14.2117 6.74971L16 7.6134L8.63254 10.9869L7.00484 9.88705L5.10085 10.782L0.029439 7.45302L1.96198 6.69047L0.544977 5.84302L7.5566 3.16666ZM8.71869 4.84294L3.86501 6.82293L7.0618 8.71491L12.0467 6.61729L8.71869 4.84294ZM15.9992 6.55341V7.00051L15.621 7.16953L15.1502 6.93197L15.9992 6.55341ZM0.544938 6.27302L1.26193 6.70844L0.775702 6.91174L0.54185 6.78088L0.544938 6.27302Z"/> </svg> {{ matchVenue }} </p> </span> <a data-template-rendered href="{{ matchUrl }}" class="fixture"> <span class="match-fixture__container"> <span class="match-fixture__teams"> <span class="match-fixture__team"> <span class="match-fixture__team-name"> <span class="match-fixture__short-name"> {{ teamName.0 }} </span> </span> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ clubBadge.0 }}" srcset="{{ clubBadge.0 }}, {{ clubBadgeRetina.0 }} 2x"> </span> </span> <span class="match-fixture__score">{{ score.0 }}<span>-</span>{{ score.1 }}</span> <span class="match-fixture__team"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ clubBadge.1 }}" srcset="{{ clubBadge.1 }}, {{ clubBadgeRetina.1 }} 2x"> </span> <span class="match-fixture__team-name"> <span class="match-fixture__short-name"> {{ teamName.1 }} </span> </span> </span> </span> <svg class="icn icn-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 15.085 9.422" xml:space="preserve"> <path d="M15.084,4.709c-0.013-0.285-0.106-0.581-0.325-0.782l-1.215-1.216l-1.941-1.94l-0.445-0.446 c-0.21-0.204-0.489-0.32-0.782-0.325c-0.271,0-0.595,0.12-0.781,0.325C9.403,0.536,9.259,0.812,9.27,1.107 c0.012,0.294,0.112,0.569,0.325,0.781l1.218,1.218l0.495,0.496H2.69c-0.519,0-1.041-0.006-1.56,0H1.107 c-0.285,0-0.58,0.124-0.781,0.326C0.133,4.12-0.01,4.432,0.001,4.709C0.014,4.993,0.107,5.29,0.326,5.49 c0.218,0.2,0.484,0.326,0.781,0.325h10.207L10.04,7.088L9.595,7.533c-0.2,0.2-0.324,0.5-0.325,0.782c0,0.271,0.12,0.595,0.325,0.781 c0.21,0.192,0.486,0.337,0.782,0.325c0.292-0.015,0.57-0.113,0.781-0.325l1.218-1.218l1.941-1.941l0.445-0.445 c0.114-0.113,0.194-0.248,0.247-0.392c0.052-0.124,0.078-0.258,0.076-0.392L15.084,4.709z"/> </svg> </span> </a> </li> {{/headToHeads}} </ul> {{/isThereAnyHeadToHeads}} {{^isThereAnyHeadToHeads}} <div class="noContentContainer headToHeadNoMatch">{{noHeadToHeadsMessage}}</div> {{/isThereAnyHeadToHeads}} </div> ',PULSE.app.templates.headtoheadteam=' <li class="club-card-wrapper"> <div class="indexItem club-card club-card--{{ opta }} {{ opta }}"> <div class="club-card__badge"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="70"> <img class="badge-image badge-image--70 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> </div> <div class="club-card__info"> <h2 class="club-card__name">{{ name }}</h2> {{{ icnRight }}} </div> <div class="club-card__background"> {{{ brandGradientSvg }}} {{{ colouredBrandSVG }}} </div> </div> </li> ',PULSE.app.templates.playercard='<div class="player-comparison__player-card js-player-comparison-card-{{ id }} {{^isActive}} player-comparison__player-card--inactive{{/isActive}}"> {{{svgBgMarkup}}} <div class="player-comparison__player-info"> <div class="player-comparison__player-info-top"> <div class="player-comparison__player-first-name">{{ firstName }}</div> <div class="player-comparison__player-last-name">{{ lastName }}</div> <div class="player-comparison__player-club"> <div class="player-comparison__club-badge"> <div class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="20"> <img class="badge-image badge-image--20 js-club-badge-image-{{ id }}" src="" srcset=""> </div> </div> <span class="player-comparison__club-name u-hide-tablet js-club-name-{{ id }}"></span> <span class="player-comparison__club-name u-show-tablet js-club-name-mobile-{{ id }}"></span> </div> </div> <div class="player-comparison__player-info-bottom"> <span class="player-comparison__player-pos">{{ position }}</span> </div> </div> <div class="player-comparison__player-img-wrap{{^isActive}} player-comparison__player-img-wrap--crop{{/isActive}}"> <img class="player-comparison__player-img playerPhotoContainer js-player-photo-container" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ image }}" alt="{{ labelFor }} {{ name }}"> </div> <a class="player-comparison__player-switch" href="#" data-add-player> <div class="player-comparison__change-icn"></div> </a> </div> <div class="player-comparison__range-filter"> <div class="player-comparison__range-checkbox"> <div class="player-comparison__checkbox-wrap"> <input class="player-comparison__checkbox" type="checkbox" name="player-range-{{ slot }}" aria-label="{{ labelCheckbox }}"> <label class="player-comparison__checkbox-label" for="player-range-{{ slot }}">{{ labelCheckbox }}</label> </div> </div> <div class="player-comparison__range-filter-wrap" data-player-id="{{ id }}"> <section class="player-comparison__filter js-secondary-filters" data-filter-config="playerComparisonRange" data-reset-available="false"></section> </div> </div> ',PULSE.app.templates.playercomparison='<div class="player-comparison-editorial__players-container"> <a href="{{player0.playerUrl}}" class="player-comparison-editorial__player js-team-id-player-0 player-comparison-editorial__player--left"> {{{svgBgMarkup}}} <div class="player-comparison-editorial__player-info"> <div class="player-comparison-editorial__player-info-top"> <div class="player-comparison-editorial__first-name">{{ player0.firstName }}</div> <div class="player-comparison-editorial__last-name">{{ player0.lastName }}</div> <div class="player-comparison-editorial__club"> <span class="player-comparison-editorial__club-badge"> <span class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--20 js-club-badge-0" src="" srcset=""> </span> </span> <span class="player-comparison-editorial__club-name u-hide-tablet js-club-name-0"></span> <span class="player-comparison-editorial__club-name u-show-tablet js-club-name-mobile-0"></span> </div> </div> <div class="player-comparison-editorial__player-info-bottom"> <div class="player-comparison-editorial__position">{{ player0.positionAbbr }}</div> </div> </div> <div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"> <img class="player-comparison-editorial__player-img playerPhotoContainer js-player-photo-container" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"> </div> </a> <a href="{{player1.playerUrl}}" class="player-comparison-editorial__player js-team-id-player-1 player-comparison-editorial__player--right"> {{{svgBgMarkup}}} <div class="player-comparison-editorial__player-info"> <div class="player-comparison-editorial__player-info-top"> <div class="player-comparison-editorial__first-name">{{ player1.firstName }}</div> <div class="player-comparison-editorial__last-name">{{ player1.lastName }}</div> <div class="player-comparison-editorial__club"> <span class="player-comparison-editorial__club-badge"> <span class="badge badge--home-team badge-image-container" data-widget="club-badge-image" data-size="50"> <img class="badge-image badge-image--20 js-club-badge-1" src="" srcset=""> </span> </span> <span class="player-comparison-editorial__club-name u-hide-tablet js-club-name-1"></span> <span class="player-comparison-editorial__club-name u-show-tablet js-club-name-mobile-1"></span> </div> </div> <div class="player-comparison-editorial__player-info-bottom"> <div class="player-comparison-editorial__position">{{ player1.positionAbbr }}</div> </div> </div> <div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"> <img class="player-comparison-editorial__player-img playerPhotoContainer js-player-photo-container" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"> </div> </a> </div> <div class="player-comparison-editorial__table"> <div class="player-comparison-editorial__table-row"> <span class="player-comparison-editorial__stat player-comparison-editorial__stat--season">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat player-comparison-editorial__stat--season">{{ player1.seasonLabel }}</span> </div> <div class="player-comparison-editorial__table-row"> <span class="player-comparison-editorial__stat" data-stat="{{ stat1 }}" data-stat-val="{{ player0Stat1 }}"> {{ player0Stat1 }} </span> <span class="player-comparison-editorial__label">{{ stat1 }}</span> <span class="player-comparison-editorial__stat" data-stat="{{ stat1 }}" data-stat-val="{{ player1Stat1 }}"> {{ player1Stat1 }} </span> </div> <div class="player-comparison-editorial__table-row"> <span class="player-comparison-editorial__stat" data-stat="{{ stat2 }}" data-stat-val="{{ player0Stat2 }}"> {{ player0Stat2 }} </span> <span class="player-comparison-editorial__label">{{ stat2 }}</span> <span class="player-comparison-editorial__stat" data-stat="{{ stat2 }}" data-stat-val="{{ player1Stat2 }}"> {{ player1Stat2 }} </span> </div> <div class="player-comparison-editorial__table-row"> <span class="player-comparison-editorial__stat" data-stat="{{ stat3 }}" data-stat-val="{{ player0Stat3 }}"> {{ player0Stat3 }} </span> <span class="player-comparison-editorial__label">{{ stat3 }}</span> <span class="player-comparison-editorial__stat" data-stat="{{ stat3 }}" data-stat-val="{{ player1Stat3 }}"> {{ player1Stat3 }} </span> </div> <div class="player-comparison-editorial__table-row"> <span class="player-comparison-editorial__stat" data-stat="{{ stat4 }}" data-stat-val="{{ player0Stat4 }}"> {{ player0Stat4 }} </span> <span class="player-comparison-editorial__label">{{ stat4 }}</span> <span class="player-comparison-editorial__stat" data-stat="{{ stat4 }}" data-stat-val="{{ player1Stat4 }}"> {{ player1Stat4 }} </span> </div> <div class="player-comparison-editorial__button-wrap"> <a class="btn global-btn js-player-comparison-editorial__button" href="{{ btnUrl }}"> {{ labels.btn }} <span class="icn arrow-right"></span> </a> </div> </div> ',PULSE.app.templates.playerstat='<div class="player-comparison__stat"> <div class="player-comparison__stat-name"> {{label}} </div> <div class="player-comparison__stat-value" data-stat="{{ key }}" data-stat-val="{{ value }}"> <span>{{ value }}</span> </div> </div> ',PULSE.app.templates.playerstats='<li class="player-comparison__stats-group"> <div class="player-comparison__stats-group-header" role="button" tabindex="0"> <h4 class="player-comparison__stats-group-title">{{ label }}</h4> <span class="icn chevron-down"></span> </div> <div class="player-comparison__stats"> <div class="player-comparison__player-stats" data-player-slot="0"></div> <div class="player-comparison__player-stats" data-player-slot="1"></div> </div> </li> ',PULSE.app.templates.searchempty='<div class="player-comparison__search-empty noContentContainer">{{label}}</div> ',PULSE.app.templates.searchresults='{{#players}} <li class="player-comparison__result" data-compseason-id="{{ compSeasonId }}" data-player-id="{{ id }}"> <span class="player-comparison__plus player-comparison__plus--large icn icn-plus-white"></span> <span class="player-comparison__result-name"> {{ name }} </span> <span class="player-comparison__result-position"> {{ position }} </span> </li> {{/players}} ',PULSE.app.templates.nostatstable='<td class="noContentContainer" colspan="5">{{ label }}</td>',PULSE.app.templates.player='<tr class="table__row {{ rowClass }}"> <td class="stats-table__rank">{{ rank }}.</td> <td class="stats-table__player"> <a href="{{ url }}" class="playerName"> {{#playerImage}} <img class="img playerPhotoContainer" alt="" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ playerImage }}"> {{/playerImage}} {{owner.name.display}}</a> </td> <td class="hide-s"> {{#team}} <a href="{{ url }}" class="stats-table__cell-icon-align"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span>{{ name }} </a> {{/team}} {{#altteam}} {{ altteam }} {{/altteam}} </td> <td class="hide-s"> {{#country}} <div class="stats-table__cell-icon-align"> <img class="stats-table__flag-icon" src="https://resources.premierleague.com/premierleague/flags/{{isoCode}}.png"> {{ #country }}<span class="playerCountry">{{ country }}</span>{{ /country }} </div> {{/country}} </td> <td class="stats-table__main-stat">{{ value }}</td> <td>&nbsp;</td> </tr> ',PULSE.app.templates.team='<tr class="table__row {{ rowClass }}"> <td class="stats-table__rank">{{ index }}.</td> <td class="stats-table__name"> <a href="{{ url }}" class="stats-table__cell-icon-align"> <span class="badge badge-image-container" data-widget="club-badge-image" data-size="25"> <img class="badge-image badge-image--25 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"> </span> {{ owner.name }} </a> </td> <td class="stats-table__main-stat">{{ value }}</td> <td>&nbsp;</td> </tr> ',function(e,a,t,l,s){var r=function(e){let a=e.element.querySelector(".head-to-head-comparison");return{element:a,teamOne:{element:a.querySelector(".team-one")},teamTwo:{element:a.querySelector(".team-two")}}},o=function(e){let a=document.createElement("section");return l.style.addClass(a,"head-to-head-stats-table"),e.element.append(a),a},i=function(e){let a=e.element.querySelector(".head-to-head-select-teams"),t=a.getElementsByClassName("team-card"),l={};for(let e=0;e<t.length;e++){let a=t[e].getAttribute("data-team-id");l[a]={},l[a].element=t[e]}return{element:a,teams:l}},n=function(e){let a=e.element.querySelector(".head-to-head-previous"),t=document.querySelectorAll('[data-widget="head-to-head-fixtures"]');t.length&&l.style.addClass(a,"is-visible");for(let e=0;e<t.length;e++)a.appendChild(t[e]);return a},c=function(e){e.teamCompare.element.addEventListener("click",(function(a){if(a.preventDefault(),null!==a.target.closest(".team-one"))e.teamCompare.target="teamOne";else{if(null===a.target.closest(".team-two"))return;e.teamCompare.target="teamTwo"}u(e)})),e.teamCompare.element.addEventListener("keypress",(function(a){if(13===a.keyCode||32===a.keyCode){if(a.preventDefault(),null!==a.target.closest(".team-one"))e.teamCompare.target="teamOne";else{if(null===a.target.closest(".team-two"))return;e.teamCompare.target="teamTwo"}u(e)}})),e.teamSelectorPanel.element.addEventListener("click",(function(a){a.preventDefault();let t=a.target.closest(".team-card");if(t){if(l.style.hasClass(t,"is-selected"))return t.classList.remove("is-selected"),e.teamCompare.target="teamOne",t.blur(),void u(e);e.teamSelectorPanel.selectedTeam=t,g(e)}})),e.teamSelectorPanel.element.addEventListener("keypress",(function(a){if(13===a.keyCode||32===a.keyCode){a.preventDefault();let t=a.target.closest(".team-card");if(!t)return;if(l.style.hasClass(t,"is-selected"))return t.classList.remove("is-selected"),e.teamCompare.target="teamOne",t.blur(),void u(e);e.teamSelectorPanel.selectedTeam=t,g(e)}}));let a=e.fixturePanel.getElementsByClassName("matchAbridged");for(let t=0;t<a.length;t++){a[t].addEventListener("click",(function(a){a.preventDefault(),m(e,this)}))}};var d=function(e,a){let t=e.filter((function(e){return e.name===a}));return t.length>0?t[0].value:0};let p=function(a){l.style.addClass(a.headToHeadContainer,"is-visible");let t={teams:a.teamCompare.teamOne.teamId+","+a.teamCompare.teamTwo.teamId,altIds:!0,comps:e.competition.FIRST},s=a.renderHeadToHead;a.initData("stats.headtohead",t,s)};var u=function(e){e.teamCompare.target||(e.teamCompare.target="teamOne");let a=e.teamCompare[e.teamCompare.target].teamId;a&&l.style.removeClass(e.teamSelectorPanel.teams[a].element,"is-selected");let t=e.teamCompare[e.teamCompare.target].element;l.style.removeClass(t,"is-selected"),l.style.addClass(t,"active"),t.classList.forEach((function(e){e.startsWith("club-card")&&t.classList.remove(e)})),"teamTwo"!==e.teamCompare.target||e.teamCompare.teamOne.teamId||l.style.removeClass(e.teamCompare.teamOne.element,"active"),l.style.removeClass(e.headToHeadContainer,"is-visible"),l.style.removeClass(e.fixturePanel,"is-visible"),l.style.addClass(e.teamSelectorPanel.element,"is-visible")},m=function(e,a){l.style.removeClass(e.fixturePanel,"is-visible"),["teamOne","teamTwo"].forEach((function(t,l){let s=e.teamCompare[t].element,r=a.getAttribute("data-team-name").split("|")[l],o=a.getAttribute("data-team-id").split("|")[l],i=a.getAttribute("data-opta-id").split("|")[l];e.teamCompare[t].teamId=o,e.teamCompare[t].optaId=i,y(s,r,i)})),p(e)},g=function(e){let a=e.teamSelectorPanel.selectedTeam,t=e.teamCompare[e.teamCompare.target].element,s=e.teamCompare[e.teamCompare.target].teamId;s&&l.style.removeClass(e.teamSelectorPanel.teams[s].element,"is-selected"),l.style.addClass(a,"is-selected"),e.teamCompare[e.teamCompare.target].teamId=a.getAttribute("data-team-id"),e.teamCompare[e.teamCompare.target].optaId=a.getAttribute("data-opta-id"),e.teamCompare[e.teamCompare.target].element.classList.add(`club-card--${e.teamCompare[e.teamCompare.target].optaId}`),y(t,a.getAttribute("data-team-name"),e.teamCompare[e.teamCompare.target].optaId),e.teamCompare.teamOne.teamId&&e.teamCompare.teamTwo.teamId?(p(e),l.style.removeClass(e.teamSelectorPanel.element,"is-visible")):b(e)},y=function(e,a,t){l.style.addClass(e,"is-selected"),l.style.removeClass(e,"active"),[".badge--small",".badge--large"].forEach((function(a){let l=e.querySelector(a);_(l,t)}))},_=function(a,l){const s=a.dataset.badgeSize;let r={clubBadge:t.getClubBadge(l,s),clubBadgeRetina:t.getClubBadge(l,s,!0),size:s};a.innerHTML=Mustache.render(e.templates.headtoheadactivebadge,r),e.clubBadge(a,!0)},b=function(e){"teamOne"!==e.teamCompare.target||e.teamCompare.teamTwo.teamId?"teamTwo"!==e.teamCompare.target||e.teamCompare.teamOne.teamId||(l.style.addClass(e.teamCompare.teamOne.element,"active"),e.teamCompare.target="teamOne"):(l.style.addClass(e.teamCompare.teamTwo.element,"active"),e.teamCompare.target="teamTwo")};e.statsHeadToHead=function(e){let a=this;a.element=e,function(e){e.teamSelectorPanel=i(e),e.headToHeadContainer=o(e),e.teamCompare=r(e),e.fixturePanel=n(e),c(e),u(e)}(a),a.stats=[{name:"goals",highestNumberIsBest:!0},{name:"penalty_won",highestNumberIsBest:!0},{name:"att_pen_goal",highestNumberIsBest:!0},{name:"clean_sheet",highestNumberIsBest:!0},{name:"total_yel_card",highestNumberIsBest:!1},{name:"total_red_card",highestNumberIsBest:!1}];let t=l.url.getParameterByName("team1Id"),s=l.url.getParameterByName("team2Id");a.buildTabs(),t&&s&&function(e,a,t){let s=e.teamSelectorPanel.teams[a],r=e.teamSelectorPanel.teams[t];l.style.addClass(s,"is-selected"),l.style.addClass(r,"is-selected"),e.element.querySelector(".head-to-head-previous"),e.teamCompare.teamOne.teamId=s.element.getAttribute("data-team-id"),e.teamCompare.teamOne.optaId=s.element.getAttribute("data-opta-id"),e.teamCompare.teamTwo.teamId=r.element.getAttribute("data-team-id"),e.teamCompare.teamTwo.optaId=r.element.getAttribute("data-opta-id"),y(e.teamCompare.teamOne.element,s.element.getAttribute("data-team-name"),s.element.getAttribute("data-opta-id")),y(e.teamCompare.teamTwo.element,r.element.getAttribute("data-team-name"),r.element.getAttribute("data-opta-id")),l.style.removeClass(e.teamSelectorPanel.element,"is-visible"),l.style.removeClass(e.element.querySelector(".head-to-head-previous"),"is-visible"),p(e)}(a,t,s)},e.statsHeadToHead.prototype.initData=function(a,t,l){let s={url:e.common.createApiPath(a,t),method:"GET",callback:l,target:this,forceCallback:!0};this.startData(s)},e.statsHeadToHead.prototype.buildTabs=function(){let e=this,t={tabItems:e.element.getElementsByClassName("headToHeadToggleContainer"),tabLinkWrap:e.element.querySelector(".headToHeadToggle"),disableClass:"btn-tab-disabled",tabCallback:function(a){e.checkTab(a)}};e.headToHeadTabs=new a.tab(t)},e.statsHeadToHead.prototype.checkTab=function(e){let a=this;"current"==e.config.current.uiArgs.type||a.allRendered||a.findAllTeams(e.config.current.content)},e.statsHeadToHead.prototype.findAllTeams=function(t){new a.loader(t,{init:!0,loaderTemplate:e.templates.loader});let l={altIds:!0,comps:e.competition.FIRST,pageSize:100},s={url:e.common.createApiPath("teams.all",l),method:"GET",callback:this.renderAllTeams,target:this,forceCallback:!0,container:t};this.startData(s)},e.statsHeadToHead.prototype.renderAllTeams=function(a,l){let s=this,r="";if(s.allRendered=!0,a&&a.content&&l&&l.container){a.content.forEach((function(a){let l=function(e){let a=e;return a.opta=e.altIds&&e.altIds.opta?e.altIds.opta:"",a.clubBadge=t.getClubBadge(a.opta,"100"),a.clubBadgeRetina=t.getClubBadge(a.opta,"100",!0),a.clubBadgeSmall=t.getClubBadge(a.opta,"50"),a.clubBadgeSmallRetina=t.getClubBadge(a.opta,"50",!0),a.brandGradientSvg=t.icon.brandGradientSVG("-80 -70 750 150","club-card__svg club-card__gradient-svg"),a.colouredBrandSVG=t.icon.colouredBrandSVG("-80 -70 750 150","club-card__svg club-card__club-svg"),a}(a);r+=Mustache.render(e.templates.headtoheadteam,l)})),l.container.innerHTML=r,e.clubBadge(l.container,!0);let o=l.container.getElementsByClassName("team-card");if(s.teamSelectorPanel&&s.teamSelectorPanel.teams)for(let e=0;e<o.length;e++){let a=o[e].getAttribute("data-team-id");s.teamSelectorPanel.teams[a]={},s.teamSelectorPanel.teams[a].element=o[e]}}},e.statsHeadToHead.prototype.startData=function(e){l.data.manager.add(e)},e.statsHeadToHead.prototype.renderHeadToHead=function(a){let l=this;if(a&&a.stats&&l.headToHeadContainer){let r=a.stats[l.teamCompare.teamOne.teamId],o=a.stats[l.teamCompare.teamTwo.teamId],i=d(r,"wins"),n=d(o,"wins"),c=d(o,"draws"),p={optaId:[l.teamCompare.teamOne.optaId,l.teamCompare.teamTwo.optaId],clubBadge:[t.getClubBadge(l.teamCompare.teamOne.optaId,"100"),t.getClubBadge(l.teamCompare.teamTwo.optaId,"100")],clubBadgeRetina:[t.getClubBadge(l.teamCompare.teamOne.optaId,"100",!0),t.getClubBadge(l.teamCompare.teamTwo.optaId,"100",!0)],clubBadgeSmall:[t.getClubBadge(l.teamCompare.teamOne.optaId,"100"),t.getClubBadge(l.teamCompare.teamTwo.optaId,"100")],clubBadgeSmallRetina:[t.getClubBadge(l.teamCompare.teamOne.optaId,"100",!0),t.getClubBadge(l.teamCompare.teamTwo.optaId,"100",!0)],matchesPlayed:i+n+c,draws:c,wins:[i,n],stats:[],headToHeads:[],previousMeetingsHeader:s.lookup("label.recentPremierLeagueMeetings")},u=Math.round(p.wins[0]/p.matchesPlayed*100),m=Math.round(p.wins[1]/p.matchesPlayed*100),g=100-u-m;p.width=[u,m,g],l.stats.forEach((function(e,a){p.stats.push(function(e,a,t){let l={};return l.label=s.lookup("label.stat."+e.name),l.stats=[d(a,e.name),d(t,e.name)],l.statsClass=["",""],l.stats[0]!=l.stats[1]&&(e.highestNumberIsBest?l.stats[0]>l.stats[1]?l.statsClass[0]="higher":l.statsClass[1]="higher":l.stats[0]<l.stats[1]?l.statsClass[0]="higher":l.statsClass[1]="higher"),l}(e,r,o))})),a.headToHeads.forEach((function(a){p.headToHeads.push(function(a){let l={},s=new Date(a.kickoff.millis),r=a.teams[0],o=a.teams[1];return l.matchDate=moment(s).locale(e.language).format("dddd Do MMMM YYYY"),l.matchVenue=a.ground.name,l.matchUrl=t.generateContentUrl("match",a.id),l.teamName=[r.team.name,o.team.name],l.optaId=[r.team.altIds.opta,o.team.altIds.opta],l.clubBadge=[t.getClubBadge(l.optaId[0],"100"),t.getClubBadge(l.optaId[1],"100")],l.clubBadgeRetina=[t.getClubBadge(l.optaId[0],"100",!0),t.getClubBadge(l.optaId[1],"100",!0)],l.clubBadgeSmall=[t.getClubBadge(l.optaId[0],"100"),t.getClubBadge(l.optaId[1],"100")],l.clubBadgeSmallRetina=[t.getClubBadge(l.optaId[0],"100",!0),t.getClubBadge(l.optaId[1],"100",!0)],l.score=[r.score,o.score],l}(a))})),p.isThereAnyHeadToHeads=a.headToHeads.length>0,p.noHeadToHeadsMessage=s.lookup("label.stat.noheadtoheadsmessage");let y=Mustache.render(e.templates.headtoheadstats,p);l.headToHeadContainer.innerHTML=y,e.clubBadge(l.headToHeadContainer,!0)}};let h=document.querySelectorAll('[data-widget="head-to-head"]');Array.prototype.map.call(h,(function(a){a=new e.statsHeadToHead(a)}))}(PULSE.app,PULSE.ui,PULSE.app.common,PULSE.core,PULSE.I18N),function(e,a,t,l,s){let r=30,o=function(e,a,t){t||(t=["click","keypress"]);let l=function(e){e.preventDefault(),e instanceof KeyboardEvent&&"13"==e.keyCode&&document.activeElement,a()};for(let a=0;a<t.length;a++)e.addEventListener(t[a],l)},i=function(e,a){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){let a=(this.document||this.ownerDocument).querySelectorAll(e),t=a.length;for(;--t>=0&&a.item(t)!==this;);return t>-1});e&&e!==document;e=e.parentNode)if(e.matches(a))return e;return null};var n=function(e){e.showIntro=!1;let a=e.querySelector(".js-intro-promo");var t=function(){let t=e.querySelectorAll(".js-intro-tooltip");var l=a.getBoundingClientRect().top,s=(s=window.getComputedStyle(a).getPropertyValue("margin-top")).substr(0,s.length-2);s=parseInt(s);for(let e=0;e<t.length;e++){let r=l-t[e].getBoundingClientRect().bottom;r<10&&(a.style.marginTop=s+Math.abs(r)+20+"px")}};l.localStorage.getStorage("playerComparisonIntro")||(l.style.addClass(e,"intro-active"),e.showIntro=!0,t()),o(window,(function(){a.removeAttribute("style"),t()}),["resize"])};let c=".player-comparison__stats-group",d="active",p=".player-comparison__stats-group-header",u=function(){let e=i(this,p),a=this.nextElementSibling;a.classList.contains(d)?(l.style.removeClass(e,d),l.style.removeClass(a,d),a.style.height="0"):(l.style.addClass(e,d),l.style.addClass(a,d),a.style.height=a.scrollHeight+"px")},m=function(e){let a=document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector("#mainNav").offsetHeight,l=e.getBoundingClientRect().top;if(a+t>l+a){let e=l+a-t;window.scrollTo(0,e)}},g=function(e){l.style.removeClass(e,"intro-active"),l.localStorage.setStorage("playerComparisonIntro",!0,90)},y=function(e,a){e.showIntro&&g(e),m(e),l.style.toggleClass(e,"modalActive")},_=function(e){let a="";switch(e){case"G":a="GKP";break;case"D":a="DEF";break;case"M":a="MID";break;case"F":a="FWD"}return a},b=function(e){let a=e,t=this,s=t.hasAttribute("checked");a.isRangeFilter=!0,a.selectedPlayerSlot=i(this,".player-comparison__player"),a.selectedPlayerSlotN=a.selectedPlayerSlot.getAttribute("data-player-slot");let r=a.selectedPlayerSlot.querySelector(".player-comparison__range-filter-wrap"),o=a.selectedPlayerSlot.querySelector("#dd-FOOTBALL_COMPSEASON_FROM"),n=r.getAttribute("data-player-id"),c=r.getAttribute("data-range-from"),d=r.getAttribute("data-range-to");a.selectedPlayerId=n;let p=a.selectedPlayerSlot.querySelector(".player-comparison__range-filter");s?(t.removeAttribute("checked"),l.style.toggleClass(p,"on"),a.isRangeFilterOn=!1,a.getPlayerData(a.selectedPlayerId,!0,c,d),o.innerHTML=a.seasonLabel):(t.setAttribute("checked",""),l.style.toggleClass(p,"on"),a.isRangeFilterOn=!0,a.getPlayerData(a.selectedPlayerId,!0,c,d),o.innerHTML=a.fromLabel)};e.playerComparison=function(e){let a=this;a.widget=e,a.widget<=0||(a.requestConfigFilters={},a.requestConfigSearch={},n(a.widget),a.modal=a.widget.querySelector(".player-comparison__modal"),a.initModal(a.modal),a.topBar=a.widget.querySelector(".player-comparison__players-top-bar"),function(e){let a={item:e,activeClass:"player-comparison__players-top-bar--fixed",offset:{desktop:115,tablet:210,tabletSm:260,mobile:250}};o(window,(function(){if(e.classList.contains("inactive"))return;let t=window.pageYOffset|document.body.scrollTop,s=a.offset.desktop;window.matchMedia("(min-width: 701px) and (max-width: 900px)").matches?s=a.offset.tablet:window.matchMedia("(min-width: 501px) and (max-width: 700px)").matches?s=a.offset.tabletSm:window.matchMedia("(max-width: 500px)").matches&&(s=a.offset.mobile),t>=s?(!a.item.classList.contains(a.activeClass)&&l.style.addClass(a.item,a.activeClass),l.style.addClass(a.item.parentElement,"is-fixed")):(a.item.classList.contains(a.activeClass)&&l.style.removeClass(a.item,a.activeClass),l.style.removeClass(a.item.parentElement,"is-fixed"))}),["scroll","resize"])}(a.topBar),a.accordion=a.widget.querySelector("[data-accordion]"),a.hasRenderPlayerInit=!1,a.renderOnPageLoadCounter=0,a.parseUrl(window.location),function(e){let a=document.querySelector(".notificationPromo--player-comparison");a&&e.appendChild(a)}(a.widget))},e.playerComparison.prototype.parseUrl=function(e){let a=this,t=function(e){let a,t=/\+/g,l=/([^&=]+)=?([^&]*)/g,s=e.search.substring(1),r=function(e){return decodeURIComponent(e.replace(t," "))},o={};for(;a=l.exec(s);)o[r(a[1])]=r(a[2]);return o}(e);if(t)for(let a in t)if(!t[a]||isNaN(t[a]))return void console.warn("Unsupported query string parameters",e.search);a.urlParams=t,a.renderOnPageLoad(a.urlParams)},e.playerComparison.prototype.renderOnPageLoad=function(e){let a=this;a.isPageLoadRender=!0;let t=a.topBar.querySelectorAll(".player-comparison__player");a.selectedPlayerSlot=t[a.renderOnPageLoadCounter],a.selectedPlayerId=e["player"+a.renderOnPageLoadCounter+"Id"],a.playerCompSeasonId=e["player"+a.renderOnPageLoadCounter+"compSeasonId"],a.getPlayerData(a.selectedPlayerId)},e.playerComparison.prototype.initPlayerRangeFilter=function(e){let a=this;a.seasonLabel=s.lookup("label.player.season"),a.fromLabel=s.lookup("label.fromseason"),a.isRangeFilterOn=!1,function(e,a){let t=a.querySelector(".player-comparison__checkbox");o(t,b.bind(t,e))}(a,e);let t=a.selectedPlayerSlot.querySelector(".js-secondary-filters");a.initFilter(t,!0);let l=function(){let e=i(this,".player-comparison__range-filter-wrap").getAttribute("data-player-id");a.selectedPlayerId=e,a.selectedPlayerSlot=i(this,".player-comparison__player"),a.selectedPlayerSlotN=a.selectedPlayerSlot.getAttribute("data-player-slot")},r=t.getElementsByClassName("dropDown");for(let e=0;e<r.length;e++)o(r[e],l.bind(r[e]))},e.playerComparison.prototype.searchPlayers=function(){let a=this;a.searchRequestConfig=a.searchRequestConfig||{};let t=function(){let e=0;return function(a,t){clearTimeout(e),e=setTimeout(a,t)}}();a.searchInput.onkeyup=function(l){let s=this;a.currentRequest&&a.currentRequest.stop(),t((function(){let t=s.value;a.currentSearchTerm=t,""!==a.currentSearchTerm?(a.requestConfigSearch.altIds=void 0,a.requestConfigSearch.compSeasons=void 0,a.requestConfigSearch.compCodeForActivePlayer=void 0,a.requestConfigSearch.fullObjectResponse=!0,a.requestConfigSearch.id=void 0,a.requestConfigSearch.page=void 0,a.requestConfigSearch.pageSize=void 0,a.requestConfigSearch.start=void 0,a.requestConfigSearch.size=r,a.requestConfigSearch.teams=void 0,a.searchPath=e.common.createSearchPath([a.currentSearchTerm,a.currentSearchTerm+"*"],["player"],a.requestConfigSearch),a.resultsNotice.innerHTML="",a.searchResultsContainer.innerHTML="",a.setResultsLoading(),a.initData(a.searchPath,a.modelSearchResults)):a.resetSearchTerms()}),250)}},e.playerComparison.prototype.resetSearchTerms=function(){let e=this;e.searchInput.value="",e.resultsNotice.innerHTML="",e.searchResultsContainer.innerHTML="",e.searchResultsLoader.removeLoader()},e.playerComparison.prototype.modelSearchResults=function(e){let a=Object.keys(e).reduce((function(a,t){if("hits"===t&&e[t].found>0){let l=[],s=e[t].hit;for(let e=0;e<s.length;e++)l.push(s[e].response);a={content:l,found:e[t].found}}return a}),{});this.renderFilteredResults(a,{},!0)},e.playerComparison.prototype.initModalFilters=function(){let e=this;if(e.hasModalFiltersInit)e.filterController.resetAll();else{e.hasModalFiltersInit=!0;let a=e.modal.querySelector(".player-comparison__filter");e.initFilter(a)}},e.playerComparison.prototype.initModal=function(a){let s=this;var r;s.hasModalFiltersInit=!1,s.resultsWrap=a.querySelector(".player-comparison__results-wrap"),s.filterResultsScroll=a.querySelector(".player-comparison__filter-results-scroll"),s.filterResultsWrap=s.filterResultsScroll.querySelector(".player-comparison__filter-results-wrap"),s.resultsContainer=s.filterResultsScroll.querySelector(".player-comparison__filter-results"),s.searchResultsScroll=a.querySelector(".player-comparison__search-results-scroll"),s.searchResultsWrap=s.searchResultsScroll.querySelector(".player-comparison__search-results-wrap"),s.resultsNotice=s.searchResultsWrap.querySelector(".js-search-results-notice"),s.searchResultsContainer=s.searchResultsWrap.querySelector(".player-comparison__search-results"),s.searchInput=a.querySelector(".player-comparison__search-input"),s.resultsTooltip=a.querySelector(".player-comparison__results-tooltip"),s.resultsTooltip&&(r=s.resultsTooltip,o(r,function(){this.remove()}.bind(r),["click"])),function(e,a){let s={tabItems:e.querySelectorAll("[data-ui-tab]"),activeClass:"active",tabLinkWrap:e.querySelector(".player-comparison__tabs-nav"),tabCallback:function(e){"Search"===e.config.current.title?l.style.addClass(a,"searchActive"):l.style.removeClass(a,"searchActive")},buildCallback:function(e){}};new t.tab(s)}(a,s.resultsWrap),s.searchPlayers(),function(e){let a=e.querySelector(".player-comparison__modal-screen"),t=e.querySelector(".close");o(a,(function(){e.showIntro?g(e):y(e)})),o(t,(function(){y(e)}))}(s.widget);let i=s.widget.querySelector('.player-comparison__player[data-player-slot="0"]');s.initAddPlayer(i),s.filterResultsLoader=new e.common.scrollLoader(s.filterResultsWrap,s,!0,s.filterResultsScroll),s.searchResultsLoader=new e.common.scrollLoader(s.searchResultsWrap,s,!0,s.searchResultsScroll)},e.playerComparison.prototype.initAddPlayer=function(e){let a=this;a.addPlayerBtns=[].slice.call(e.querySelectorAll("[data-add-player]"));let t=function(){a.isRangeFilter=!1,a.initModalFilters(),y(a.widget),a.selectedPlayerSlot=i(this,".player-comparison__player"),a.resetSearchTerms()};for(let e=0;e<a.addPlayerBtns.length;e++)o(a.addPlayerBtns[e],t.bind(a.addPlayerBtns[e]))},e.playerComparison.prototype.initFilter=function(a,t){let l=this,s=JSON.parse(JSON.stringify(e.filterGroups[a.getAttribute("data-filter-config")]));if(t&&a){let t=e.filterData.getCurrentCompSeasonId(e.competition.FIRST);return s[0].defaultOptionId=l.playerCompSeasonId,s[1].defaultOptionId=-1!=l.playerCompSeasonId?l.playerCompSeasonId:t,void(l.rangeFilterController=new e.common.listFilterController(a,{dropdowns:s,delegate:l}))}a&&(l.filterController=new e.common.listFilterController(a,{dropdowns:s,delegate:l}))},e.playerComparison.prototype.filterCleared=function(e){this.filterUpdated(e)},e.playerComparison.prototype.filterUpdated=function(a,t){let s=this;if(3===a.length?s.currentFilterCallback=s.renderFilteredResults:2===a.length?s.currentFilterCallback=s.getPlayerData:s.currentFilterCallback=s.renderPlayer,a.forEach((function(e){if(e.config&&e.config.apiParam){let a=t&&e.autoId&&e.autoId>0?e.autoId:e.state.id;s.requestConfigFilters[e.config.apiParam]=-1!=a?a:void 0}})),s.currentFilterCallback===s.renderFilteredResults){s.searchPath=void 0,-1==a[0].state.id?s.requestConfigFilters.comps=1:s.requestConfigFilters.comps=void 0,-1!=a[1].state.id?s.teamFromRequest=a[1].state.id:s.teamFromRequest=void 0,s.requestConfigFilters.altIds=void 0,s.requestConfigFilters.compCodeForActivePlayer="EN_PR",s.requestConfigFilters.id=void 0,s.requestConfigFilters.page=0,s.requestConfigFilters.pageSize=r,s.requestConfigFilters.size=void 0,s.resultsContainer.innerHTML="",s.setResultsLoading(),s.currentCompSeasonId=a[0].state.id;let t=e.common.createApiPath("players.all",s.requestConfigFilters);s.initData(t,s.currentFilterCallback)}if(s.currentFilterCallback===s.getPlayerData){let e=s.selectedPlayerSlot.querySelector(".player-comparison__range-filter-wrap"),t=a[0].state.id,r=a[1].state.id;e.setAttribute("data-range-from",t),e.setAttribute("data-range-to",r);let o=s.selectedPlayerSlot.querySelector(".player-comparison__range-filter"),i=s.selectedPlayerSlot.querySelector(".player-comparison__range-checkbox"),n=s.selectedPlayerSlot.querySelector(".player-comparison__checkbox");-1==t?o.classList.contains("on")?(b.call(n,s),l.style.addClass(i,"disabled")):l.style.addClass(i,"disabled"):l.style.removeClass(i,"disabled"),s.getPlayerData(s.selectedPlayerId,!0,t,r)}},e.playerComparison.prototype.initData=function(e,a){let t={url:e,method:"GET",callback:a,target:this,forceCallback:!0};this.startData(t)},e.playerComparison.prototype.startData=function(e){this.currentRequest=l.data.manager.add(e)},e.playerComparison.prototype.setResultsLoading=function(){let a=this,t=a.resultsWrap.classList.contains("searchActive"),l=a.searchInput.value.length>0;t&&l&&!a.searchResultsLoader.element?a.searchResultsLoader.reAppend():a.filterResultsLoader.element||a.filterResultsLoader.reAppend();let r=t&&l?a.searchResultsWrap.querySelector(".loader"):a.filterResultsWrap.querySelector(".loader");if(r&&!r.hasChildNodes()){let a=Mustache.render(e.templates.scrollloader,{load:s.lookup("label.loadingmore")});r.innerHTML=a}},e.playerComparison.prototype.didRequestLoad=function(){let a=this,t=a.resultsWrap.classList.contains("searchActive");if(a.resultsContainer.hasChildNodes()&&(!t||a.searchResultsContainer.hasChildNodes()))if(a.setResultsLoading(),t&&void 0!==a.searchPath)a.requestConfigSearch.start=isNaN(a.requestConfigSearch.start)?r:a.requestConfigSearch.start+r,a.searchPath=e.common.createSearchPath([a.currentSearchTerm,a.currentSearchTerm+"*"],["player"],a.requestConfigSearch),a.initData(a.searchPath,a.modelSearchResults);else{a.teamFromRequest&&(a.requestConfigFilters.teams=a.teamFromRequest),a.requestConfigFilters.altIds=void 0,a.requestConfigFilters.comps=void 0,a.requestConfigFilters.id=void 0,a.requestConfigFilters.pageSize=r,a.requestConfigFilters.size=void 0,a.requestConfigFilters.page++;let t=e.common.createApiPath("players.all",a.requestConfigFilters);a.initData(t,a.renderFilteredResults)}},e.playerComparison.prototype.getResultsModel=function(e){let a=this,t=[];if(e.content){t=e.content.filter((function(e){return void 0!==e})).map((function(e){let t={};return e&&(t.compSeasonId=a.currentCompSeasonId,t.id=e.id,t.name=e.name.display,t.position=_(e.info.position)),t}))}return{players:t}},e.playerComparison.prototype.renderFilteredResults=function(a,t,l){let i=this,n=l?i.searchResultsContainer:i.resultsContainer;if(a&&a.content){let t=i.getResultsModel(a);if(a.found){i.resultsNotice.innerHTML="";let e=a.found>1?s.lookup("label.results"):s.lookup("label.result"),t=document.createElement("span"),l=document.createTextNode(e);t.innerHTML=a.found,i.resultsNotice.appendChild(t),i.resultsNotice.appendChild(l)}let c=Mustache.render(e.templates.searchresults,t);i.requestConfigFilters.page>0||i.requestConfigSearch.start>0?n.innerHTML+=c:n.innerHTML=c;let d=function(){let e=this.getAttribute("data-player-id"),a=this.getAttribute("data-compseason-id");i.selectedPlayerId=e,i.playerCompSeasonId=a,y(i.widget),i.getPlayerData(i.selectedPlayerId)},p=n.querySelectorAll(".player-comparison__result");for(let e=0;e<p.length;e++)o(p[e],d.bind(p[e]));let u=l?i.searchResultsLoader:i.filterResultsLoader;u.contentLoaded(),(!u.loading&&a.content.length<=0||a.pageInfo&&1===a.pageInfo.numPages&&a.pageInfo.numEntries<=r||!a.pageInfo&&a.found<=r)&&u.removeLoader()}else{let a={label:s.lookup("label.nocontentplayer")};n.innerHTML=Mustache.render(e.templates.searchempty,a),i.searchResultsLoader.removeLoader()}},e.playerComparison.prototype.getPlayerData=function(a,t,l,s){let r=this;if(isNaN(a))return;r.requestConfigFilters.altIds=!0,r.requestConfigFilters.compCodeForActivePlayer="EN_PR",r.requestConfigFilters.comps=1,r.requestConfigFilters.id=parseInt(a),r.requestConfigFilters.fullObjectResponse=void 0,r.requestConfigFilters.page=0,r.requestConfigFilters.pageSize=1,r.requestConfigFilters.size=void 0,r.requestConfigFilters.teams=void 0,r.requestConfigFilters.compSeasons="-1"==l?void 0:l&&s?function(a,t,l){let s,r,o;if(!a.isRangeFilterOn)return t;let i=e.filterData.getAllCompSeasonIds(1).split(",");t<l?(s=Number(t),r=Number(l)):(s=Number(l),r=Number(t));let n=function(e){return e>=s&&e<=r};return o=s===r?s:i.filter(n),o}(r,l,s):r.playerCompSeasonId;let o=e.common.createApiPath("stats.player",r.requestConfigFilters),i=t?r.renderPlayerStats:r.renderPlayer;r.initData(o,i)},e.playerComparison.prototype.renderPlayerStats=function(a){let t=this,s=0,r=t.getPlayerModel(a).stats;for(let a in r){let o=r[a];if(!t.hasRenderPlayerInit){let a=t.topBar.querySelector(".inactive");a&&a.classList.contains("inactive")&&(t.initAddPlayer(a),l.style.removeClass(a,"inactive")),t.accordion.innerHTML+=Mustache.render(e.templates.playerstats,o)}let i=o.stats,n=t.accordion.querySelectorAll('[data-player-slot="'+t.selectedPlayerSlotN+'"]');n[s].innerHTML="";for(let a in i)!t.defaultStats.indexOf(a)>=0&&t.defaultStats.push(a),n[s].innerHTML+=Mustache.render(e.templates.playerstat,i[a]);s++}t.hasRenderPlayerInit||function(e){let a=e.querySelectorAll(c);for(let e=0;e<a.length;e++){let t=a[e].querySelector(p);o(t,u.bind(t))}}(t.accordion),l.style.removeClass(t.topBar,"inactive"),t.compareStats(),t.resetAccordions(),t.hasRenderPlayerInit=!0,t.isPageLoadRender&&0===t.renderOnPageLoadCounter?(t.renderOnPageLoadCounter++,t.renderOnPageLoad(t.urlParams)):t.isPageLoadRender=!1},e.playerComparison.prototype.getPlayerModel=function(t){let l={id:t.entity.id,imageSize:"110x140",image:e.common.getDefaultPlayerImg("110x140"),labelChangeBtn:s.lookup("label.playercomparison.change"),labelCheckbox:s.lookup("label.showseasonrange"),labelFor:s.lookup("label.photofor"),name:t.entity.name.display,firstName:a.splitDisplayName(t.entity.name.display).first,lastName:a.splitDisplayName(t.entity.name.display).last,optaId:t.entity.altIds.opta,position:_(t.entity.info.position),slot:this.selectedPlayerSlot.getAttribute("data-player-slot"),isActive:t.entity.active,svgBgMarkup:'<svg class="player-comparison__svg-decoration" viewBox="450 50 500 100" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">\n                        <defs>\n                            <linearGradient id="svg-gradient-var" x1="671.5" y1="-2543.5" x2="2774.42" y2="-903.522" gradientUnits="userSpaceOnUse">\n                                <stop offset="32.55%" stop-color="#444"></stop>\n                                <stop offset="64.38%" stop-color="#000"></stop>\n                            </linearGradient>\n                        </defs>\n                        <path d="M1476.18 343.773C1417.62 314.292 1359.88 282.402 1303.25 247.956H1370.01C1238.91 168.211 1113.73 74.8191 997.693 -33.3461H1053.33C1037.45 -48.144 1021.68 -63.1311 1006.15 -78.4882C930.279 -153.539 860.623 -232.469 797.157 -314.639H841.666C772.051 -404.776 709.962 -498.833 655.282 -595.941H688.664C637.256 -687.236 592.418 -781.22 554.223 -877.242H576.478C543.418 -960.341 515.278 -1044.94 492.109 -1130.61L520.117 -1158.54C554.586 -1062.74 595.542 -968.768 642.869 -877.242H620.615C670.679 -780.455 727.914 -686.422 792.377 -595.941H758.995C829.022 -497.649 907.547 -403.542 994.602 -314.639H950.093C959.003 -305.547 967.971 -296.487 977.054 -287.501C1073.1 -192.49 1175.92 -107.911 1283.7 -33.3378H1228.07C1356.01 55.1788 1490.99 129.53 1630.08 190.268L1476.18 343.781V343.773ZM1448.17 371.708C1309.06 310.97 1174.09 236.619 1046.15 148.102H1101.78C994.008 73.5283 891.194 -11.0503 795.138 -106.062C786.055 -115.047 777.079 -124.107 768.177 -133.199H812.686C725.63 -222.103 647.106 -316.21 577.079 -414.501H610.461C545.997 -504.982 488.763 -599.007 438.699 -695.803H460.953C413.618 -787.328 372.67 -881.304 338.201 -977.104L310.193 -949.169C333.362 -863.505 361.502 -778.901 394.562 -695.803H372.307C410.51 -599.78 455.349 -505.796 506.748 -414.501H473.366C528.046 -317.393 590.143 -223.336 659.75 -133.199H615.241C678.707 -51.0295 748.363 27.9094 824.233 102.952C839.762 118.309 855.529 133.296 871.412 148.094H815.776C931.82 256.25 1057 349.651 1188.1 429.395H1121.34C1177.97 463.842 1235.71 495.731 1294.26 525.212L1448.17 371.7V371.708ZM1812 8.81189C1672.89 -51.9257 1537.93 -126.277 1409.98 -214.794H1465.62C1357.84 -289.368 1255.03 -373.946 1158.97 -468.958C1149.89 -477.943 1140.91 -487.003 1132.01 -496.096H1176.52C1089.46 -584.999 1010.94 -679.105 940.911 -777.397H974.293C909.83 -867.878 852.595 -961.903 802.531 -1058.7H824.785C777.45 -1150.22 736.502 -1244.2 702.033 -1340L674.025 -1312.06C697.194 -1226.4 725.334 -1141.8 758.394 -1058.7H736.139C774.342 -962.676 819.181 -868.692 870.58 -777.397H837.198C891.878 -680.289 953.975 -586.232 1023.58 -496.096H979.073C1042.54 -413.926 1112.19 -334.987 1188.07 -259.944C1203.59 -244.587 1219.36 -229.6 1235.24 -214.802H1179.61C1295.65 -106.645 1420.83 -13.2455 1551.93 66.4993H1485.17C1541.8 100.946 1599.54 132.835 1658.09 162.316L1812 8.80359V8.81189ZM901.983 916.487C762.877 855.75 627.91 781.398 499.964 692.882H555.6C447.823 618.308 345.009 533.729 248.953 438.718C239.87 429.732 230.894 420.673 221.992 411.58H266.501C179.445 322.677 100.921 228.57 30.8943 130.279H64.2756C-0.187485 39.7971 -57.4221 -54.2277 -107.486 -151.023H-85.2316C-132.567 -242.548 -173.515 -336.524 -207.984 -432.324L-236 -404.381C-212.831 -318.717 -184.692 -234.114 -151.632 -151.015H-173.886C-135.683 -54.9922 -90.8447 38.9915 -39.4456 130.287H-72.827C-18.1475 227.395 43.9501 321.452 113.556 411.588H69.0479C132.514 493.758 202.169 572.697 278.04 647.74C293.568 663.097 309.336 678.084 325.219 692.882H269.583C385.627 801.038 510.803 894.438 641.905 974.183H575.142C631.775 1008.63 689.513 1040.52 748.066 1070L901.975 916.487H901.983ZM1265.81 553.592C1126.71 492.854 991.742 418.502 863.796 329.986H919.432C811.655 255.412 708.841 170.833 612.785 75.822C603.702 66.8364 594.726 57.7767 585.824 48.6842H630.333C543.277 -40.2189 464.753 -134.326 394.726 -232.617H428.108C363.645 -323.099 306.41 -417.124 256.346 -513.919H278.6C231.265 -605.444 190.317 -699.42 155.848 -795.22L127.84 -767.285C151.009 -681.621 179.149 -597.018 212.209 -513.919H189.954C228.157 -417.896 272.996 -323.913 324.395 -232.617H291.013C345.693 -135.51 407.79 -41.452 477.397 48.6842H432.888C496.354 130.854 566.01 209.793 641.88 284.835C657.409 300.192 673.176 315.18 689.059 329.978H633.424C749.467 438.134 874.643 531.534 1005.75 611.279H938.983C995.616 645.725 1053.35 677.615 1111.91 707.096L1265.81 553.583V553.592ZM1083.9 735.04C944.793 674.302 809.826 599.95 681.88 511.434H737.516C629.739 436.86 526.925 352.281 430.869 257.27C421.786 248.284 412.81 239.225 403.908 230.132H448.417C361.361 141.229 282.837 47.1221 212.81 -51.1694H246.192C181.729 -141.651 124.494 -235.676 74.4301 -332.471H96.6844C49.3488 -423.996 8.401 -517.972 -26.0683 -613.772L-54.0757 -585.837C-30.9066 -500.173 -2.76733 -415.57 30.2926 -332.471H8.03833C46.2414 -236.448 91.0796 -142.465 142.479 -51.1694H109.097C163.777 45.9382 225.874 139.996 295.481 230.132H250.972C314.438 312.302 384.094 391.241 459.964 466.283C475.493 481.641 491.26 496.627 507.143 511.425H451.508C567.551 619.582 692.727 712.982 823.829 792.727H757.067C813.699 827.173 871.437 859.063 929.99 888.544L1083.9 735.031V735.04Z" fill="url(#svg-gradient-var)"></path>\n                    </svg>'},r={overview:{label:s.lookup("label.stat.overview"),stats:{appearances:{key:"appearances",label:s.lookup("label.stat.appearances"),value:0},goals:{key:"goals",label:s.lookup("label.stat.goals"),value:0},goal_assist:{key:"goal_assist",label:s.lookup("label.stat.assists"),value:0},clean_sheet:{key:"clean_sheet",label:s.lookup("label.stat.clean_sheet"),value:0},saves:{key:"saves",label:s.lookup("label.stat.saves"),value:0},yellow_card:{key:"yellow_card",label:s.lookup("label.stat.total_yel_card"),value:0},red_card:{key:"red_card",label:s.lookup("label.stat.total_red_card"),value:0}}},attacking:{label:s.lookup("label.stat.attacking"),stats:{goals:{key:"goals",label:s.lookup("label.stat.goals"),value:0},goals_per_game:{key:"goals_per_game",label:s.lookup("label.stat.goals_per_game"),value:0},min_per_goal:{key:"min_per_goal",label:s.lookup("label.stat.min_per_goal"),value:0},total_scoring_att:{key:"total_scoring_att",label:s.lookup("label.stat.total_scoring_att"),value:0},ontarget_scoring_att:{key:"ontarget_scoring_att",label:s.lookup("label.stat.ontarget_scoring_att"),value:0},shot_off_target:{key:"shot_off_target",label:s.lookup("label.stat.shot_off_target"),value:0},shooting_accuracy:{key:"shooting_accuracy",label:s.lookup("label.stat.shooting_accuracy"),value:0},shooting_success:{key:"shooting_success",label:s.lookup("label.stat.shooting_success"),value:0},att_pen_goal:{key:"att_pen_goal",label:s.lookup("label.stat.att_pen_goal"),value:0},penalty_save:{key:"penalty_save",label:s.lookup("label.stat.penalty_save"),value:0},pen_missed:{key:"pen_missed",label:s.lookup("label.stat.pen_missed"),value:0},penalty_won:{key:"penalty_won",label:s.lookup("label.stat.penalty_won"),value:0},att_freekick_goal:{key:"att_freekick_goal",label:s.lookup("label.stat.att_freekick_goal"),value:0},att_rf_goal:{key:"att_rf_goal",label:s.lookup("label.stat.att_rf_goal"),value:0},att_lf_goal:{key:"att_lf_goal",label:s.lookup("label.stat.att_lf_goal"),value:0},att_hd_goal:{key:"att_hd_goal",label:s.lookup("label.stat.att_hd_goal"),value:0},att_ibox_goal:{key:"att_ibox_goal",label:s.lookup("label.stat.att_ibox_goal"),value:0},att_obox_goal:{key:"att_obox_goal",label:s.lookup("label.stat.att_obox_goal"),value:0},hit_woodwork:{key:"hit_woodwork",label:s.lookup("label.stat.hit_woodwork"),value:0},big_chance_scored:{key:"big_chance_scored",label:s.lookup("label.stat.big_chance_scored"),value:0},big_chance_missed:{key:"big_chance_missed",label:s.lookup("label.stat.big_chance_missed"),value:0}}},teamplay:{label:s.lookup("label.stat.teamplay"),stats:{goal_assist:{key:"goal_assist",label:s.lookup("label.stat.goal_assist"),value:0},big_chance_created:{key:"big_chance_created",label:s.lookup("label.stat.big_chance_created"),value:0},total_pass:{key:"total_pass",label:s.lookup("label.stat.total_pass"),value:0},passes_completion_per:{key:"passes_completion_per",label:s.lookup("label.stat.passes_completion_per"),value:0},fwd_pass:{key:"fwd_pass",label:s.lookup("label.stat.forward_pass"),value:0},backward_pass:{key:"backward_pass",label:s.lookup("label.stat.backward_pass"),value:0},touches:{key:"touches",label:s.lookup("label.stat.touches"),value:0},total_through_ball:{key:"total_through_ball",label:s.lookup("label.stat.total_through_ball"),value:0},total_cross:{key:"total_cross",label:s.lookup("label.stat.total_cross"),value:0},dispossessed:{key:"dispossessed",label:s.lookup("label.stat.dispossessed"),value:0}}},defending:{label:s.lookup("label.stat.defending"),stats:{clean_sheet:{key:"clean_sheet",label:s.lookup("label.stat.clean_sheet"),value:0},goals_conceded:{key:"goals_conceded",label:s.lookup("label.stat.goals_conceded"),value:0},outfielder_block:{key:"outfielder_block",label:s.lookup("label.stat.outfielder_block"),value:0},interception:{key:"interception",label:s.lookup("label.stat.interception"),value:0},total_tackle:{key:"total_tackle",label:s.lookup("label.stat.total_tackle"),value:0},won_tackle:{key:"won_tackle",label:s.lookup("label.stat.won_tackle"),value:0},last_man_tackle:{key:"last_man_tackle",label:s.lookup("label.stat.last_man_tackle"),value:0},total_clearance:{key:"total_clearance",label:s.lookup("label.stat.total_clearance"),value:0},head_clearance:{key:"head_clearance",label:s.lookup("label.stat.head_clearance"),value:0},aerial_won:{key:"aerial_won",label:s.lookup("label.stat.aerial_won"),value:0},own_goals:{key:"own_goals",label:s.lookup("label.stat.own_goals"),value:0},error_lead_to_goal:{key:"error_lead_to_goal",label:s.lookup("label.stat.error_lead_to_goal"),value:0},penalty_conceded:{key:"penalty_conceded",label:s.lookup("label.stat.penalty_conceded"),value:0}}},goalkeeping:{label:s.lookup("label.goalkeeping"),stats:{clean_sheet:{key:"clean_sheet",label:s.lookup("label.stat.clean_sheet"),value:0},goals_conceded:{key:"goals_conceded",label:s.lookup("label.stat.goals_conceded"),value:0},saves:{key:"saves",label:s.lookup("label.stat.saves"),value:0},saves_per_match:{key:"saves_per_match",label:s.lookup("label.stat.saves_per_match"),value:0},saves_success:{key:"saves_success",label:s.lookup("label.stat.saves_success"),value:0},penalty_faced:{key:"penalty_faced",label:s.lookup("label.stat.penalty_faced"),value:0},penalty_save:{key:"penalty_save",label:s.lookup("label.stat.penalty_save"),value:0},punches:{key:"punches",label:s.lookup("label.stat.punches"),value:0},total_high_claim:{key:"total_high_claim",label:s.lookup("label.stat.total_high_claim"),value:0},total_keeper_sweeper:{key:"total_keeper_sweeper",label:s.lookup("label.stat.total_keeper_sweeper"),value:0},keeper_throws:{key:"keeper_throws",label:s.lookup("label.stat.keeper_throws"),value:0}}},matches:{label:s.lookup("label.stat.matches"),stats:{appearances:{key:"appearances",label:s.lookup("label.stat.appearances"),value:0},mins_played:{key:"mins_played",label:s.lookup("label.stat.mins_played"),value:0},game_started:{key:"game_started",label:s.lookup("label.stat.game_started"),value:0},total_sub_on:{key:"total_sub_on",label:s.lookup("label.stat.total_sub_on"),value:0},total_sub_off:{key:"total_sub_off",label:s.lookup("label.stat.total_sub_off"),value:0},total_distance_in_m:{key:"total_distance_in_m",label:s.lookup("label.stat.total_distance_in_m"),value:0},distance_per_match:{key:"distance_per_match",label:s.lookup("label.stat.distance_per_match"),value:0}}},discipline:{label:s.lookup("label.stats.Discipline"),stats:{yellow_card:{key:"yellow_card",label:s.lookup("label.stat.total_yel_card"),value:0},red_card:{key:"red_card",label:s.lookup("label.stat.total_red_card"),value:0},fouls:{key:"fouls",label:s.lookup("label.stat.fouls"),value:0},penalty_conceded:{key:"penalty_conceded",label:s.lookup("label.stat.penalty_conceded"),value:0},total_offside:{key:"total_offside",label:s.lookup("label.stat.total_offside"),value:0}}}},o="";if(t.stats.reduce((function(e,a){if("appearances"===a.name&&(r.overview.stats.appearances.value=a.value),"goals"===a.name&&(r.overview.stats.goals.value=a.value),"goal_assist"===a.name&&(r.overview.stats.goal_assist.value=a.value),"clean_sheet"===a.name&&(r.overview.stats.clean_sheet.value=a.value),"saves"===a.name&&(r.overview.stats.saves.value=a.value),"yellow_card"===a.name&&(r.overview.stats.yellow_card.value=a.value),"red_card"===a.name&&(r.overview.stats.red_card.value=a.value),"goals"===a.name&&(r.attacking.stats.goals.value=a.value),"total_scoring_att"===a.name&&(r.attacking.stats.total_scoring_att.value=a.value),"ontarget_scoring_att"===a.name&&(r.attacking.stats.ontarget_scoring_att.value=a.value),"shot_off_target"===a.name&&(r.attacking.stats.shot_off_target.value=a.value),"att_pen_goal"===a.name&&(r.attacking.stats.att_pen_goal.value=a.value),"penalty_save"===a.name&&(r.attacking.stats.penalty_save.value=a.value),"penalty_won"===a.name&&(r.attacking.stats.penalty_won.value=a.value),"att_freekick_goal"===a.name&&(r.attacking.stats.att_freekick_goal.value=a.value),"att_rf_goal"===a.name&&(r.attacking.stats.att_rf_goal.value=a.value),"att_lf_goal"===a.name&&(r.attacking.stats.att_lf_goal.value=a.value),"att_hd_goal"===a.name&&(r.attacking.stats.att_hd_goal.value=a.value),"att_ibox_goal"===a.name&&(r.attacking.stats.att_ibox_goal.value=a.value),"att_obox_goal"===a.name&&(r.attacking.stats.att_obox_goal.value=a.value),"hit_woodwork"===a.name&&(r.attacking.stats.hit_woodwork.value=a.value),"big_chance_scored"===a.name&&(r.attacking.stats.big_chance_scored.value=a.value),"big_chance_missed"===a.name&&(r.attacking.stats.big_chance_missed.value=a.value),"goal_assist"===a.name&&(r.teamplay.stats.goal_assist.value=a.value),"big_chance_created"===a.name&&(r.teamplay.stats.big_chance_created.value=a.value),"total_pass"===a.name&&(r.teamplay.stats.total_pass.value=a.value.toLocaleString()),"fwd_pass"===a.name&&(r.teamplay.stats.fwd_pass.value=a.value.toLocaleString()),"backward_pass"===a.name&&(r.teamplay.stats.backward_pass.value=a.value.toLocaleString()),"touches"===a.name&&(r.teamplay.stats.touches.value=a.value.toLocaleString()),"total_through_ball"===a.name&&(r.teamplay.stats.total_through_ball.value=a.value),"total_cross"===a.name&&(r.teamplay.stats.total_cross.value=a.value),"dispossessed"===a.name&&(r.teamplay.stats.dispossessed.value=a.value),"accurate_pass"===a.name&&(o=a.value),"clean_sheet"===a.name&&(r.defending.stats.clean_sheet.value=a.value),"goals_conceded"===a.name&&(r.defending.stats.goals_conceded.value=a.value),"outfielder_block"===a.name&&(r.defending.stats.outfielder_block.value=a.value),"interception"===a.name&&(r.defending.stats.interception.value=a.value),"total_tackle"===a.name&&(r.defending.stats.total_tackle.value=a.value),"won_tackle"===a.name&&(r.defending.stats.won_tackle.value=a.value),"last_man_tackle"===a.name&&(r.defending.stats.last_man_tackle.value=a.value),"total_clearance"===a.name&&(r.defending.stats.total_clearance.value=a.value),"head_clearance"===a.name&&(r.defending.stats.head_clearance.value=a.value),"aerial_won"===a.name&&(r.defending.stats.aerial_won.value=a.value),"own_goals"===a.name&&(r.defending.stats.own_goals.value=a.value),"error_lead_to_goal"===a.name&&(r.defending.stats.error_lead_to_goal.value=a.value),"penalty_conceded"===a.name&&(r.defending.stats.penalty_conceded.value=a.value),"clean_sheet"===a.name&&(r.goalkeeping.stats.clean_sheet.value=a.value),"goals_conceded"===a.name&&(r.goalkeeping.stats.goals_conceded.value=a.value),"saves"===a.name&&(r.goalkeeping.stats.saves.value=a.value),"penalty_save"===a.name&&(r.goalkeeping.stats.penalty_save.value=a.value),"penalty_faced"===a.name&&(r.goalkeeping.stats.penalty_faced.value=a.value),"punches"===a.name&&(r.goalkeeping.stats.punches.value=a.value),"total_high_claim"===a.name&&(r.goalkeeping.stats.total_high_claim.value=a.value),"total_keeper_sweeper"===a.name&&(r.goalkeeping.stats.total_keeper_sweeper.value=a.value),"keeper_throws"===a.name&&(r.goalkeeping.stats.keeper_throws.value=a.value),"appearances"===a.name&&(r.matches.stats.appearances.value=a.value),"mins_played"===a.name&&(r.matches.stats.mins_played.value=a.value.toLocaleString()),"game_started"===a.name&&(r.matches.stats.game_started.value=a.value),"total_sub_on"===a.name&&(r.matches.stats.total_sub_on.value=a.value),"total_sub_off"===a.name&&(r.matches.stats.total_sub_off.value=a.value),"total_distance_in_m"===a.name){let e=a.value/1e3;r.matches.stats.total_distance_in_m.value=e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}return"yellow_card"===a.name&&(r.discipline.stats.yellow_card.value=a.value),"red_card"===a.name&&(r.discipline.stats.red_card.value=a.value),"fouls"===a.name&&(r.discipline.stats.fouls.value=a.value),"penalty_conceded"===a.name&&(r.discipline.stats.penalty_conceded.value=a.value),"total_offside"===a.name&&(r.discipline.stats.total_offside.value=a.value),e}),r),0!=r.overview.stats.appearances.value&&0!=r.overview.stats.goals.value){let e=parseInt(r.overview.stats.goals.value)/parseInt(r.overview.stats.appearances.value);r.attacking.stats.goals_per_game.value=e.toFixed(2)}if(0!=r.matches.stats.mins_played.value&&0!=r.overview.stats.goals.value){let e=parseInt(r.matches.stats.mins_played.value.replace(/\,/g,""))/parseInt(r.overview.stats.goals.value);r.attacking.stats.min_per_goal.value=Math.ceil(e).toLocaleString()}if(0!=r.attacking.stats.ontarget_scoring_att.value&&0!=r.attacking.stats.shot_off_target.value){let e=parseInt(r.attacking.stats.ontarget_scoring_att.value),a=parseInt(r.attacking.stats.shot_off_target.value),t=parseInt(e)/(e+a)*100;r.attacking.stats.shooting_accuracy.value=t.toFixed(2)}if(0!=r.attacking.stats.total_scoring_att.value&&0!=r.overview.stats.goals.value){let e=parseInt(r.overview.stats.goals.value)/parseInt(r.attacking.stats.total_scoring_att.value)*100;r.attacking.stats.shooting_success.value=e.toFixed(2)}if(""!=o&&0!=o&&0!=r.teamplay.stats.total_pass.value){let e=r.teamplay.stats.total_pass.value.replace(/\,/g,""),a=parseInt(o)/parseInt(e)*100;r.teamplay.stats.passes_completion_per.value=a.toFixed(2)}if(0!=r.overview.stats.appearances.value&&0!=r.goalkeeping.stats.saves.value){let e=parseInt(r.goalkeeping.stats.saves.value)/parseInt(r.overview.stats.appearances.value);r.goalkeeping.stats.saves_per_match.value=e.toFixed(2)}if(0!=r.goalkeeping.stats.goals_conceded.value&&0!=r.goalkeeping.stats.saves.value){let e=r.goalkeeping.stats.saves.value/(r.goalkeeping.stats.goals_conceded.value+r.goalkeeping.stats.saves.value)*100;r.goalkeeping.stats.saves_success.value=e.toFixed(2)}if(0!=r.overview.stats.appearances.value&&0!=r.matches.stats.total_distance_in_m.value){let e=r.matches.stats.total_distance_in_m.value.replace(/\,/g,""),a=parseFloat(e)/parseInt(r.overview.stats.appearances.value);r.matches.stats.distance_per_match.value=a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}return{card:l,stats:r}},e.playerComparison.prototype.getClubInfo=function(a){let t=this;t.requestConfig={id:a,altIds:!0};let s={url:e.common.createApiPath("players.history",t.requestConfig),method:"GET",callback:t.renderClubInfo.bind(t,a),target:this};l.data.manager.add(s)},e.playerComparison.prototype.renderClubInfo=function(e,t){let l=this;const s=t.currentTeam?.altIds?.opta,r=l.widget.querySelector(`.js-club-badge-image-${e}`),o=a.getClubBadge(s,"25"),i=`${o}, ${a.getClubBadge(s,"25",!0)} 2x`;r&&(r.src=o||"",r.srcset=i||"");const n=l.widget.querySelector(`.js-club-name-${e}`),c=l.widget.querySelector(`.js-club-name-mobile-${e}`),d=t.currentTeam?.shortName,p=t.currentTeam?.club.abbr;n&&(n.innerHTML=d||"",c.innerHTML=p||"");l.widget.querySelector(`.js-player-comparison-card-${e}`).classList.add(s)},e.playerComparison.prototype.renderPlayer=function(a){let t=this;if(t.defaultStats=[],t.selectedPlayerSlotN=t.selectedPlayerSlot.getAttribute("data-player-slot"),a&&a.stats){let l=t.getPlayerModel(a),s=l.card;t.selectedPlayerSlot.innerHTML=Mustache.render(e.templates.playercard,s);l.stats;t.getClubInfo(l.card.id),e.common.getPhotosForContainer(t.selectedPlayerSlot),t.initPlayerRangeFilter(t.selectedPlayerSlot),t.initAddPlayer(t.selectedPlayerSlot),t.currentRequest.stop()}},e.playerComparison.prototype.compareStats=function(){let e=this;if(!e.hasRenderPlayerInit)return;let a=[].slice.call(e.accordion.querySelectorAll('[data-player-slot="0"]')),t=[].slice.call(e.accordion.querySelectorAll('[data-player-slot="1"]')),s=["big_chance_missed","dispossessed","goals_conceded","min_per_goal","shot_off_target","red_card","yellow_card","penalty_conceded","total_sub_off","total_offside","fouls"],r=function(e){for(let r=0;r<a.length;r++){let o=a[r].querySelector('[data-stat="'+e+'"]'),i=t[r].querySelector('[data-stat="'+e+'"]');if(null!=o&&null!=i){let a=o.getAttribute("data-stat-val"),t=i.getAttribute("data-stat-val");if(l.style.removeClass(o,"highlight"),l.style.removeClass(i,"highlight"),a=parseFloat(a.replace(/\,/g,"")),t=parseFloat(t.replace(/\,/g,"")),a===t)continue;(s.indexOf(e)>=0?a<t:a>t)?(l.style.addClass(o,"highlight"),l.style.removeClass(i,"highlight")):(l.style.removeClass(o,"highlight"),l.style.addClass(i,"highlight"))}}},o=e.defaultStats;for(let e=0;e<o.length;e++)r(o[e])},e.playerComparison.prototype.resetAccordions=function(){let e=this;if(!e.isRangeFilter){e.accordionBtns=e.accordionBtns||e.accordion.getElementsByClassName("player-comparison__stats-group-header");for(let a=0;a<e.accordionBtns.length;a++)0===a&&e.accordionBtns[0].classList.contains("active")||e.accordionBtns[a].classList.contains("active")&&u.call(e.accordionBtns[a]);e.setAccordionsDefaultState(),m(e.widget)}},e.playerComparison.prototype.setAccordionsDefaultState=function(){let e=this;e.accordionBtns=e.accordionBtns||e.accordion.getElementsByClassName("player-comparison__stats-group-header");let a=e.accordionBtns[0];a.classList.contains("active")||u.call(a)};e.filterGroups.setData((function(){let a=document.querySelector('[data-widget="player-comparison"]')||[];new e.playerComparison(a)}))}(PULSE.app,PULSE.app.common,PULSE.ui,PULSE.core,PULSE.I18N),function(e,a,t,l,s){e.playerComparisonWidget=function(e){let a=this;a.widget=e,a.widgetData={},a.getCompSeasonData()},e.playerComparisonWidget.prototype.getCompSeasonData=function(){let a={id:e.competition.FIRST,pageSize:50},t={url:e.common.createApiPath("competition.season",a),method:"GET",callback:this.storeCompSeason,target:this};l.data.manager.add(t)},e.playerComparisonWidget.prototype.storeCompSeason=function(e){let a=this;e&&e.content?a.seasonData=e.content:a.seasonData=null,a.getDataModel()},e.playerComparisonWidget.prototype.getCompSeasonLabel=function(e){let a,t=this;if(t.seasonData){let l=t.seasonData;for(let t=0;t<l.length;t++)if(l[t].id===e){a=l[t].label.slice(-9);break}}return a},e.playerComparisonWidget.prototype.getDataModel=function(){let a=this,t=a.widget.querySelectorAll("[data-player-model]");for(let e=0;e<t.length;e++){let l=t[e].getAttribute("data-player-model"),s=JSON.parse(l);if(s.seasonLabel=a.getCompSeasonLabel(s.seasonId),0!=s.appearances&&0!=s.goals){let e=parseInt(s.goals)/parseInt(s.appearances);s.goals_per_game=e.toFixed(2)}else s.goals_per_game=0;if(0!=s.goals_conceded&&0!=s.saves){let e=parseInt(s.saves)/(parseInt(s.goals_conceded)+parseInt(s.saves))*100;s.saves_success=e.toFixed(2)}else s.saves_success=0;a.widgetData["player"+e]=s}a.widgetData.labels={appearances:s.lookup("label.stat.appearances"),assists:s.lookup("label.stat.goal_assist"),big_chance_created:s.lookup("label.stat.big_chance_created"),btn:s.lookup("label.fullplayercomparison"),clean_sheet:s.lookup("label.stat.clean_sheet"),clearances:s.lookup("label.stat.total_clearance"),goals:s.lookup("label.stat.goals"),goals_conceded:s.lookup("label.stat.goals_conceded"),goalsPerGame:s.lookup("label.stat.goals_per_game"),name:s.lookup("label.name"),passes:s.lookup("label.stat.total_pass"),photoFor:s.lookup("label.photofor"),saves:s.lookup("label.stat.saves"),saves_success:s.lookup("label.stat.saves_success"),season:s.lookup("label.player.season"),shots:s.lookup("label.stat.total_scoring_att"),tackles:s.lookup("label.stat.total_tackle")};let l=a.widgetData.player0,r=a.widgetData.player1;a.widgetData.btnUrl="/stats/player-comparison?player0Id="+l.id+"&player0isActive="+l.isActive+"&player0compSeasonId="+l.seasonId+"&player1Id="+r.id+"&player1isActive="+r.isActive+"&player1compSeasonId="+r.seasonId,a.widgetData.placeholderSrc=e.common.getDefaultPlayerImg("110x140"),a.renderWidget(a.widgetData)},e.playerComparisonWidget.prototype.renderWidget=function(t){let l=this,s=l.widget.querySelectorAll(".js-player-widget"),r=s[0].getAttribute("data-player-pos"),o=s[1].getAttribute("data-player-pos");l.widgetData.player0.firstName=a.splitDisplayName(l.widgetData.player0.name).first,l.widgetData.player0.lastName=a.splitDisplayName(l.widgetData.player0.name).last,l.widgetData.player0.playerUrl=a.generateContentUrl("player",l.widgetData.player0.id,l.widgetData.player0.name.replace(new RegExp(" ","g"),"-")),l.widgetData.player1.playerUrl=a.generateContentUrl("player",l.widgetData.player1.id,l.widgetData.player1.name.replace(new RegExp(" ","g"),"-")),l.widgetData.player1.firstName=a.splitDisplayName(l.widgetData.player1.name).first,l.widgetData.player1.lastName=a.splitDisplayName(l.widgetData.player1.name).last,l.widgetData.player0.positionAbbr=a.constants.playerPositions[l.widgetData.player0.position],l.widgetData.player1.positionAbbr=a.constants.playerPositions[l.widgetData.player1.position],l.widgetData.svgBgMarkup='<svg class="player-comparison-editorial__svg-decoration" viewBox="450 50 500 100" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">\n                                            <defs>\n                                                <linearGradient id="svg-gradient-var" x1="671.5" y1="-2543.5" x2="2774.42" y2="-903.522" gradientUnits="userSpaceOnUse">\n                                                    <stop offset="32.55%" stop-color="#444"></stop>\n                                                    <stop offset="64.38%" stop-color="#000"></stop>\n                                                </linearGradient>\n                                            </defs>\n                                            <path d="M1476.18 343.773C1417.62 314.292 1359.88 282.402 1303.25 247.956H1370.01C1238.91 168.211 1113.73 74.8191 997.693 -33.3461H1053.33C1037.45 -48.144 1021.68 -63.1311 1006.15 -78.4882C930.279 -153.539 860.623 -232.469 797.157 -314.639H841.666C772.051 -404.776 709.962 -498.833 655.282 -595.941H688.664C637.256 -687.236 592.418 -781.22 554.223 -877.242H576.478C543.418 -960.341 515.278 -1044.94 492.109 -1130.61L520.117 -1158.54C554.586 -1062.74 595.542 -968.768 642.869 -877.242H620.615C670.679 -780.455 727.914 -686.422 792.377 -595.941H758.995C829.022 -497.649 907.547 -403.542 994.602 -314.639H950.093C959.003 -305.547 967.971 -296.487 977.054 -287.501C1073.1 -192.49 1175.92 -107.911 1283.7 -33.3378H1228.07C1356.01 55.1788 1490.99 129.53 1630.08 190.268L1476.18 343.781V343.773ZM1448.17 371.708C1309.06 310.97 1174.09 236.619 1046.15 148.102H1101.78C994.008 73.5283 891.194 -11.0503 795.138 -106.062C786.055 -115.047 777.079 -124.107 768.177 -133.199H812.686C725.63 -222.103 647.106 -316.21 577.079 -414.501H610.461C545.997 -504.982 488.763 -599.007 438.699 -695.803H460.953C413.618 -787.328 372.67 -881.304 338.201 -977.104L310.193 -949.169C333.362 -863.505 361.502 -778.901 394.562 -695.803H372.307C410.51 -599.78 455.349 -505.796 506.748 -414.501H473.366C528.046 -317.393 590.143 -223.336 659.75 -133.199H615.241C678.707 -51.0295 748.363 27.9094 824.233 102.952C839.762 118.309 855.529 133.296 871.412 148.094H815.776C931.82 256.25 1057 349.651 1188.1 429.395H1121.34C1177.97 463.842 1235.71 495.731 1294.26 525.212L1448.17 371.7V371.708ZM1812 8.81189C1672.89 -51.9257 1537.93 -126.277 1409.98 -214.794H1465.62C1357.84 -289.368 1255.03 -373.946 1158.97 -468.958C1149.89 -477.943 1140.91 -487.003 1132.01 -496.096H1176.52C1089.46 -584.999 1010.94 -679.105 940.911 -777.397H974.293C909.83 -867.878 852.595 -961.903 802.531 -1058.7H824.785C777.45 -1150.22 736.502 -1244.2 702.033 -1340L674.025 -1312.06C697.194 -1226.4 725.334 -1141.8 758.394 -1058.7H736.139C774.342 -962.676 819.181 -868.692 870.58 -777.397H837.198C891.878 -680.289 953.975 -586.232 1023.58 -496.096H979.073C1042.54 -413.926 1112.19 -334.987 1188.07 -259.944C1203.59 -244.587 1219.36 -229.6 1235.24 -214.802H1179.61C1295.65 -106.645 1420.83 -13.2455 1551.93 66.4993H1485.17C1541.8 100.946 1599.54 132.835 1658.09 162.316L1812 8.80359V8.81189ZM901.983 916.487C762.877 855.75 627.91 781.398 499.964 692.882H555.6C447.823 618.308 345.009 533.729 248.953 438.718C239.87 429.732 230.894 420.673 221.992 411.58H266.501C179.445 322.677 100.921 228.57 30.8943 130.279H64.2756C-0.187485 39.7971 -57.4221 -54.2277 -107.486 -151.023H-85.2316C-132.567 -242.548 -173.515 -336.524 -207.984 -432.324L-236 -404.381C-212.831 -318.717 -184.692 -234.114 -151.632 -151.015H-173.886C-135.683 -54.9922 -90.8447 38.9915 -39.4456 130.287H-72.827C-18.1475 227.395 43.9501 321.452 113.556 411.588H69.0479C132.514 493.758 202.169 572.697 278.04 647.74C293.568 663.097 309.336 678.084 325.219 692.882H269.583C385.627 801.038 510.803 894.438 641.905 974.183H575.142C631.775 1008.63 689.513 1040.52 748.066 1070L901.975 916.487H901.983ZM1265.81 553.592C1126.71 492.854 991.742 418.502 863.796 329.986H919.432C811.655 255.412 708.841 170.833 612.785 75.822C603.702 66.8364 594.726 57.7767 585.824 48.6842H630.333C543.277 -40.2189 464.753 -134.326 394.726 -232.617H428.108C363.645 -323.099 306.41 -417.124 256.346 -513.919H278.6C231.265 -605.444 190.317 -699.42 155.848 -795.22L127.84 -767.285C151.009 -681.621 179.149 -597.018 212.209 -513.919H189.954C228.157 -417.896 272.996 -323.913 324.395 -232.617H291.013C345.693 -135.51 407.79 -41.452 477.397 48.6842H432.888C496.354 130.854 566.01 209.793 641.88 284.835C657.409 300.192 673.176 315.18 689.059 329.978H633.424C749.467 438.134 874.643 531.534 1005.75 611.279H938.983C995.616 645.725 1053.35 677.615 1111.91 707.096L1265.81 553.583V553.592ZM1083.9 735.04C944.793 674.302 809.826 599.95 681.88 511.434H737.516C629.739 436.86 526.925 352.281 430.869 257.27C421.786 248.284 412.81 239.225 403.908 230.132H448.417C361.361 141.229 282.837 47.1221 212.81 -51.1694H246.192C181.729 -141.651 124.494 -235.676 74.4301 -332.471H96.6844C49.3488 -423.996 8.401 -517.972 -26.0683 -613.772L-54.0757 -585.837C-30.9066 -500.173 -2.76733 -415.57 30.2926 -332.471H8.03833C46.2414 -236.448 91.0796 -142.465 142.479 -51.1694H109.097C163.777 45.9382 225.874 139.996 295.481 230.132H250.972C314.438 312.302 384.094 391.241 459.964 466.283C475.493 481.641 491.26 496.627 507.143 511.425H451.508C567.551 619.582 692.727 712.982 823.829 792.727H757.067C813.699 827.173 871.437 859.063 929.99 888.544L1083.9 735.031V735.04Z" fill="url(#svg-gradient-var)"></path>\n                                        </svg>';let i="";switch(r+o){case"DD":l.widgetData.stat1=l.widgetData.labels.clean_sheet,l.widgetData.stat2=l.widgetData.labels.goals_conceded,l.widgetData.stat3=l.widgetData.labels.tackles,l.widgetData.stat4=l.widgetData.labels.clearances,l.widgetData.player0Stat1=l.widgetData.player0.clean_sheet,l.widgetData.player0Stat2=l.widgetData.player0.goals_conceded,l.widgetData.player0Stat3=l.widgetData.player0.total_tackle,l.widgetData.player0Stat4=l.widgetData.player0.total_clearance,l.widgetData.player1Stat1=l.widgetData.player1.clean_sheet,l.widgetData.player1Stat2=l.widgetData.player1.goals_conceded,l.widgetData.player1Stat3=l.widgetData.player1.total_tackle,l.widgetData.player1Stat4=l.widgetData.player1.total_clearance,i=Mustache.render(e.templates.playercomparison,t);break;case"DM":case"MD":l.widgetData.stat1=l.widgetData.labels.goals,l.widgetData.stat2=l.widgetData.labels.assists,l.widgetData.stat3=l.widgetData.labels.clean_sheet,l.widgetData.stat4=l.widgetData.labels.passes,l.widgetData.player0Stat1=l.widgetData.player0.goals,l.widgetData.player0Stat2=l.widgetData.player0.goal_assist,l.widgetData.player0Stat3=l.widgetData.player0.clean_sheet,l.widgetData.player0Stat4=l.widgetData.player0.total_pass,l.widgetData.player1Stat1=l.widgetData.player1.goals,l.widgetData.player1Stat2=l.widgetData.player1.goal_assist,l.widgetData.player1Stat3=l.widgetData.player1.clean_sheet,l.widgetData.player1Stat4=l.widgetData.player1.total_pass,i=Mustache.render(e.templates.playercomparison,t);break;case"GG":l.widgetData.stat1=l.widgetData.labels.saves,l.widgetData.stat2=l.widgetData.labels.saves_success,l.widgetData.stat3=l.widgetData.labels.clean_sheet,l.widgetData.stat4=l.widgetData.labels.goals_conceded,l.widgetData.player0Stat1=l.widgetData.player0.saves,l.widgetData.player0Stat2=l.widgetData.player0.saves_success,l.widgetData.player0Stat3=l.widgetData.player0.clean_sheet,l.widgetData.player0Stat4=l.widgetData.player0.goals_conceded,l.widgetData.player1Stat1=l.widgetData.player1.saves,l.widgetData.player1Stat2=l.widgetData.player1.saves_success,l.widgetData.player1Stat3=l.widgetData.player1.clean_sheet,l.widgetData.player1Stat4=l.widgetData.player1.goals_conceded,i=Mustache.render(e.templates.playercomparison,t);break;case"MM":l.widgetData.stat1=l.widgetData.labels.goals,l.widgetData.stat2=l.widgetData.labels.assists,l.widgetData.stat3=l.widgetData.labels.big_chance_created,l.widgetData.stat4=l.widgetData.labels.passes,l.widgetData.player0Stat1=l.widgetData.player0.goals,l.widgetData.player0Stat2=l.widgetData.player0.goal_assist,l.widgetData.player0Stat3=l.widgetData.player0.big_chance_created,l.widgetData.player0Stat4=l.widgetData.player0.total_pass,l.widgetData.player1Stat1=l.widgetData.player1.goals,l.widgetData.player1Stat2=l.widgetData.player1.goal_assist,l.widgetData.player1Stat3=l.widgetData.player1.big_chance_created,l.widgetData.player1Stat4=l.widgetData.player1.total_pass,i=Mustache.render(e.templates.playercomparison,t);break;default:l.widgetData.stat1=l.widgetData.labels.goals,l.widgetData.player0Stat1=l.widgetData.player0.goals,l.widgetData.player0Stat2=l.widgetData.player0.goals_per_game,l.widgetData.stat2=l.widgetData.labels.goalsPerGame,l.widgetData.player0Stat3=l.widgetData.player0.total_scoring_att,l.widgetData.player0Stat4=l.widgetData.player0.goal_assist,l.widgetData.stat3=l.widgetData.labels.shots,l.widgetData.player1Stat1=l.widgetData.player1.goals,l.widgetData.player1Stat2=l.widgetData.player1.goals_per_game,l.widgetData.stat4=l.widgetData.labels.assists,l.widgetData.player1Stat3=l.widgetData.player1.total_scoring_att,l.widgetData.player1Stat4=l.widgetData.player1.goal_assist,i=Mustache.render(e.templates.playercomparison,t)}l.widget.innerHTML=i,l.getClubInfo(l.widgetData.player0.id,0),l.getClubInfo(l.widgetData.player1.id,1),l.renderPlayerPhotos(),l.compareStats()},e.playerComparisonWidget.prototype.getClubInfo=function(a,t){let s=this;s.requestConfig={id:a,comps:e.competition.FIRST,altIds:!0};let r={url:e.common.createApiPath("players.history",s.requestConfig),method:"GET",callback:s.renderClubInfo.bind(s,t),target:this};l.data.manager.add(r)},e.playerComparisonWidget.prototype.renderClubInfo=function(e,t){let l=this;const s=t.currentTeam?.altIds?.opta,r=l.widget.querySelector(`.js-club-badge-${e}`),o=a.getClubBadge(s,"25"),i=`${o}, ${a.getClubBadge(s,"25",!0)} 2x`;r&&(r.src=o||"",r.srcset=i||"");const n=l.widget.querySelector(`.js-club-name-${e}`),c=l.widget.querySelector(`.js-club-name-mobile-${e}`),d=t.currentTeam?.shortName,p=t.currentTeam?.club.abbr;n&&(n.innerHTML=d||"",c.innerHTML=p||"");l.widget.querySelector(`.js-team-id-player-${e}`).classList.add(s)},e.playerComparisonWidget.prototype.renderPlayerPhotos=function(){let a=this.widget.querySelectorAll(".player-comparison-editorial__player-img-wrap");for(let t=0;t<a.length;t++)e.common.getPhotosForContainer(a[t])},e.playerComparisonWidget.prototype.compareStats=function(){let e=this,a=[],t=e.widget.querySelectorAll("[data-stat]");for(var s=0;s<t.length;s++){let e=t[s].getAttribute("data-stat");!a.indexOf("stat")>=0&&a.push(e)}let r=["goals_conceded"],o=function(a){let t=e.widget.querySelectorAll('[data-stat="'+a+'"]');if(null!=t[0]&&null!=t[1]){let e=t[0].getAttribute("data-stat-val"),s=t[1].getAttribute("data-stat-val"),o=function(e,a){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){let a=(this.document||this.ownerDocument).querySelectorAll(e),t=a.length;for(;--t>=0&&a.item(t)!==this;);return t>-1});e&&e!==document;e=e.parentNode)if(e.matches(a))return e;return null}(t[0],".player-comparison-editorial__table-row");if(0===e||0===s)return;if(e=parseFloat(e.replace(/\,/g,"")),s=parseFloat(s.replace(/\,/g,"")),e===s)return;(r.indexOf(a)>=0?e<s:e>s)?(l.style.addClass(t[0],"highlight"),l.style.addClass(o,"highlight"),l.style.addClass(o,"highlight--left")):(l.style.addClass(t[1],"highlight"),l.style.addClass(o,"highlight"),l.style.addClass(o,"highlight--right"))}};if(a.length>0)for(s=0;s<a.length;s++)o(a[s])};!function(){let a=document.querySelectorAll('[data-widget="player-comparison-widget"]')||[];for(let t=0;t<a.length;t++)new e.playerComparisonWidget(a[t])}()}(PULSE.app,PULSE.app.common,PULSE.ui,PULSE.core,PULSE.I18N),function(e,a,t,l){e.records=function(e){let a=this;a.element=e,a.filterContainer=a.element.querySelector(".js-records-filter-container"),a.record=a.element.querySelector(".js-records-article"),a.recordElements=a.record.childNodes,a.recordSections=a.element.querySelectorAll(".js-records-section"),a.filterDropdown=a.element.querySelector(".js-records-filter"),a.addFilterTags()},e.records.prototype.constructFilters=function(){let e=this,a="";a+='<li class="btn btn-highlight records__filter-btn js-records-filter-btn "data-label="'+l.lookup("label.all")+'" data-filter="all" tabindex="0" role="button">'+l.lookup("label.all")+"</li>",Array.prototype.forEach.call(e.recordSections,(function(e){let t=e.getAttribute("data-record");a+='<li class="btn records__filter-btn js-records-filter-btn" data-label="'+t+'" data-filter="'+t+'" tabindex="0" role="button">'+t+"</li>"})),e.filterContainer.innerHTML=a,e.filterButtons=e.element.querySelectorAll(".js-records-filter-btn"),Array.prototype.forEach.call(e.filterButtons,(function(a){["keypress","click"].forEach((function(l){a.addEventListener(l,(function(a){if(13===a.which||"click"===a.type){Array.prototype.forEach.call(e.filterButtons,(function(e){t.style.removeClass(e,"btn-highlight")}));let l=a.currentTarget.getAttribute("data-filter");e.filterItems(l),t.style.addClass(a.currentTarget,"btn-highlight")}}))}))}))},e.records.prototype.filterItems=function(e){let a=this;Array.prototype.forEach.call(a.recordElements,(function(l){"all"===e?(t.style.hasClass(l,"u-hide")&&t.style.removeClass(l,"u-hide"),t.style.addClass(a.record,"records__article--has-columns")):l.innerHTML&&(t.style.addClass(l,"u-hide"),t.style.removeClass(a.record,"records__article--has-columns"),l.getAttribute("data-record")===e&&t.style.removeClass(l,"u-hide"))}))},e.records.prototype.addFilterTags=function(){let e,a=this.element.querySelector(".js-records-article").childNodes;Array.prototype.forEach.call(a,(function(a){a.innerHTML&&(a.getAttribute("data-record")?e=a.getAttribute("data-record"):e&&a.setAttribute("data-record",e))})),this.constructFilters()};let s=document.querySelectorAll('[data-widget="records"]');Array.prototype.map.call(s,(function(a){a=new e.records(a)}))}(PULSE.app,PULSE.app.common,PULSE.core,PULSE.I18N,PULSE.app.templates),function(e,a,t,l,s){e.statsTable=function(a,l){let r=this;r.element=a,r.type=a.getAttribute("data-type"),r.requestConfig={},r.requestConfig.page=a.getAttribute("data-page"),r.requestConfig.pageSize=a.getAttribute("data-page-size"),r.requestConfig.statistic=function(){let e=window.location.pathname.split("?")[0].split("/");return e[e.length-1]}(),r.requestConfig.compSeasons=a.getAttribute("data-comp-seasons")||-1,r.requestConfig.comps=a.getAttribute("data-comps")||1,r.type.startsWith("player")?("player-pl2"===r.type||"player-u18"===r.type?r.template="playeryouth":r.template="player",r.requestConfig.compCodeForActivePlayer=e.defaultCompCode,r.requestConfig.teams=a.getAttribute("data-teams")||-1,r.requestConfig.nationalities=a.getAttribute("data-nationalities")||-1,r.requestConfig.positions=a.getAttribute("data-positons")||-1):"team-pl2"===r.type||"team-u18"===r.type?r.template="teamyouth":r.template="team",r.requestConfig.altIds=!0,r.numEntries=a.getAttribute("data-num-entries"),r.currentSize=a.getAttribute("data-current-size"),r.filterControllerElement=r.element.querySelector("section.pageFilter"),r.filterControllerElement&&(r.filterController=new e.common.listFilterController(r.filterControllerElement,{dropdowns:e.filterGroups[r.filterControllerElement.getAttribute("data-filter-config")][r.type],delegate:r})),r.topStatsFilterDropdown=r.element.getElementsByClassName("topStatsFilterDropdown"),r.topStatsFilterDropdown&&r.topStatsFilterDropdown.length>0&&(t.dropdown(r.topStatsFilterDropdown[0]),r.topStatsLinks=r.topStatsFilterDropdown[0].getElementsByClassName("topStatsLink")),r.paginationContainer=r.element.querySelector(".paginationContainer"),r.statsTableContainer=r.element.getElementsByClassName("statsTableContainer");let o=r.element.getElementsByClassName("currentStatContainer");o&&o.length>0&&(r.currentStatContainer=o[0]);let i=a.getAttribute("data-stat");r.differentStats=!1,i!=r.requestConfig.statistic?(r.differentStats=!0,r.currentStatContainer.innerHTML=s.lookup("label.stat."+r.requestConfig.statistic)):r.initPagination(),r.statsDropdown=r.element.querySelector(".js-stats-dropdown"),r.filtersHeader=r.filterControllerElement.querySelector(".js-mobile-header"),r.filtersHeader.after(r.statsDropdown),r.reorderStatsButton=r.element.querySelector(".js-reorder-stats-button"),r.setListeners()},e.statsTable.prototype.setListeners=function(){let e=this;e.reorderStatsButton.addEventListener("click",(function(a){l.style.toggleClass(e.reorderStatsButton,"asc"),e.requestConfig.sort?e.requestConfig.sort=void 0:e.requestConfig.sort="asc",e.requestConfig.page=0,e.initData()}))},e.statsTable.prototype.updateOtherLinks=function(){let e=this;e.topStatsFilterDropdown&&e.topStatsFilterDropdown.length>0&&e.filterController&&e.filterController.hasUrlUpdate()&&e.topStatsLinks&&e.topStatsLinks.length>0&&Array.prototype.map.call(e.topStatsLinks,(function(e){let a=e.href.split("?")[0],t=window.location.href.split("?");t.length>1&&(a=a+"?"+t[1]),e.href=a}))},e.statsTable.prototype.filterUpdated=function(e,a,t){let l=this,s=!1;e.map((function(e){if(e.config&&e.config.apiParam){let t=a&&e.autoId&&e.autoId>0?e.autoId:e.state.id;(l.requestConfig[e.config.apiParam]!=t||l.differentStats&&a)&&(s=!0),l.requestConfig[e.config.apiParam]=-1!=t?t:void 0}})),(s||t)&&(l.requestConfig.page=0,l.pagination=void 0,l.filterController.setPageLoading(l,l.statsTableContainer[0]),l.initData()),l.updateOtherLinks()},e.statsTable.prototype.filterCleared=function(e){let a=this,t=!1;a.requestConfig.sort&&(t=!0),a.requestConfig.sort=void 0,a.filterUpdated(e,!1,t)},e.statsTable.prototype.initPagination=function(){let t=this;if(!t.pagination&&t.paginationContainer){let l={page:t.requestConfig.page,pageSize:t.requestConfig.pageSize,numEntries:t.numEntries,currentSize:t.currentSize};t.pagination=new a.pagination(t.paginationContainer,{pageInfo:l,callback:t.getPage,target:t,paginationTemplate:e.templates.pagination})}else t.pagination&&t.pagination.updateCurrentSize(t.currentSize)},e.statsTable.prototype.getPage=function(e){this.requestConfig.page=e.page,this.initData()},e.statsTable.prototype.initData=function(a){let t=this,l="";switch(t.type){case"player":case"player-pl2":case"player-u18":l="stats.ranked.players";break;case"team":case"team-pl2":case"team-u18":l="stats.ranked.teams"}let s={url:e.common.createApiPath(l,t.requestConfig),method:"GET",callback:t.renderTable,target:this,forceCallback:!0};this.startData(s)},e.statsTable.prototype.startData=function(e){l.data.manager.add(e)},e.statsTable.prototype.renderTable=function(a){let r=this;if(a&&a.stats&&a.stats.content&&a.stats.content.length>0&&r.statsTableContainer&&r.statsTableContainer.length>0){let s=a.stats.content,o="";s.forEach((function(s,i){(s=function(e,a){switch(a){case"player":case"player-pl2":case"player-u18":e.owner&&(e.url=t.generateContentUrl(a,e.owner.id)),e.owner&&e.owner.nationalTeam&&Object.keys(e.owner.nationalTeam).length>0?e.country=e.owner.nationalTeam:e.owner&&e.owner.birth&&e.owner.birth.country&&Object.keys(e.owner.birth.country).length>0&&(e.country=e.owner.birth.country),e.owner&&e.owner.currentTeam&&e.owner.active?e.team={url:t.generateContentUrl("team",e.owner.currentTeam.club.id,e.owner.currentTeam.club.name.replace(new RegExp(" ","g"),"-")),opta:e.owner.currentTeam.altIds.opta,clubBadge:t.getClubBadge(e.owner.currentTeam.altIds.opta,"25"),clubBadgeRetina:t.getClubBadge(e.owner.currentTeam.altIds.opta,"25",!0),name:e.owner.currentTeam.name}:e.altteam="-";break;case"team":case"team-pl2":case"team-u18":e.optaId=e.owner&&e.owner.altIds&&e.owner.altIds.opta?e.owner.altIds.opta:void 0,e.clubBadge=t.getClubBadge(e.optaId,"25"),e.clubBadgeRetina=t.getClubBadge(e.optaId,"25",!0)}return e.owner&&(e.url=t.generateContentUrl(a,e.owner.id)),e.value&&(e.value=l.common.commafy(e.value)),e.rowClass="",e}(s,r.type,0,a.stats.pageInfo.page)).index=parseInt(r.requestConfig.pageSize)*parseInt(r.requestConfig.page)+i+1,o+=Mustache.render(e.templates[r.template],s)})),r.statsTableContainer[0].innerHTML=o,e.clubBadge(r.statsTableContainer[0],!0),a.stats.pageInfo.numEntries&&(r.numEntries=a.stats.pageInfo.numEntries),r.currentSize=s.length,r.initPagination(),r.type.startsWith("player")&&t.getPhotosForContainer(r.statsTableContainer[0])}else r.statsTableContainer&&r.statsTableContainer.length>0&&(r.statsTableContainer[0].innerHTML=Mustache.render(e.templates.nostatstable,{label:s.lookup("label.nostats")}))};e.filterGroups.setData((function(){let a=document.querySelectorAll('[data-widget="stats-table"]');a=Array.prototype.map.call(a,(function(a){return new e.statsTable(a,{})}))}))}(PULSE.app,PULSE.ui,PULSE.app.common,PULSE.core,PULSE.I18N),function(e){e.topStatsHeader=function(e,a){const t=this;t.element=e,t.headerId=e.getAttribute("data-header-id");const l=document.querySelectorAll('[data-stat-header="'+t.headerId+'"]');l&&l.length>0?Array.prototype.forEach.call(l,(function(e){const a=document.createElement("li");a.appendChild(e),t.element.appendChild(a)})):t.element.remove()};const a=document.querySelectorAll('[data-widget="top-stats-header"]');for(let t=0;t<a.length;t++)new e.topStatsHeader(a[t],{})}(PULSE.app,PULSE.ui);